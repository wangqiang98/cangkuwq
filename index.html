<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-day52" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/12/day52/" class="article-date">
  <time datetime="2020-09-12T05:49:45.000Z" itemprop="datePublished">2020-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/12/day52/">day52</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>随着Spring 体系的不断庞大，加上现代互联网应用体积庞大，构建一个应用还是非常困难的，Spring 团队重新打造了一个新的面向微服务的框架Spring Boot。</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/springboot_logo.png" alt></p>
<p>严格来说<strong>Spring Boot不能是一个框架，它更是一个方案</strong>，Spring 工程的快速上手方案，它极大的降低了Java Web工程的创建和运行和部署的难度。在过去这些都是Java工程师的老大难，所以说Spring Boot的出<br>现就立马一统江湖了。②<br><strong>Spring Boot的核心还是Spring</strong>(所以你也无需单独去管理Spring 的Maven依赖），只是多了一些工程化的方案:<br>. 比如说Java Web容器的嵌入集成（所以有了Spring Boot，就不再<br>需要额外部署Tomcat 这类服务器啦)，Spring Boot 默认集成了<br>Tomcat。<br>. Spring Boot 还自定义了工程打包格式，通过这个直接就把一个Java<br>Web工程转化成普通的Java工程，启动一个main方法就可以把<br>. Spring工程启动起来，所以这也极大的降低了开发难度。<br>Spring Boot默认集成了你能想到的第三方框架和服务，比如数据库<br>连接、NoSQL、安全等等，开发者再也不用关心复杂的Maven依赖<br>了，开箱即用</p>
<p> . Spring Boot 还提供了标准的属性配置文件，支持应用的参数动态配<br>置，这也让代码运行更加的灵活强大。</p>
<p>总之spring Boot让Java更容易，让Java更流行，这是一个巨大的贡献。它完全颠覆了过去很多人对Java的认知，因为开发Java Web 变的格外容易，在Spring Boot出现之后，开发一个网站、API及其的容易，<br>这是一个巨大的进步。每个Java工程师都应该必须掌握它。Spring Boot 还有很多其他特性，我们会慢慢了解它。spring Boot版本更新比较快，所以选择最新的即可，现在最新的是2.2.x版本,一般我们会选用RELEASE版本。</p>
<h4 id="创建Spring-Boot工程"><a href="#创建Spring-Boot工程" class="headerlink" title="创建Spring Boot工程"></a>创建Spring Boot工程</h4><p>现在让我们创建一个Spring Boot的工程，官方提供了一个网站<br><a href="https://start.spring.io/可以直接创建，大家可以观看下面的视频。在之" target="_blank" rel="noopener">https://start.spring.io/可以直接创建，大家可以观看下面的视频。在之</a><br>后的课程里，我们默认帮助大家创建好了Spring Boot工程。</p>
<p>注意:仔细看视频的操作，创建工程的时候还需要选择Web依赖哦，选择了Web就会自动集成好了Web服务容器，要不然会出问题的哦</p>
<h4 id="运行Spring-Boot工程"><a href="#运行Spring-Boot工程" class="headerlink" title="运行Spring Boot工程"></a>运行Spring Boot工程</h4><p>现在我们在演示一下运行Spring Boot工程的效果，注意Spring Boot默认集成了Web，所以可以通过网页访问的哦<br>为了让程序可以被网络可以访问(真实的互联网网络)，我们在云端做了动态的服务部署，所以访问的方式和普通网站—样</p>
<h1 id="Spring-Controller-入门"><a href="#Spring-Controller-入门" class="headerlink" title="Spring Controller 入门"></a>Spring Controller 入门</h1><p>通过Spring Boot，我们就已经快速的搞定了Spring MVC工程。所以<br>我们开始正式的去学习Spring MVC啦! Spring MVC是Java Web的—种实现框架(Java Web有好些个实现框架，我们不用管其他的)再啰嗦一下，Java Web的规范就是Servlet 技术，所以所有的JavaWeb 都实现了Servlet API的定义我们终于到了Java技术最关键的里程碑啦，由此开启Java Web之路!!!</p>
<p><strong>理解 Web 服务</strong></p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/springmvc1.svg" alt></p>
<p>基本上所有的网页加载都是这样的一个过程。在Spring Boot方案里，<br>一个网页请求到了服务器后，首先我们进入的是Java Web服务器，然<br>后进入到Spring Boot应用，最后匹配到某一个Spring Controller<br>(这其实也是一个Spring Bean)，然后路由到具体某一个Bean的方<br>法，执行完后返回结果，输出到客户端来。<br>从这个流程里可以看出，其实我们只要掌握Spring Controller就可以自己提供Web服务啦</p>
<p>Spring Controller 技术有三个核心点:<br>Bean的配置:Controller注解运用<br>网络资源的加载:加载网页<br>网址路由的配置:RequestMapping 注解运用</p>
<ol>
<li>Controller注解<br>Spring Controller本身也是一个Spring Bean,只是它多提供了Web能<br>力。我们只需要在类上提供一个@Controller注解就可以啦</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如.上面代码所示，这就是一-个Spring Controller,注意这个注解别忘记添<br>加，很多新手经常漏掉了<br>我们前面说过Spring大多数是基于接口开发的，但是没有接口也是可<br>以工作的。Spring Controller -般情况下不需要特意实现接口</p>
<p>以工作的。Spring Controller一般情况下不需要特意实现接[</p>
<h4 id="2-加载网页"><a href="#2-加载网页" class="headerlink" title="2.加载网页"></a>2.加载网页</h4><p>在Spring Boot 应用中，-般把网页存放在 src/main/resources/static 绿下，如下图</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/hellohtml.png" alt></p>
<p>在controller中，会自动加载static下的html内容，所以通过Spring<br>Boot建设网站也非常简单</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意看_上面的代码的say方法,<br>●i.定义返回类型为String<br>●ii.| <strong>return “hello. html</strong>“返回的是html文件路径<br>当执行这段代码的时候，Spring Boot实际加载的是<br><strong>src/main/ resources/static/hello. html</strong>文件<br>我们前面学习过，resouces 属于classpath类型的文件，Spring Boot很<br>强大，自动帮我们做了加载，所以我们只需要写hello.html 即可<br>「注意， 文件路径不需要额外添加static 哦<br>我们看一下hello.html文件</p>
<h4 id="2-1-static-子目录"><a href="#2-1-static-子目录" class="headerlink" title="2.1 static 子目录"></a>2.1 static 子目录</h4><p>前面我们说过return语句返回的是static目录下的文件，现在如果我们的<br>html文件存放在s<strong>rc/main/resources/static/html/hello. html</strong></p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/hello.html2.png" alt></p>
<p>那么我们的代码应该是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"html/hello.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>RequestMapping注解<br>学过Java网络的同学应该知道HTTP URL (网址)的规范,之前我们看<br>到的都是从浏览器或者客户端去请求URL,那么从Web服务端角度去看<br>呢?<br>对于Web服务器来说，必须要实现的一个能力就是解析URL,并提供资源内容给调用者。这个过程一般我们称为<strong>路由</strong>。<br>路由这个概念最早应该是来源于路由器，这个涉及到计算机网络系统了，超出我们的理解，大家暂时就不要去关联理解啦<br>Spring MVC完美的支持了路由能力，组简化了路由配置，只需要在需<br>要提供Web访问的方法上添加一一个<strong>@RequestMapping</strong> 注解就可以完成<br>配置啦,比如</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"html/hello.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后还有一个规范需要大家知道，-般情况下， 我们会把controller 类存放在 <strong>control</strong>子包里，比如我们这里的<strong>fm. douban. app . control</strong></p>
<h2 id="Spring-Controller-代码案例"><a href="#Spring-Controller-代码案例" class="headerlink" title="Spring Controller 代码案例"></a>Spring Controller 代码案例</h2><p>增加fm. douban.app. control. SongListControl参考课程例子，在SongListControl类中增加index方法<br>。index 方法返回的内容为html/songList. html<br>。index 方法的RequestMapping值为songlist</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.app.control;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"> <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="Get-Request-一"><a href="#Get-Request-一" class="headerlink" title="Get Request(一)"></a>Get Request(一)</h1><p>在Http网络当中，最常用的两个协议是<br>●get<br>●post .<br>平常我们浏览网站、看视频、看图片使用的都是get协议,现在让我们看一下如何使用 Spring MVC支持Http服务端get协议<br>实际上， 上节课我们学习到的技术就是get协议<br>通过get协议,我们可以动态的渲染网页,在上节课的基础上我们还需要掌握get请求参数的解析,通过获取参数我们可以获取完成特定的代码逻辑<br>●比如我们访问<a href="https://www" target="_blank" rel="noopener">https://www</a>. baidu. com/s ?wd=test，我们可以得到如下的内容</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/baidu1.png" alt></p>
<p>大家应该发现同一个网址<a href="https://www" target="_blank" rel="noopener">https://www</a>. baidu.com/s，只是换了参数值，内容显示就不同了，这项技术就是URL参数解析，这也是get request必须要掌握的能力如果对网址的格式不太熟悉，可以看下图</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/url.svg" alt></p>
<h4 id="获取Http-URL参数"><a href="#获取Http-URL参数" class="headerlink" title="获取Http URL参数"></a>获取Http URL参数</h4><p>每个Http URL都可以设定自定义的参数，就像上面百度URL中的wd一样,这个就是百度自定义的<br><strong>需求</strong><br>现在我们自定义一下歌单的参数,我们希望可以根据歌单参数访问到不同的歌单页面。<br>如果要解决这个需求，我们需要先定义一个能够表达歌单的参数。前面定义歌单领域模型的时候，我们知道歌单的id是可以索引到唯一一个歌单的， 所以我们可以用这个参数来作为URL参数,那么结合之前的课程，我们的歌单URL应该是这样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//域名/songlist?id=xxxx</span></span><br></pre></td></tr></table></figure>

<p>如果你在本地电脑开发，那可能是这样的的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//localhost:8080/songlist?id=xxxx</span></span><br></pre></td></tr></table></figure>

<p>优课达学习平台自动做了域名的处理，所以大家运行完程<br>后，可以通过特定的域名访问你的程序</p>
<h2 id="定义参数"><a href="#定义参数" class="headerlink" title="定义参数"></a>定义参数</h2><p>在Spring MVC中，定义一个URL参数也非常重要,只需要<br>我们在方法上面添加对应的参数和参数注解就可以了，可以<br>看一下下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">( @RequestParam(<span class="string">"id"</span>)</span> String id)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码也很简单,大家可以仔细看看，我们在之前代码的<br>基础上添加了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span>(<span class="string">"id"</span>) String id</span><br></pre></td></tr></table></figure>

<p>请注意RequestParam注解的参数”id”这个值必须要和URL的param key- -样哦，因为我们在urI中定义的是id,所.以这里写id。<br>如果我们的访问URL是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//域名/songlist?listId=xxxx</span></span><br></pre></td></tr></table></figure>

<p>那么代码应该是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">( @RequestParam(<span class="string">"listId"</span>)</span> String id)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>大家注意这个要求哦，很多新手经常在这里放错误<strong>RequestParam注解的包路径</strong>是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.web.bind.annotation.RequestParam</span><br></pre></td></tr></table></figure>

<p>于Spring MVC的注解都是在<br><strong>org. springframework. web . bind . annotation</strong>包内，</p>
<p>所以我们import的时候，直接用<br><strong>import org. springframework.web. bind. annotation.*;</strong>了，这样省却了很多导入的工作e<br>现在我们演示一下程序，大家注意看看浏览器的网址哦。为了测试，我们的URL是:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//xxx.agent.youkeda.com/songlist?id=38672180</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.app.control;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">( @RequestParam(<span class="string">"id"</span>)</span> String id )</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"url 传递的id参数："</span>+id);    </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这说明，我们确实从URL里获取到了id参数值啦。需要注意的是默认情况下，URL的参数传递到服务器端都<br>是变成字符串的，所以使用String来获取参数值肯定没问题.</p>
<h2 id="操作参数"><a href="#操作参数" class="headerlink" title="操作参数"></a>操作参数</h2><p>现在我们完善一下代码逻辑， 我们都知道访问不同的歌单网<br>址,打开的就是不同的歌单页面，所以在这里，我们模拟一<br>下行为，根据歌单id选择页面<br>由于我们还没有学习动态渲染页面，所以这里我们就硬编<br>码两个HTML页面作为不同的歌单页面<br>在上面代码的基础上，我们添加一一个分支:如果没有找到歌<br>单则显示404页面<br>-般找不到内容的页面都是404错误页面，这个是规范</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">( @RequestParam(<span class="string">"id"</span>)</span> String id)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"38672180"</span>.equals(id))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"html/404.html"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么我们应该访问到的是404错误页面啦,我们运行看看我们在工程里已经创建 了一个简单的404.html啦<br>现在我们改成这个URL运行调用看看</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.app.control;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">( @RequestParam(<span class="string">"id"</span>)</span> String id )</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"38672180"</span>.equals(id)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">        &#125;  <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"html/404.html"</span>;</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="获取多个参数"><a href="#获取多个参数" class="headerlink" title="获取多个参数"></a>获取多个参数</h2><p>获取多个参数非常容易，就是添加多个参数就可以啦。比如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@RequestMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> String id,  @<span class="title">RequestParam</span><span class="params">(<span class="string">"pageNum"</span>)</span> <span class="keyword">int</span> pageNum)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>基础的boolean、int、 String 数据类型是可以直接自动转化的，所以上面的<strong>页数参数</strong>使用了int<br>如果我们在Request方法声明了多个参数，那么URL访问的时候就必须要传递该参数哦，要不然会访问不到的</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>当我们掌握了Spring Request请求，基本上就打开了Web编程的大门了，因为所有的网站和程序都是通过这个技术来搭建的，只是不同的系统代码逻辑复杂度不一样。学会Request操作并不复杂，但是灵活运用还是需要大量练习的，所以大家也可以自己写写例子，多思考</p>
<h1 id="Get-Request-二"><a href="#Get-Request-二" class="headerlink" title="Get Request(二)"></a>Get Request(二)</h1><h2 id="GetMapping"><a href="#GetMapping" class="headerlink" title="GetMapping"></a>GetMapping</h2><p><strong>@GetMapping</strong><br>我们在一开始学习了<strong>@RequestMapping</strong> 注解用于解析URL请求路径，这个注解默认是支持所有的Http Method的。放开所有的Http Method这样不是很安全，一般我们还是会明确制定method,比如说get请求我们可以使用<strong>@GetMapping</strong>来替换注解<strong>@RequestMapping</strong>他们的包路径是-样的，我们之前的代码可以写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> String id,@<span class="title">RequestParam</span><span class="params">(<span class="string">"pageNum"</span>)</span> <span class="keyword">int</span> pageNum)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以通过如下的URL进行访问</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//xxxx/songlist?id=xxx&amp;pageNum=1</span></span><br></pre></td></tr></table></figure>



<p>多个参数使用<strong>&amp;</strong>分隔哦</p>
<h4 id="非必须传递参数"><a href="#非必须传递参数" class="headerlink" title="非必须传递参数"></a>非必须传递参数</h4><p>默认情况下，访问的URL中必须包含我们在Request服务里设定的参数，上一节我们也提到过<br>如果不想某个参数必须传递,那么你可以修改一下参数的注解.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/songlist"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(@RequestParam(name=<span class="string">"pageNum"</span>,required = <span class="keyword">false</span>)</span> <span class="keyword">int</span> pageNum,@<span class="title">RequestParam</span><span class="params">(<span class="string">"id"</span>)</span> String id)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"html/songList.html"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>大家仔细看一下，应该会发现下面的代码写法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span>(name=<span class="string">"pageNum"</span>,required = <span class="keyword">false</span>) <span class="keyword">int</span> pageNum</span><br></pre></td></tr></table></figure>

<p>这个从单词上也能猜的出来，当前参数的名称是 <strong>pageNum ,required = false</strong> 表示为不是必须的,一旦我们这样设置后。下面的两个URL请求都是可以的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//xxxx/songlist?id=xxx&amp;pageNum=1</span></span><br><span class="line"></span><br><span class="line">http:<span class="comment">//xxxx/songlist?id=xxx</span></span><br></pre></td></tr></table></figure>

<p>到了这里，可能大家会有一个疑问，方法定义参数的顺序和URL的参数顺序有没有关系呢?没有关系，参数的顺序无所谓的<br>非必须参数使用频率一般，大家在之后遇到这样的需求的时候，可以回到这里看看课程就好啦。</p>
<h4 id="输出JSON数据"><a href="#输出JSON数据" class="headerlink" title="输出JSON数据"></a>输出JSON数据</h4><p>我们前面的例子都是返回HTML内容,但是有的时候作为服务端，我们只想返回数据，目前来说通用的Web数据格式就是JSON,在Spring当中配置JSON数据非常非常简单，如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/api/foos"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoos</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"ID: "</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>字符串也是JSON数据的一种，大家应该看见了，我们在<strong>getFoos</strong>方法上增加了<strong>@ResponseBody</strong>注解，这个注解的包和RequestParam包-样的，我们可以运行看一看效果我们调用的url是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//xxxx/api/foos?id=100</span></span><br></pre></td></tr></table></figure>

<p>我们在试试返回Java对象的方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String id;</span><br><span class="line">  <span class="keyword">private</span> Stirng name;</span><br><span class="line">  <span class="comment">// 省略了 getter、setter</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControl</span></span>&#123;</span><br><span class="line">  <span class="comment">//缓存 User 数据</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String,User&gt; users = <span class="keyword">new</span> HashMap();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 初始化数据 </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@PostConstruct</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="string">"100"</span>);</span><br><span class="line">    user.setName(<span class="string">"ykd"</span>);</span><br><span class="line">    users.put(user.getId(),user);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@GetMapping</span>(<span class="string">"/api/user"</span>)</span><br><span class="line">  <span class="meta">@ResponseBody</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> users.get(id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你会发现Spring MVC会自动的把对象转化成JSON字符串输出到网页了，这也是Spring MVC比较强大和方便的地方，<strong>一般我们会把这种输出JSON数据的方法称为API</strong>②程序学到现在，有很多的包是需要自己导入的，所以看到编译错误的时候检查检查看看</p>
<h2 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h2><p><img src="https://style.youkeda.com/img/ham/course/j4/studentapi.svg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.app.control;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> fm.douban.app.model.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentControl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Student&gt; students = <span class="keyword">new</span> HashMap();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      Student student = <span class="keyword">new</span> Student();</span><br><span class="line">      student.setId(<span class="string">"1"</span>);</span><br><span class="line">      student.setName(<span class="string">"范闲"</span>);</span><br><span class="line">       student.setAge(<span class="string">"20"</span>);</span><br><span class="line">        student.setSex(<span class="string">"男"</span>);</span><br><span class="line">      students.put(student.getId(), student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/api/student"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">getStudent</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> students.get(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/12/day52/" data-id="ckf1257g30028nsuxgrw53zyr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring-MVC%E3%80%81Spring-BOOT%E3%80%81Spring-Controllr%E3%80%81Get-Request/" rel="tag">Spring MVC、Spring BOOT、Spring Controllr、Get Request</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day51" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/10/day51/" class="article-date">
  <time datetime="2020-09-10T12:13:14.000Z" itemprop="datePublished">2020-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/10/day51/">day51</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Hello-Spring"><a href="#Hello-Spring" class="headerlink" title="Hello Spring"></a>Hello Spring</h1><p>搞定了前置的技术条件后，我们来配置、创建一个Spring工程吧。<br>目前来说，我们基本上使用的是Spring5<br>Spring5的Maven坐标如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>请大家记住一点: Spring 强调的是<strong>面向接口编程</strong>，所以大多数情况下Spring 代码都会有接口和实现类①<br>现在我们用Spring来看一个<strong>Hello World</strong>例子吧</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.youkeda.course<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>$&#123;java.version&#125;<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>$&#123;java.version&#125;<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>      </span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>      </span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span>      </span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 消息服务</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MessageService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getMessage</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.MessageService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.MessageService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(Application<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        MessageService msgService = context.getBean(MessageService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        System.out.println(msgService.getMessage());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是不是有点复杂???嗯，对于刚学完Java的同学来看确实有点复<br>杂，因为这几行代码里面体现了很多的架构、设计思想，对于很多<br>新手来说掌握Spring 的难度都是如同攀登一座高山一样，所以在接<br>下来的学习过程中会遇到一些想不明白的代码，只要你记住学习编<br>程最重要的一点:那就是<strong>先会用再去理解</strong><br>在刚才的代码，有用到一些知识点:<br>· 注解<br>. Spring Bean<br>. Spring扫描<br>. Spring声明周期<br>当我们理解了这些知识的时候，上面的代码的含义大概就可以明白<br>了，这些疑问我们下一章见</p>
<h4 id="面向接口的理解"><a href="#面向接口的理解" class="headerlink" title="面向接口的理解"></a>面向接口的理解</h4><p>上面的代码，我们希望大家可以感受一下使用Spring之后面向接口<br>开发的不同点</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/springbeanvs.svg" alt></p>
<p>看一下上图，实际上我们的演示的例子的工作就是调用了<br><strong>MessageService</strong>实例的   <strong>getMessage(）</strong>方法。<br>看起来好像是Java方式更简单点，但是大家仔细对比一下，你会发<br>现在Spring 当中，我们如果想调用<strong>MessageService</strong>就可以直接从<br>上下文获取，而不需要关心它的实现类、如何实例化实现类，从而<br>达到了真正的解耦合。<br>这就像我们日常中使用U盘，只要确定它是USB接口就知道可以<br>用，管它到达是谁、怎么生产来的。<br>当代码越多的时候，Spring 的效率就会体现出来，比原生Java<br>开发要快很多倍<br>所以这也是Spring最大的价值，完全的屏蔽了实现细节，让使用者<br>可以专注与接口的定义和运用即可，这对多人协同开发的时候非常<br>非常有用，屏蔽实现方式也就意味着降低了工程的复杂度，因为只<br>要开发双方约定好接口就可以一起工作，而不是你在这里写一段代<br>码，我在那里写一段代码，完全乱套了。①<br>在后面，我们学习到Spring更多知识和大型项目的时候，大家会对<br>这个概念有更深的理解，现在不理解也没关系。</p>
<h1 id="Java注解（Annotation）"><a href="#Java注解（Annotation）" class="headerlink" title="Java注解（Annotation）"></a>Java注解（Annotation）</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码很平常，但是多一个语法@service，这个语法就是我们今天要学习的注解</p>
<h4 id="Annotation-注解"><a href="#Annotation-注解" class="headerlink" title="Annotation(注解)"></a>Annotation(注解)</h4><p>本质上来说Annotation(注解)是Java推出的一种注释机制,后面我们统—叫<br>Annotation，和普通的注释有个显著的特别，那就是 Annotation是可以在编译、<br>运行阶段读取的，注释很明显不可以。①<br>能够在编译、运行阶段读取信息，这就给了我们很多的扩展空间，而且不会污染源<br>代码。我们可以借助它来实现一些增强功能，在Spring 当中就重度使用了<br>Annotation，通过运行阶段动态的获取Annotation从而完成很多自定义的行为，<br>所以如果不了解Annotation，那学习Spring就没有办法进行下去了。<br>从另外一个角度来看，Annotation也是一个Java类，只是这个类太特殊了点。我<br>们可以先看看上面的Service这个Annotation的源代码</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/service1.svg" alt></p>
<p>我们需要掌握这5个小点，就理解了Annotation的工作机制了。<br>上面Service注解的作用是声明引用该注解的Java类为Service对象，我们下一<br>章会介绍Service，现在大概了解一下o<br>还有一个点，大家可能已经发现了，Annotation类里可以继续引用其他的<br>Annotation类。所以一个Annotation是由多个Annotation组合而成的</p>
<h4 id="1、Target"><a href="#1、Target" class="headerlink" title="1、Target"></a>1、Target</h4><p>java.lang.annotation.Target自身也是一个注解，它只有一个数组属性，用于设<br>定该注解的目标范围，比如说可以作用于类或者方法等。因为是数组，所以可以同<br>时设定多个范围<br>具体可以作用的类型配置在java.lang.annotation.ElementType枚举类中，我们<br>说几个常用的<br><strong>ElementType.TYPE</strong><br>可以作用于类、接口类、枚举类上<br><strong>.ElementType.FIELD</strong><br>可以作用于类的属性上<br><strong>ElementType.METHOD</strong><br>可以作用于类的方法上<br><strong>. ElementType.PARAMETER</strong></p>
<p>可以作用于类的参数<br>如果想要同时作用于类和方法上，那么你就可以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="ElementType-TYPE"><a href="#ElementType-TYPE" class="headerlink" title="ElementType.TYPE"></a>ElementType.TYPE</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ElementType-METHOD"><a href="#ElementType-METHOD" class="headerlink" title="ElementType.METHOD"></a>ElementType.METHOD</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ElementType-FIELD"><a href="#ElementType-FIELD" class="headerlink" title="ElementType.FIELD"></a>ElementType.FIELD</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WorkspaceService workspaceService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ElementType-PARAMETER"><a href="#ElementType-PARAMETER" class="headerlink" title="ElementType.PARAMETER"></a>ElementType.PARAMETER</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">(@RequestParam(<span class="string">"msg"</span>)</span>String msg) </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello "</span>+msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、Retention"><a href="#2、Retention" class="headerlink" title="2、Retention"></a>2、Retention</h4><p>java.lang.annotation.Retention自身也是一个注解，它用于声明该注解的生命周期，简单的来说就是在Java编译、运行的哪个环节有效，它的值定义在java.lang.annotation.RetentionPolicy 枚举类中，有三个值可以选择<br>1.SOURCE:也就是说是纯注释作用<br>2.CLASS:也就是在编译阶段是有效的<br>3.RUNTIME:在运行时有效</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br></pre></td></tr></table></figure>

<p>这个代码表示的就是在运行期间有效<br>如果是我们自己定义的 Annotation ，一般我们都会设置成「RUNTIME<br><strong>3、Documented</strong><br>java.lang.annotation.Documented自身也是一个注解，它的作用是将注解中的元<br>素包含到JavaDoc文档中，一般情况下，都会添加这个注解的。<br><strong>4、interface</strong><br>@interface就是声明当前的Java类型是Annotation，固定语法，就是这样写就好<br><strong>5、Annotation属性</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br></pre></td></tr></table></figure>

<p>Annotation的属性有点像类的属性一样，它约定了属性的类型(这个类型是基础类<br>型: string、boolean、int、long)，和属性名称（默认名称是value，在引用的时<br>候可以省略)，default 代表的是默认值。<br>有了这个属性，我们就可以正式的引用一个Annotation啦，比如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意，Annotation也是Java类，所以—样需要import的<br>上面的@Service也可以写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span>(value=<span class="string">"Demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为我们说过value是默认属性名称是可以缩写的，所以上面的代码等同于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span>(<span class="string">"Demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Annotation属性是可以有多个的，比如下面的一个注解类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.PARAMETER)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RequestParam &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AliasFor</span>(<span class="string">"name"</span>)</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@AliasFor</span>(<span class="string">"value"</span>)</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">true</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">defaultValue</span><span class="params">()</span> <span class="keyword">default</span> ValueConstants.DEFAULT_NONE</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在属性的代码上，我们看到@AliasFor( “name”)这个是别名的意思，就是说这个属<br>性用这个别名也可以访问到，所以下面的代码是一样的意思②</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span>(<span class="string">"key"</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span>(value=<span class="string">"key"</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span>(name=<span class="string">"key"</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.MessageService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageServiceImpl</span> <span class="keyword">implements</span> <span class="title">MessageService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"Hello World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h3><p><img src="https://style.youkeda.com/img/ham/course/j4/song-uml1.svg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String lyrics;</span><br><span class="line"><span class="keyword">private</span> String subjectId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.id=id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getLyrics</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.lyrics;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLyrics</span><span class="params">(String lyrics)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.lyrics=lyrics;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getSubjectId</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.subjectId;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubjectId</span><span class="params">(String subjectId)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.subjectId=subjectId;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String cover;</span><br><span class="line"><span class="keyword">private</span> String musician;</span><br><span class="line"><span class="keyword">private</span> LocalDate publisedDate;</span><br><span class="line"><span class="keyword">private</span> List&lt;Song&gt; songs;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.id=id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getCover</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.cover;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCover</span><span class="params">(String cover)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.cover=cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMusician</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.musician;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMusician</span><span class="params">(String musician)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.musician=musician;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> LocalDate <span class="title">getPublisedDate</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.publisedDate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPublisedDate</span><span class="params">(LocalDate publisedDate)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.publisedDate=publisedDate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Song&gt; <span class="title">getSongs</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.songs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSongs</span><span class="params">(List&lt;Song&gt; songs)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.songs=songs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line"><span class="function">Song <span class="title">get</span><span class="params">(String songId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongServiceImpl</span> <span class="keyword">implements</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Song&gt; songMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">      Song song = <span class="keyword">new</span> Song();</span><br><span class="line">      song.setId(<span class="string">"001"</span>);</span><br><span class="line">      song.setSubjectId(<span class="string">"s001"</span>);</span><br><span class="line">      song.setLyrics(<span class="string">"..."</span>);</span><br><span class="line">      song.setName(<span class="string">"成都"</span>);</span><br><span class="line">      songMap.put(song.getId(), song);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Song <span class="title">get</span><span class="params">(String songId)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> songMap.get(songId);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line">        </span><br><span class="line">        SongService songService = context.getBean(SongService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//获取歌曲</span></span><br><span class="line">        Song song = songService.get(<span class="string">"001"</span>);</span><br><span class="line">        System.out.println(<span class="string">"得到歌曲："</span>+song.getName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spring-Bean"><a href="#Spring-Bean" class="headerlink" title="Spring Bean"></a>Spring Bean</h1><p><strong>loC(Inversion of Control，控制反转）</strong>容器是Spring 框架最最核心的组件，没有<br>loC容器就没有Spring 框架。<br>loC (Inversion of Control，控制反转）是面向对象编程中的一种设计原则，可以<br>用来减低计算机代码之间的耦合度<br>在Spring 框架当中，主要通过<strong>依赖注入(Dependency Injection，简称DI</strong>)来实现<br>loC。<br>在Spring 的世界中，所有的<strong>Java对象都会通过loC容器转变为Bean (Spring 对象</strong><br><strong>的一种称呼</strong>，以后我们都用Bean来表示Java对象），构成应用程序主干和由Spring<br>loC容器管理的对象称为beans,beans和它们之间的依赖关系反映在容器使用的配<br>置元数据中。基本上所有的Bean都是由<strong>接口+实现类</strong>完成的，用户想要获取Bean的<br>实例直接从loC容器获取就可以了，不需要关心实现类.</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/ioc.svg" alt></p>
<p>spring 主要有两种配置元数据的方式，一种是基于<strong>XML</strong>、一种是基于<strong>Annotation</strong>方<br>案的，目前主流的方案是基于Annotation的，所以我们这里也是以Annotation为基<br>础方案来讲解。<br><strong>org.springframework.context.ApplicationContext</strong></p>
<p>接口类定义容器的对外服务，<br>通过这个接口，我们可以轻松的从loC容器中得到Bean对象。我们在启动Java程序<br>的时候必须要<strong>先启动loC容器Annotation类型的loC容器对应的类</strong>是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.context.annotation.AnnotationConfigApplicationContext</span><br></pre></td></tr></table></figure>

<p>这段代码的含义就是启动loC容器，并且会<strong>自动加载包fm.douban下的 Bean</strong>，哪些<br>Bean会被加载呢?只要引用了Spring 注解的类都可以被加载(前提是在这个包下哦)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = </span><br><span class="line">    <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br></pre></td></tr></table></figure>

<p>AnnotationConfigApplicationContext(String … basePackages)根据包名实例化<br>AnnotationConfigApplicationContext(Class clazz)根据自定义包扫描行为实例化</p>
<p>我们的例子就是第一种，两者根据情况做选择，开始的时候一般用第一种方案<br>Spring官方声明为Spring Bean的注解有如下几种:</p>
<p>org. springframework.stereotype.Service<br>org.springframework. stereotype.Component<br>org. springframework.stereotype.Controller<br>org. springframework . stereotype.Repository</p>
<p>只要我们在类上引用这类注解，那么都可以被loC容器加载<br>@Component|注解是通用的Bean注解，其余三个注解都是扩展自Component<br>@Service正如这个名称一样，代表的是Service Bean<br>@Controller 作用于Web Bean<br>@Repository作用于持久化相关Bean<br>实际上这四个注解都可以被loC容器加载，一般情况下，我们使用<strong>@service;</strong>如果<br>是Web服务就使用<strong>@controller</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 实例化 IoC 容器</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">// 获取 SongService</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用 songService.get("001") 方法，得到 Song</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 打印 Song 的名称</span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line"></span><br><span class="line">    SongService songService = context.getBean(SongService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="comment">//获取歌曲</span></span><br><span class="line">    Song song = songService.get(<span class="string">"001"</span>);</span><br><span class="line">    System.out.println(<span class="string">"得到歌曲："</span>+song.getName());</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="spring-bean-下"><a href="#spring-bean-下" class="headerlink" title="spring bean 下"></a>spring bean 下</h1><p><img src="https://style.youkeda.com/img/ham/course/j4/song-uml2.svg" alt></p>
<p>我们新增了一个SubjectService和它的实现类|subjectServiceImpl，用来完成获取专辑<br>的服务，在这个接口里我们定义了一个get方法，传入参数为subjectld，我们期望得到专辑<br>的信息（包括专辑包含的歌曲信息)</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/song-uml3.svg" alt></p>
<p>我们仔细看一下我们的Song、Subject这两个POJO类，从这个模型上来看，我们如果去带着subject的id去循环遍历所有的歌曲，筛选出来的歌曲应该就是专辑包含的歌曲。所以我们在SongService里又新增了一个list方法用于查询专辑歌曲回到<strong>sujectserviceImpl</strong>类，如果我们想获取完整的专辑信息，就得引入Songservice的<br>实例，调用歌曲，对不?我们来模拟一下这个sujectServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SongService songService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Subject&gt; subjectMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Subject subject = <span class="keyword">new</span> Subject();</span><br><span class="line">        <span class="comment">//... 省略初始化数据的过程</span></span><br><span class="line">        subjectMap.put(subject.getId(), subject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">get</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        Subject subject = subjectMap.get(subjectId);</span><br><span class="line">        <span class="comment">//调用 SongService 获取专辑歌曲</span></span><br><span class="line">        List&lt;Song&gt; songs = songService.list(subjectId);</span><br><span class="line">        subject.setSongs(songs);</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSongService</span><span class="params">(SongService songService)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.songService = songService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们如何获取SongService的实例呢?是不是得需要一个外部的工厂给我们传递。</p>
<h5 id="通过依赖注入-来获取SongService的实例，通过依赖注入获取Bean-的实例，-在属性上添加注解"><a href="#通过依赖注入-来获取SongService的实例，通过依赖注入获取Bean-的实例，-在属性上添加注解" class="headerlink" title="通过依赖注入 来获取SongService的实例，通过依赖注入获取Bean 的实例， 在属性上添加注解"></a>通过依赖注入 来获取SongService的实例，通过依赖注入获取Bean 的实例， 在属性上添加注解</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SubjectService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SongService songService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Subject&gt; subjectMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Subject subject = <span class="keyword">new</span> Subject();</span><br><span class="line">        subject.setId(<span class="string">"s001"</span>);</span><br><span class="line">        <span class="comment">//... 省略初始化数据的过程</span></span><br><span class="line">        subjectMap.put(subject.getId(), subject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">get</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        Subject subject = subjectMap.get(subjectId);</span><br><span class="line">        <span class="comment">//调用 SongService 获取专辑歌曲</span></span><br><span class="line">        List&lt;Song&gt; songs = songService.list(subjectId);</span><br><span class="line">        subject.setSongs(songs);</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="依赖注入小结"><a href="#依赖注入小结" class="headerlink" title="依赖注入小结"></a>依赖注入小结</h4><p>OK，上面的例子其实已经是解释了依赖注入的工作模式，我们整理一下，你会发现<strong>依赖注入让我</strong><br><strong>们得到其他Bean的实例相当简单，你只需要在属性上添加注解</strong>，就像下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> SongService songService;</span><br></pre></td></tr></table></figure>

<p>Autowired完整的类路径是org.springframework.beans.factory.annotation.Autowired</p>
<p>当然你还有一个前提条件，那就是当前的类是Spring Bean哦，比如这里我们添加了<strong>@service</strong>到目前为止，我们掌握了Spring Bean的知识，可以改进一些代码啦，让我们继续实战下去，你<br>会发现Spring 的道理比较复杂，但是运用起来其实很简单，因为这是各种设计模式综合运用的结<br>果。以后我们也会逐步的了解设计模式的，到时候再精进Spring会更好的理解，现在还是让我们<br>熟练的使用它。</p>
<h2 id="Spring-Bean-代码案例"><a href="#Spring-Bean-代码案例" class="headerlink" title="Spring Bean 代码案例"></a>Spring Bean 代码案例</h2><p><img src="https://style.youkeda.com/img/ham/course/j4/song-uml2.svg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String lyrics;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String subjectId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLyrics</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lyrics;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLyrics</span><span class="params">(String lyrics)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lyrics = lyrics;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSubjectId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> subjectId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubjectId</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subjectId = subjectId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cover;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String musician;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDate publishedDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Song&gt; songs;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCover</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCover</span><span class="params">(String cover)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cover = cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMusician</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> musician;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMusician</span><span class="params">(String musician)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.musician = musician;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalDate <span class="title">getPublishedDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> publishedDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPublishedDate</span><span class="params">(LocalDate publishedDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.publishedDate = publishedDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Song&gt; <span class="title">getSongs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSongs</span><span class="params">(List&lt;Song&gt; songs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.songs = songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Song <span class="title">get</span><span class="params">(String songId)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Song&gt; <span class="title">list</span><span class="params">(String subjectId)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"><span class="function">Subject <span class="title">get</span><span class="params">(String subjectId)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongServiceImpl</span> <span class="keyword">implements</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Song&gt; songMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Song song = <span class="keyword">new</span> Song();</span><br><span class="line">        song.setId(<span class="string">"001"</span>);</span><br><span class="line">        song.setSubjectId(<span class="string">"s001"</span>);</span><br><span class="line">        song.setLyrics(<span class="string">"..."</span>);</span><br><span class="line">        song.setName(<span class="string">"成都"</span>);</span><br><span class="line">        songMap.put(song.getId(), song);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Song <span class="title">get</span><span class="params">(String songId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songMap.get(songId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Song&gt; <span class="title">list</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;Song&gt; songs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Song&gt; songEntry : songMap.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (songEntry.getValue().getSubjectId().equals(subjectId)) &#123;</span><br><span class="line">                songs.add(songEntry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SubjectService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SongService songService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Subject&gt; subjectMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Subject subject = <span class="keyword">new</span> Subject();</span><br><span class="line">        subject.setId(<span class="string">"s001"</span>);</span><br><span class="line">        subject.setName(<span class="string">"成都"</span>);</span><br><span class="line">        subject.setMusician(<span class="string">"赵雷"</span>);</span><br><span class="line">        subjectMap.put(subject.getId(), subject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">get</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        Subject subject = subjectMap.get(subjectId);</span><br><span class="line">        <span class="comment">//调用 SongService 获取专辑歌曲</span></span><br><span class="line">        List&lt;Song&gt; songs = songService.list(subjectId);</span><br><span class="line">        subject.setSongs(songs);</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SubjectService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line"></span><br><span class="line">        SubjectService subjectService = context.getBean(SubjectService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        Subject subject = subjectService.get(<span class="string">"s001"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">" 专辑："</span>+subject.getName()+<span class="string">" 音乐家 "</span>+subject.getMusician()+<span class="string">" 包含："</span>+subject.getSongs().size()+<span class="string">" 首歌"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spring-Resource-上"><a href="#Spring-Resource-上" class="headerlink" title="Spring Resource (上)"></a>Spring Resource (上)</h1><p>文件系统是编程不可避开的领域，因为我们总是有可能读文件、写文件。Spring Framework作为完整的Java 企业级解决方案，自然也有文件处理方案啦，那就是<strong>Spring Resource</strong><br>在我们正式学习Spring Resource的时候，你还需要了解—<br>下在Java工程中文件的几种情况<br>1.文件在电脑某个位置，比如说<strong>d :/ mywork/ a .doc</strong><br>2.文件在工程目录下，比如说<strong>mywork/toutiao.png</strong><br>3.文件在工程的<strong>src/main/resources</strong>目录下,我们在Maven<br>的知识里介绍过这是 Maven工程存放文件的地方<br>第一种和第二种情况都是使用File 对象就可以读写啦，第三<br>种情况比较特殊，因为Maven 执行package的时候，会把<br>resources目录下的文件一起打包进jar包里（(我们之前提到<br>过jar是Java的压缩文件)。<br>显然在第三种情况，用File对象是读取不到的，因为文件已<br>经在jar里啦。</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/project1.png" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Test</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"mywork/readme.md"</span>);</span><br><span class="line">    <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">      System.out.println(<span class="string">"readme.md 文件存在"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"src/main/resources/nani.jpeg"</span>);</span><br><span class="line">    <span class="keyword">if</span>(file2.exists())&#123;</span><br><span class="line">      System.out.println(<span class="string">"nani.jpeg 文件存在"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>大家看到控制台输出了两个文件，现在看起来两个文件都可<br>以加载对把?但是呢，在企业中源代码是不可能和运行程序<br>放在一起的，所以下面的工程才是真实的情况。</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/server1.png" alt></p>
<h4 id="classpath"><a href="#classpath" class="headerlink" title="classpath"></a>classpath</h4><p>在Java内部当中，我们一般把文件路径称为classpath，所以读取内部的文件就是从classpath内读取，classpath 指定的文件不能解析成File对象，但是可以解析成lnputStream，我们借助Java lO就可以读取出来了<br>classpath 类似虚拟目录，它的根目录是从7开始代表的是<br><strong>src/main/java或者src/ main/resources</strong>目录<br>我们来看一下如何使用classpath读取文件,这次我们在resources目录下存放一个data .json文件。Java 拥有很多丰富的第三方类库给我们使用，读取文件，我们可以使用commons-io 这个库来，需要我们在pom.xml下添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>测试代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 读取 classpath 的内容</span></span><br><span class="line">    InputStream in = Test.class.getClassLoader().getResourceAsStream("data.json");</span><br><span class="line">    <span class="comment">// 使用 commons-io 库读取文本</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      String content = IOUtils.toString(in, <span class="string">"utf-8"</span>);</span><br><span class="line">      System.out.println(content);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// IOUtils.toString 有可能会抛出异常，需要我们捕获一下</span></span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再来认识一下这段代码</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream in = Test.class.getClassLoader().getResourceAsStream("data.json");</span><br></pre></td></tr></table></figure>

<p>这段代码的含义就是从Java运行的类加载器(ClassLoader)实例中查找文件，<strong>Test.class</strong>指的当前的<br>Test.java编译后的Java class文件。记住这个代码格式就好，以后可能会经常用到，如果你记不住，那就记住在这节课程里有这个语法，copy 也可以，</p>
<h4 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h4><p>请参考本节课的内容，读取一下resources目录下的<br>urls.txt文件，并打印出文本内容哦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Test</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取 classpath 的内容</span></span><br><span class="line">    InputStream in =Test.class.getClassLoader().getResourceAsStream("data/urls.txt");</span><br><span class="line">    <span class="comment">// 使用 commons-io 库读取文本</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      String content = IOUtils.toString(in, <span class="string">"utf-8"</span>);</span><br><span class="line">      System.out.println(content);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// IOUtils.toString 有可能会抛出异常，需要我们捕获一下</span></span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Spring-Resource-下"><a href="#Spring-Resource-下" class="headerlink" title="Spring Resource(下)"></a>Spring Resource(下)</h1><p>了解了classpath概念后，我想你肯定在想Spring<br>Resource能做啥呢?请记住一点，Spring 擅长的就是封装各种服务在Spring 当中定义了一个<br><strong>org. springframework.core.io.Resource</strong>类来封装文件，<br>这个类的优势在于可以支持普通的File 也可以支持classpath文件。<br>并且在Spring 中通过<strong>org.springframework.core.io.ResourceLoader服务来提</strong><br><strong>供任意文件的读写,你可以在任意的Spring Bean 中引入ResourceLoader</strong> 来读取文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ResourceLoader loader;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FileService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getContent</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>调用：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FileService fileService = context.getBean(FileService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">String content = fileService.getContent(<span class="string">"classpath:data/urls.txt"</span>);</span><br><span class="line">System.out.println(content);</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.service.FileService;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.ResourceLoader;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileServiceImpl</span> <span class="keyword">implements</span> <span class="title">FileService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ResourceLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream in = loader.getResource(name).getInputStream();</span><br><span class="line">            <span class="keyword">return</span> IOUtils.toString(in,<span class="string">"utf-8"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.service.FileService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line"></span><br><span class="line">        FileService fileService = context.getBean(FileService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        String content = fileService.getContent(<span class="string">"classpath:data/urls.txt"</span>);</span><br><span class="line">        System.out.println(content);</span><br><span class="line"></span><br><span class="line">        String content2 = fileService.getContent(<span class="string">"https://www.zhihu.com/question/34786516/answer/822686390"</span>);</span><br><span class="line">        System.out.println(content2);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="代码案例-2"><a href="#代码案例-2" class="headerlink" title="代码案例"></a>代码案例</h4><p>请参考本节课的内容，完善FileServicelmpl代码，然后在Application类中读取一下</p>
<p><strong>http: / /news.baidu.com/</strong>网站内容，<br>并打印出内容哦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FileService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getContent</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.service.FileService;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.ResourceLoader;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileServiceImpl</span> <span class="keyword">implements</span> <span class="title">FileService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ResourceLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream in = loader.getResource(name).getInputStream();</span><br><span class="line">            <span class="keyword">return</span> IOUtils.toString(in,<span class="string">"utf-8"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.service.FileService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line"></span><br><span class="line">        FileService fileService = context.getBean(FileService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// TODO 调用 getContent 方法</span></span><br><span class="line"></span><br><span class="line">         String content = fileService.getContent(<span class="string">"http://news.baidu.com/"</span>);</span><br><span class="line">        System.out.println(content);</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Spring-Bean-的生命周期（Lifecycle）"><a href="#Spring-Bean-的生命周期（Lifecycle）" class="headerlink" title="Spring Bean  的生命周期（Lifecycle）"></a>Spring Bean  的生命周期（Lifecycle）</h1><p>为了更好的管理<strong>Bean，Spring Bean提供了生命周期管理能力</strong>，这将极大的提高了工程化的能力<br>啥叫生命周期呢?任何生命都有开始和结束的时候，生命从开始到结束的整个流程、状态就是生命周期。很多编程框架都提供生命周期管理，提供类似实例的开始=》结束的状态管理</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/beaninstance.svg" alt></p>
<p>记住这个顺序就好，在我们以后遇到运行的问题可能会用得<br>到<br>大部分时候，我们只需要掌握<strong>init</strong>方法即可,注意这个<strong>init</strong>方法名称可以是任意名称的，因为我们是通过注解来声明init的，我们以SubjectServicelmpl为例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@PostConstruct</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"启动啦"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们只要在方法上添加<strong>@PostConstruct</strong>注解，就代表改方法<br>在Spring Bean启动后会自动执行的哦。①<br>注意这个PostConstruct的完整包路径是<br><strong>javax.annotation.PostConstruct</strong><br>我们可以演示一下，你会发现控制台里会先打印出启动啦</p>
<p><strong>有了init方法之后，我们就可以把之前static代码块的内容移到init里</strong>啦。所以代码就变成如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SubjectService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SongService songService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Subject&gt; subjectMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">      Subject subject = <span class="keyword">new</span> Subject();</span><br><span class="line">        subject.setId(<span class="string">"s001"</span>);</span><br><span class="line">        subject.setName(<span class="string">"成都"</span>);</span><br><span class="line">        subject.setMusician(<span class="string">"赵雷"</span>);</span><br><span class="line">        </span><br><span class="line">        subjectMap.put(subject.getId(), subject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">get</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        Subject subject = subjectMap.get(subjectId);</span><br><span class="line">        <span class="comment">//调用 SongService 获取专辑歌曲</span></span><br><span class="line">        List&lt;Song&gt; songs = songService.list(subjectId);</span><br><span class="line">        subject.setSongs(songs);</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看到代码是正常运行的，也就是符合我们期望的，数据先完成初始化，然后被服务调用.</p>
<p>Spring 声明周期可以让我们更轻松的初始化一些行为以及维护数据现在这个阶段大家暂时只要掌握这个初始化方法就好了随着项目的复杂，我们会逐步理解到其深层次的道理的</p>
<h2 id="Spring-Bean的生命周期-例题"><a href="#Spring-Bean的生命周期-例题" class="headerlink" title="Spring Bean的生命周期 例题"></a>Spring Bean的生命周期 例题</h2><img src="https://style.youkeda.com/img/ham/course/j4/songlist.png" style="zoom:50%;">

<p><img src="https://style.youkeda.com/img/ham/course/j4/songlist-uml.svg" alt></p>
<p>代码要求<br>现在我们在工程里提供了一个songlists.json文件，这个一个<br>JSON格式的文件，里面存放的是歌单数据<br>·在SongListServicelmpl类中创建一个初始化方法<strong>init</strong>,<br>使用<strong>Spring 的初始化注解</strong>哦<br>在init方法中使用FastJson 库加载这个songlists.json文件<br>FastJson库的运用，可以查看【Java 网络编程】那门课的JSON内容<br>创建一个Map的静态变量，存储从json文件读取到的数据完成SongListServicelmpl的get方法<br>Application类已经提供了测试方法，所以按照上面的要求写完代码，运行通过就算完成啦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String lyrics;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String subjectId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLyrics</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lyrics;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLyrics</span><span class="params">(String lyrics)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lyrics = lyrics;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSubjectId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> subjectId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubjectId</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subjectId = subjectId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String cover;</span><br><span class="line"><span class="keyword">private</span> String author;</span><br><span class="line"><span class="keyword">private</span> LocalDate publisedDate;</span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt;songIds;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCover</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCover</span><span class="params">(String cover)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cover = cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getAuthor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAuthor</span><span class="params">(String author)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">     <span class="function"><span class="keyword">public</span> LocalDate <span class="title">getPublisedDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> publisedDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPublisedDate</span><span class="params">(LocalDate publisedDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.publisedDate = publisedDate;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getSongIds</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songIds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSongIds</span><span class="params">(List&lt;String&gt; songIds)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.songIds = songIds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cover;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String musician;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDate publishedDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Song&gt; songs;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCover</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCover</span><span class="params">(String cover)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cover = cover;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMusician</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> musician;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMusician</span><span class="params">(String musician)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.musician = musician;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalDate <span class="title">getPublishedDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> publishedDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPublishedDate</span><span class="params">(LocalDate publishedDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.publishedDate = publishedDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Song&gt; <span class="title">getSongs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSongs</span><span class="params">(List&lt;Song&gt; songs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.songs = songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>  fm.douban.model.SongList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SongListService</span> </span>&#123;</span><br><span class="line"><span class="function">SongList <span class="title">get</span><span class="params">(String songListId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Song <span class="title">get</span><span class="params">(String songId)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Song&gt; <span class="title">list</span><span class="params">(String subjectId)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Subject <span class="title">get</span><span class="params">(String subjectId)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongServiceImpl</span> <span class="keyword">implements</span> <span class="title">SongService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Song&gt; songMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Song song = <span class="keyword">new</span> Song();</span><br><span class="line">        song.setId(<span class="string">"001"</span>);</span><br><span class="line">        song.setSubjectId(<span class="string">"s001"</span>);</span><br><span class="line">        song.setLyrics(<span class="string">"..."</span>);</span><br><span class="line">        song.setName(<span class="string">"成都"</span>);</span><br><span class="line">        songMap.put(song.getId(), song);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Song <span class="title">get</span><span class="params">(String songId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songMap.get(songId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Song&gt; <span class="title">list</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;Song&gt; songs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Song&gt; songEntry : songMap.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (songEntry.getValue().getSubjectId().equals(subjectId)) &#123;</span><br><span class="line">                songs.add(songEntry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> songs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Song;</span><br><span class="line"><span class="keyword">import</span> fm.douban.model.Subject;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongService;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SubjectService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubjectServiceImpl</span> <span class="keyword">implements</span> <span class="title">SubjectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SongService songService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Subject&gt; subjectMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Subject subject = <span class="keyword">new</span> Subject();</span><br><span class="line">        subject.setId(<span class="string">"s001"</span>);</span><br><span class="line">        subject.setName(<span class="string">"成都"</span>);</span><br><span class="line">        subject.setMusician(<span class="string">"赵雷"</span>);</span><br><span class="line">        </span><br><span class="line">        subjectMap.put(subject.getId(), subject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">get</span><span class="params">(String subjectId)</span> </span>&#123;</span><br><span class="line">        Subject subject = subjectMap.get(subjectId);</span><br><span class="line">        <span class="comment">//调用 SongService 获取专辑歌曲</span></span><br><span class="line">        List&lt;Song&gt; songs = songService.list(subjectId);</span><br><span class="line">        subject.setSongs(songs);</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.SongList;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongListService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.ResourceLoader;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SongListServiceImpl</span> <span class="keyword">implements</span> <span class="title">SongListService</span></span>&#123;</span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> ResourceLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//缓存所有专辑数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, SongList&gt; songListMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream in = loader.getResource(<span class="string">"classpath:data/songlists.json"</span>).getInputStream();</span><br><span class="line">            String jsonString = IOUtils.toString(in, <span class="string">"utf-8"</span>);</span><br><span class="line">            SongList[] lists = JSON.parseObject(jsonString, SongList[]<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            <span class="keyword">for</span>(SongList songList : lists)&#123;</span><br><span class="line">                songListMap.put(songList.getId(),songList);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.fillInStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SongList <span class="title">get</span><span class="params">(String songListId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> songListMap.get(songListId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fm.douban;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm.douban.model.SongList;</span><br><span class="line"><span class="keyword">import</span> fm.douban.service.SongListService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">"fm.douban"</span>);</span><br><span class="line"></span><br><span class="line">        SongListService songListService = context.getBean(SongListService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        SongList songList = songListService.get(<span class="string">"41299401"</span>);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"歌单："</span>+songList.getName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/10/day51/" data-id="ckf1257g10025nsux2su90hry" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HelloSpring%E3%80%81Spring-Bean%E3%80%81Spring-Resource%E3%80%81Spring-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%88Lifecycle/" rel="tag">HelloSpring、Spring Bean、Spring Resource、Spring Bean的生命周期（Lifecycle)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day50" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/09/day50/" class="article-date">
  <time datetime="2020-09-09T10:25:11.000Z" itemprop="datePublished">2020-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/09/day50/">day50</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="why-Spring"><a href="#why-Spring" class="headerlink" title="why Spring"></a>why Spring</h1><p><img src="https://style.youkeda.com/img/ham/course/j4/icon-spring-framework.svg" alt></p>
<p>Spring是Java语言中必须要掌握的框架，它已经有超过10年的稳定期了，基本上所有采用Java语言的公司都会采用Spring Framework，这个框架基本上是全能的(所以就不要问我它可以做什么了)，它涵盖了Java的各个领域。从事Java工作没有不会Spring 的,在我们学习完Java语言后，我们就要开始学习Spring Framework啦，目前Spring 最新的框架是5.x，Spring 框架每年的更新也挺多的，所以我们尽可能掌握最新的版本。</p>
<p>可以快速的了解一下Spring 的版本历史<br>.2004年03月，1.0版发布<br>.2006年10月，2.0版发布<br>.2007年11月，更名为SpringSource，同时发布了Spring 2.5<br>.2009年12月，Spring 3.0发布<br>.2013年12月，Pivotal宣布发布Spring 框架4.0<br>.2017年09月，Spring 5.0发布<br>很有意思的是Spring 的创造者Rod Johnson(下图)，Rod Johnson在<br>悉尼大学不仅获得了计算机学位，同时还获得了音乐学位，更令人吃惊<br>的是在回到软件开发领域之前，他还获得了音乐学的博士学位。现在<br>Rod Johnson已经离开了Spring，成为了一个天使投资人，同时也是<br>多个公司的董事，早已走上人生巅峰。从他的案例可以看出编程是真正<br>无边界的，开启编程人生具备无限可能。</p>
<h4 id="Spring的核心"><a href="#Spring的核心" class="headerlink" title="Spring的核心"></a>Spring的核心</h4><p>依赖注入(DI)是Spring最核心的技术点（我们在后面还会继续运用<br>到)，Spring 所有的技术方案都是基于DI来发展的。对于初学者来说理<br>解DI会有一些困难，所以我们先要做到的是熟练使用Spring 的技能。<br>使用Spring 大大降低了开发难度和助力团队开发，它更加强调了面向对<br>象，所以等大家习惯了之后你会发现就像喝开水—样简单。<br>在正式学习之前，希望大家先有一个概念:先熟练掌握它的要求，再去理<br>解它的底层原理，要不然这门课会让你崩溃的哦，所谓实践出真知</p>
<h1 id="maven-入门"><a href="#maven-入门" class="headerlink" title="maven 入门"></a>maven 入门</h1><p>当我们开始学习Java框架的时候，就必须先掌握一个工程化工具:<strong>Apache Maven</strong></p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/maven-logo-black-on-white.png" alt></p>
<p>Apache Maven是做什么用的?<br><strong>Maven是一个项目管理和构建自动化工具</strong>。但是对于我们程序员来说，<br>我们最关心的是它的项目构建功能。所以这里我们介绍的就是怎样用<br>Maven来满足我们项目的日常需要。如果说Spring是必须要学习的框<br>架，那么Maven就是Java必须要掌握的工具。<br>Maven提供了一个命令行工具可以把工程打包成Java支持的格式（比<br>如jar)，并且支持部署到中央仓库里，这样使用者只需要通过工具就<br>可以很快捷的运用其他人写的代码，只需要你添加依赖即可<br>下图是一个Maven系统架构</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/mvn.svg" alt></p>
<p>从这个架构里可以看到借助于中央仓库，我们可以把Java 代码任意的共<br>享给别人，这对于团队协同开发来说是至关重要的，可以说Java 工程化<br>发展到现在，Maven起到了决定性的作用。<br>Maven使用惯例优于配置的原则。它要求在没有定制之前，所有的项目<br>都有如下的结构(其实我们之前的Java工程目录都是遵循了这个结构规<br>范)∶</p>
<p>这里的<strong>${basedir}</strong>代表的是Java工程的根路径，在我们这里就是工程的根目录啦。一个Maven项目在默认情况下会产生JAR(Java的一种压缩格式)文件，另外，编译后的classes会放${basedir}/target/classes下面，JAR文件会放在${basedir}/target下面。①所以如果你的代码放错位置，那么程序是没办法完成编译、执行工作的。</p>
<p><strong>Maven的安装</strong><br>想要使用工具，就必须要先安装<br>如果大家在自己的电脑上运行代码，那就可以参考</p>
<p>这个文档 <a href="https://ham.youkeda.com/articles/detail/5f3759465e205f30b2c2b319安" target="_blank" rel="noopener">https://ham.youkeda.com/articles/detail/5f3759465e205f30b2c2b319安</a><br>装到本地。<br>在本平台当中，系统内置好了Maven工具，所以就无需安装了，<br>直接就可以使用啦</p>
<p><strong>Maven命令</strong><br>想要使用Maven这个工具，是要在命令行（终端软件）里输入指令的方式来执行的，我们需要大家了解几个常用的命令，注意命令要在工程的根目录下执行哦</p>
<p><strong>1.mvn clean compile</strong></p>
<p>编译命令，Maven会自动扫描src/main/java下的代码并完成编译工作，执行完，会在根目录下生成target/classes目录（存放所有的class)<br>我们可以点击运行看一下这个命令运行的案例</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/mvncompile.png" alt></p>
<p><strong>2.mvn clean package</strong><br>编译并打包命令，这个命令是compile和package的集合，也就是说会先执行compile命令，然后在执行jar打包命令，这个的结果会把所有的java文件和资源打包成一个<strong>jar</strong> ,jar是java的一个压缩格式，方便我们灵活的运用多个代码。</p>
<img src="https://style.youkeda.com/img/ham/course/j4/mvnpackage.png" style="zoom:50%;">

<p><strong>3.mvn clean instal1</strong><br>执行安装命令，这个命令是compile 和package、install的集合，也就是说会先执行compile命令，然后在执行jar打包命令，然后执行install命令安装到本地的Maven仓库目录里，这个目录是<br><strong>${user_home}/ .m2</strong>这个<strong>$fuser_home}</strong>指的就是你的电脑登录用户名的个人目录<br>如果大家在本地完成了Maven的安装，大家可以打开我的电脑进行看一看的这个操作基本和<strong>mvn clean package</strong>看起来—样，所以我们就不演示了</p>
<p><strong>4.mvn compile exec:java -Dexec.mainClass=$imain}</strong><br>这个命令的意思是在compile 执行完后，执行运行Java的命令，具体执行哪个Java类是由-<strong>Dexec.mainClass=${main}</strong>参数指定的，比如我们想执行|com.youkeda.Test类，那么这个完整的命令<br>就是<strong>mvn compile exec :java -Dexec.mainClass=com.youkeda.Testo</strong></p>
<h2 id="Maven-入门"><a href="#Maven-入门" class="headerlink" title="Maven 入门"></a>Maven 入门</h2><p>完成Maven安装、命令的了解后，接下来我们就开始学习Maven的核心概念</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/Maven%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5.png" alt></p>
<p>这五个概念都会运用在Maven的配置文件中。Maven的配置文件是一个强约定的<strong>XML</strong>格式文件，它的文件名一定是pom.xml。我们掌握了pom.xml的格式规范以后，基本就可以灵活的运用Maven技术了。初学者可能会记不住这么多属性，没有关系，可以随时开启编程的无敌模式:拷贝、粘贴，<strong>照葫芦画瓢</strong>即可。</p>
<p>所以学习Maven我们只需要能够认识pom.xml内容就可以啦，不要试图一下子就完全掌握，我们还是把宝贵的时间留给代码，工具多用用自然就会熟悉啦。</p>
<h4 id="1、POM-Project-Object-Model"><a href="#1、POM-Project-Object-Model" class="headerlink" title="1、POM(Project Object Model)"></a>1、POM(Project Object Model)</h4><p>一个Java 项目所有的配置都放置在POM文件中，大概有如下的行为:<br>.  定义项目的类型、名字<br>.  管理依赖关系<br>.  定制插件的<br>可以看一下下图，有个大概的了解（图片比较大，可以点击图片放大查看)</p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/pomxml.svg" alt></p>
<p>分别看一下上图的内容<br>1、Maven坐标<br>2、Maven工程属性<br>3、Maven依赖<br>4、Maven插件<br>补充介绍一下，XML格式可能是我们第一次接触，其实HTML语<br>言也是XML格式，不过XML格式会严格遵守标记语言的要求，<br>那就是有开始标签和结束标签，比如<version>1.o</version>,<br>我们在自定义pom.xml时候，如果没有写完整的开始、结束标<br>签，那就会出错，这里我们就不详细展开了，大家多看几次也就<br>了解啦。①</p>
<h4 id="Maven-坐标"><a href="#Maven-坐标" class="headerlink" title="Maven 坐标"></a>Maven 坐标</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.youkeda.course<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这四个标签组成了Maven的坐标，所谓坐标就是一种位置信息，<br>Maven的坐标决定了这个Maven工程部署后存在Maven仓库的文<br>件位置，所以这个坐标信息是必须要指定的。</p>
<h5 id="groupld"><a href="#groupld" class="headerlink" title="groupld"></a>groupld</h5><p>groupld 就像一个文件夹一样，它的命名和Java的包比较一致，这<br>里一般只用小写的英文字母和字符﹒,比如这里的<br>com.youkeda .course 。一般来说一个公司会设置自己的groupld ,<br>避免和其他公司重合，个人开发者也一样。②</p>
<h5 id="artifactld"><a href="#artifactld" class="headerlink" title="artifactld"></a>artifactld</h5><p>artifactld有点像文件名一样，在一个groupld内，它应该是唯—<br>的,你不能使用中文或者特殊字符，从规范上来说只能使用小写的英<br>文字母、.、-、二。比如:app、member.shared这些都可以</p>
<h5 id="packaging"><a href="#packaging" class="headerlink" title="packaging"></a>packaging</h5><p>Maven工程执行完后会把整个工程打包成packaging指定的文件格<br>式，默认情况下packaging的值是jar ,所以如果pom.xml文件中<br>没有声明这个标签，那就是jar<br>packaging有如下的几种格式<br><strong>jar</strong><br><strong>war</strong><br><strong>ear</strong><br><strong>pom</strong></p>
<p>多数情况下，我们使用的都是jar，其他格式我们在以后会逐步运<br>用到，这里有个概念就好。</p>
<h5 id="version"><a href="#version" class="headerlink" title="version"></a>version</h5><p>version很有意思的，它基本上遵守了软件工程中对版本号的约定。在Maven的世界里，会把一个工程分为两个状态，这也是软件工程里最最常用的规范。<br><strong>SNAPSHOT</strong><br>这个单词翻译过来的意思是快照，实际上代表了当前程序还处于不稳定的阶段，随时可以再修改，所以在我们开发的时候我们会在版本号后面加上[SNAPSHOT 关键字<br><strong>RELEASE</strong><br>RELEASE和SNAPSHOT是对立面的，所以它代表的就是稳定，一般我们正式发布的时候，都会把version改为RELEASE。<strong>当然你可以不用特意的加上RELEASE ,因为只要不是SNAPSHOT，那就是RELEASE</strong></p>
<p>了解了工程状态之后，我们再来看版本号的约定，在软件工程里，我们一般会用三位数字来表示版本号，所以大概是x.x.x这样的格式，比如说iPhone 11 搭配的操作系统的版本是ios 13.1.2 ,正如你所想的这是一个RELEASE版本三位版本号如何使用呢，也是有规则的<br><strong>1、第一位代表的是主版本号</strong><br>主版本号一般是团队约定来的，上面iOS的例子中13就是主版本号<br><strong>2、第二位代表的是新增功能</strong><br>上面例子中的1代表的就是新增功能后的版本，这个数字表<br>明苹果在13这个版本里，有了1次新增功能的行为<br><strong>3、第三位代表的是bugfix后的版本</strong><br>bugfix是修复代码缺陷、bug 的行为，我们知道苹果经常会发布一些版本用于修复问题，所以上面的2就是 bugfix版本，从这个数字你可以大致判断，苹果做了两次bug 修复</p>
<p>在编程过程中<strong>约定大于一切</strong>，请大家记住这句话软件的版本大多时候是从1.0.0开始的，在开发状态下那就是1.0.0-SNAPSHOT，请注意这个格式<strong>[version]-SNAPSHOT</strong>，不能写错啦。<br>如果你新增了功能，那么版本号就是1.1.O-SNAPSHOT ,如果你要正<br>式发布了，那么版本号就是1.1.0一般来说每一位的最大值就是100，所以不要超过100哦，印象中只<br>有微软操作系统的版本号才超大，因为它的历史悠久功能特别特别多。。。<br>我们来看一下pom.xml文件如何定义坐标</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.youkeda.course<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最后还有一个约定，那就是执行|mvn package、mvn install命令生成的jar文件名是[artifactId]-[version].jar，你可以看看刚才的演示执行的target目录下是不是有一个app-1.e.o-SNAPSHOT.jar文件</p>
<p><strong>1.2 Maven属性配置</strong><br>Maven的属性配置就是用来做参数设置的，如下的配置是我们经常<br>看到的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>$&#123;java.version&#125;<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>$&#123;java.version&#125;<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>首先它的格式是在properties标签内，这个是固定的格式。<br>properties内的标签可以自定义，但是一般来说只能是小写英文字<br>母+.<br>当然默认也有一些公共参数是可以调整的，比如我们这里的<br>1、java.version<br>代表设置一个参数:java.version ，它的值是1.8<br>2、maven.compiler.source<br>这个参数是指定Maven编译时候源代码的JDK版本，<br>$ijava . version}这个值有点特殊，它是一个动态值，${key}<br>这个语法会动态找到key这个参数配置的值，所以上面的例子中<br>$ijava. version}的实际值是1.8<br>3、project.build.sourceEncoding<br>这个参数指定的是工程代码源文件的<strong>文件编码格式</strong>，一般情况<br>下，我们都设置成UTF-8<br>4、maven.compiler.target</p>
<p>这个参数作用是是按照这个值来进行编译源代码，比如这里的例<br>子是按照JDK1.8进行编译</p>
<h1 id="Maven-入门下"><a href="#Maven-入门下" class="headerlink" title="Maven 入门下"></a>Maven 入门下</h1><p>1、依赖管理dependencies<br><strong>dependency就是用于指定当前工程依赖其他代码库的，Maven会自动管理jar依赖</strong><br>—旦我们在pom.xml里声明了dependency信息，会先去本地<br>用户目录下的.m2文件夹内查找对应的文件，如果没有找到那么<br>就会触发从中央仓库下载行为，下载完会存在本地的.m2文件夹<br>内</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.62<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>请注意，一个pom.xml只能存在一个dependencies标签，可以有<br>多个dependency，因为我们很有可能依赖多个库<br>大家仔细观察这个dependency标签，你会发现dependency标签的<br>内容其实就是<strong>Maven坐标</strong>，所以说只要有坐标我们就可以建立依<br>赖a<br>我们演示一下如何编写这个dependency 依赖管理，这次我们还是<br>以fastjson库为例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.62<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>okhttp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一般我们会把别人写的代码库称为三方库，自己、团队写的称为<br>二方库，这个概念请大家记住，以后我们可能会这样描述内容的a</p>
<h4 id="1-1中央仓库"><a href="#1-1中央仓库" class="headerlink" title="1.1中央仓库"></a>1.1中央仓库</h4><p>前面我们提到过Maven会把所有的jar都存放在中央仓库里，我们<br>可以通过<a href="https://search.maven.org/这个网站来搜索jar。可惜的" target="_blank" rel="noopener">https://search.maven.org/这个网站来搜索jar。可惜的</a><br>是这个网站部署在国外，在国内访问不到，我们可以访问阿里云的<br>镜像服务器<a href="https://maven.aliyun.com/mvn/search" target="_blank" rel="noopener">https://maven.aliyun.com/mvn/search</a></p>
<p><img src="https://style.youkeda.com/img/ham/course/j4/mvnrepo.png" alt></p>
<h4 id="1-2间接依赖"><a href="#1-2间接依赖" class="headerlink" title="1.2间接依赖"></a>1.2间接依赖</h4><p>间接依赖是mvn成功的核心要素，简单的来说，如果一个remote<br>工程依赖了okhttp库，而当前工程locale依赖了remote工程，<br>这个时候locale工程也会自动依赖了okhttp，省时又省力是不<br>是?</p>
<h3 id="2、插件体系plugins"><a href="#2、插件体系plugins" class="headerlink" title="2、插件体系plugins"></a>2、插件体系plugins</h3><p>插件体系让Maven这个工具变得高度可定制，所以可以无缝的支撑<br>工程化能力。现在只要了解插件的格式就可以啦，因为不同的插件<br>有不同的作用，比如说g</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里声明了一个maven-compiler-plugin插件用于执行maven<br>compile的，你会发现maven的插件其实也是存放在中央仓库的坐<br>标，也就是一切都是jar。①<br>关于插件，大家能够看懂，知道如何添加即可，不用特别纠结概<br>念，因为不同的插件是配合不同的工程来设定的。现在深究它意义<br>不大，等我们用了很多工程的时候，自然会明白了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/09/day50/" data-id="ckf1257g8002jnsux7hkh249j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring%E5%85%A5%E9%97%A8%E3%80%81maven%E5%85%A5%E9%97%A8%E3%80%81hello-Spring/" rel="tag">spring入门、maven入门、hello Spring</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day46" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/09/day46/" class="article-date">
  <time datetime="2020-09-09T05:14:55.000Z" itemprop="datePublished">2020-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/09/day46/">day46</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="页面渲染"><a href="#页面渲染" class="headerlink" title="页面渲染"></a>页面渲染</h1><h5 id="静态页面渲染"><a href="#静态页面渲染" class="headerlink" title="静态页面渲染"></a>静态页面渲染</h5><p><img src="https://qgt-style.oss-cn-hangzhou.aliyuncs.com/img/course/f11/teacher-card.png" alt></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"name"</span>&gt;</span>焦哥<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"introudce"</span>&gt;</span></span><br><span class="line">    前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"detail"</span>&gt;</span></span><br><span class="line">    优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="动态页面渲染"><a href="#动态页面渲染" class="headerlink" title="动态页面渲染"></a>动态页面渲染</h5><p>定义模板字符串<br>说到模板，我们想到的当然是模板字符串咯，那么先不管别的，定义一个模板字符串再说。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> innerHtml = <span class="string">`&lt;div class="name"&gt;焦哥&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="introudce"&gt;</span></span><br><span class="line"><span class="string">        前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="detail"&gt;</span></span><br><span class="line"><span class="string">        优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才</span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span>;</span><br></pre></td></tr></table></figure>

<p>接下来要做的就是替换标签中的文字，这里可以用$}来替换。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> innerHtml = <span class="string">`&lt;div class="name"&gt;<span class="subst">$&#123;&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="introudce"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="detail"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span>;</span><br></pre></td></tr></table></figure>

<h5 id="定义替换数据"><a href="#定义替换数据" class="headerlink" title="定义替换数据"></a>定义替换数据</h5><p>这一切都做好了以后，接下来就要去定义用来替换的数据了,通过观察页<br>面，我们可以将页面中的数据写成下面这种数据结构:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数据</span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  name: <span class="string">'焦哥'</span>,</span><br><span class="line">  introudce: <span class="string">'前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师'</span>,</span><br><span class="line">  detail:</span><br><span class="line">    <span class="string">'优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h5><p>最后一步操作就是替换并使用DOM操作将模板字符串添加到页面中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数据</span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  name: <span class="string">'焦哥'</span>,</span><br><span class="line">  introudce: <span class="string">'前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师'</span>,</span><br><span class="line">  detail:</span><br><span class="line">    <span class="string">'优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 将html代码中的核心代码写成模板字符串</span></span><br><span class="line"><span class="keyword">let</span> innerHtml = <span class="string">`&lt;div class="name"&gt;<span class="subst">$&#123;data.name&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="introudce"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.introudce&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="detail"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.detail&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span>;</span><br><span class="line"><span class="comment">// 获取模板代码要填充的父盒子</span></span><br><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"><span class="comment">// 将模板字符串填充到父盒子中</span></span><br><span class="line">box.innerHTML = innerHtml;</span><br></pre></td></tr></table></figure>

<h5 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h5><img src="https://qgt-style.oss-cn-hangzhou.aliyuncs.com/img/course/f11/contact_us.png" style="zoom:50%;">

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建数据</span></span><br><span class="line"><span class="keyword">let</span> commonQuestionList = &#123;</span><br><span class="line">  question: <span class="string">'优课达学院服务流程？'</span>,</span><br><span class="line">  answer:</span><br><span class="line">    <span class="string">'加入优课达学院后，我们会在1个工作日内给你分配专属的班主任和助教，并且邀请你加入班级群中。班主任和助教将会全程陪伴你完成整个阶段的学习'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取question-list元素</span></span><br><span class="line"><span class="keyword">let</span> questionList = <span class="built_in">document</span>.querySelector(<span class="string">'.question-list'</span>);</span><br><span class="line"><span class="comment">// 创建模板字符串</span></span><br><span class="line"><span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div class="tile-bg"&gt;</span></span><br><span class="line"><span class="string">  &lt;div class="title"&gt;1.<span class="subst">$&#123;commonQuestionList.question&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;span class="arrow"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;div class="section-list"&gt;</span></span><br><span class="line"><span class="string">  &lt;div class="section"&gt;<span class="subst">$&#123;commonQuestionList.answer&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"><span class="comment">// 创建模板字符串的父盒子</span></span><br><span class="line"><span class="keyword">let</span> courseItem = <span class="built_in">document</span>.createElement(<span class="string">'DIV'</span>);</span><br><span class="line"><span class="comment">// 给父盒子添加类名</span></span><br><span class="line">courseItem.className = <span class="string">'course-item'</span>;</span><br><span class="line">courseItem.innerHTML = html;</span><br><span class="line">questionList.appendChild(courseItem);</span><br></pre></td></tr></table></figure>

<h5 id="循环渲染"><a href="#循环渲染" class="headerlink" title="循环渲染"></a>循环渲染</h5><h6 id="修改自定义数据"><a href="#修改自定义数据" class="headerlink" title="修改自定义数据"></a>修改自定义数据</h6><p>接下来就是找不同的时候了，首先很直观的发现，数据变了，以前是一<br>条，现在是五条，那么我们想当然的就会想到数组:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cardList = [&#123;&#125;, &#123;&#125;, &#123;&#125;, &#123;&#125;, &#123;&#125;];</span><br></pre></td></tr></table></figure>

<p>然后将每一张卡片的信息填到数组内的对象中去:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cardList = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'焦哥'</span>,</span><br><span class="line">    avator:</span><br><span class="line">      <span class="string">'https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/1.png'</span>,</span><br><span class="line">    title: <span class="string">'前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师'</span>,</span><br><span class="line">    introduce:</span><br><span class="line">      <span class="string">'优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'肖奎'</span>,</span><br><span class="line">    avator:</span><br><span class="line">      <span class="string">'https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/3.png'</span>,</span><br><span class="line">    title: <span class="string">'前阿里巴巴技术专家，阿里巴巴店铺负责人'</span>,</span><br><span class="line">    introduce:</span><br><span class="line">      <span class="string">'作为资深码农，我更擅长于中间件技术，我对新技术也充满热情，我也很享受传递技术的过程。相信自己可以成功是我送给大家的话'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'樊梵'</span>,</span><br><span class="line">    avator:</span><br><span class="line">      <span class="string">'https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/2.png'</span>,</span><br><span class="line">    title: <span class="string">'毕业于南京大学，前阿里巴巴云电商移动端负责人'</span>,</span><br><span class="line">    introduce:</span><br><span class="line">      <span class="string">'作为学长，我的成长非常快速，我崇尚敏捷开发，持续迭代自己，迭代技术，我希望你也有这种持续迭代的精神，成就自己的技术之路'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'叶冰'</span>,</span><br><span class="line">    avator:</span><br><span class="line">      <span class="string">'https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/Avatar/%E5%8F%B6%E5%86%B0%E5%A4%B4%E5%83%8F.png'</span>,</span><br><span class="line">    title: <span class="string">'毕业于北京大学，优课达高级Java研发工程师'</span>,</span><br><span class="line">    introduce:</span><br><span class="line">      <span class="string">'对于初学者，好程序都是改出来的，要多动手敲代码，不断的调试和优化自己的程序，在错误中汲取养分，提高自己'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'叶瑶'</span>,</span><br><span class="line">    avator:</span><br><span class="line">      <span class="string">'https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/Avatar/%E4%BD%B3%E7%91%B6%E5%A4%B4%E5%83%8F.png'</span>,</span><br><span class="line">    title: <span class="string">'毕业于北京科技大学，优课达前端专家'</span>,</span><br><span class="line">    introduce:</span><br><span class="line">      <span class="string">'预备、开火、瞄准，这是最快的软件开发方法。预备、瞄准、瞄准、瞄准，这是最慢的软件开发方法。放开手大胆去做，你会飞快成长。'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h6 id="使用循环语句"><a href="#使用循环语句" class="headerlink" title="使用循环语句"></a>使用循环语句</h6><p>数据的定义已经完成，接下来就是如何将这些数据填充到模板字符串中<br>去，其实这个也很简单，既然模板字符串中只能接受对象﹒的形式去填充<br>数据，那么我把对象遍历出来不就可以了吗?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cardList.length; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = cardList[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在每一个data不就是模板字符串中需要的对象了吗?那么剩下的就更<br>好做了，把上一节中模板字符串渲染的代码扔到循环体内就ok 了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cardList.length; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = cardList[i];</span><br><span class="line">  <span class="comment">// 将html代码中的核心代码写成模板字符串</span></span><br><span class="line">  <span class="keyword">let</span> innerHtml = <span class="string">`&lt;div class="name"&gt;<span class="subst">$&#123;data.name&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="introudce"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.introudce&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class="detail"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.detail&#125;</span></span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span>;</span><br><span class="line">  <span class="comment">// 获取模板代码要填充的父盒子</span></span><br><span class="line">  <span class="keyword">let</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line">  <span class="comment">// 将模板字符串填充到父盒子中</span></span><br><span class="line">  box.innerHTML = innerHtml;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="点击展开列表"><a href="#点击展开列表" class="headerlink" title="点击展开列表"></a>点击展开列表</h2><p>在做点击展开效果之前，先梳理一下思路:<br>1.修改list标签的display属性为none，初始状态将这个标签隐藏<br>2.添加新的类名list-block 类名，属性为display:block;，作为点击后可以显示 list标签的类名<br>3.给title标签添加点击事件，在点击的时候修改类名，实现list标签的显示和隐藏卜面我们按照这个思路去—步步实现。</p>
<h4 id="修改list-标签基础样式"><a href="#修改list-标签基础样式" class="headerlink" title="修改list 标签基础样式"></a>修改list 标签基础样式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.list &#123;</span><br><span class="line">  <span class="comment">/* 添加display属性 */</span></span><br><span class="line">  display: none;</span><br><span class="line">  width: rem(<span class="number">335</span>);</span><br><span class="line">  padding: rem(<span class="number">20</span>);</span><br><span class="line">  margin-top: rem(<span class="number">-5</span>);</span><br><span class="line">  font-size: rem(<span class="number">14</span>);</span><br><span class="line">  line-height: rem(<span class="number">20</span>);</span><br><span class="line">  color: #ffffff;</span><br><span class="line">  background: #2c3744;</span><br><span class="line">  border-radius: rem(<span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 添加list-block类名 */</span></span><br><span class="line">.list-block &#123;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="点击展开"><a href="#点击展开" class="headerlink" title="点击展开"></a>点击展开</h5><p>完成了样式的准备以后，接下来就要去实现最核心的东西—js 代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取被点击目标</span></span><br><span class="line"><span class="keyword">let</span> titleElement = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list .card .title'</span>);</span><br><span class="line"><span class="comment">// 获取操作对象</span></span><br><span class="line"><span class="keyword">let</span> listElement = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list .card .list'</span>);</span><br><span class="line"><span class="comment">// 给目标标签添加点击事件</span></span><br><span class="line">titleElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  listElement.classList.add(<span class="string">'list-block'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h6 id="点击闭合"><a href="#点击闭合" class="headerlink" title="点击闭合"></a>点击闭合</h6><p>现在就差最后一步了，如何让展开的list标签收起来，这就需要做一个<br>判断，判断标签是闭合的还是展开的。<br>展开与否，决定权在于list标签有没有list-block 类名，所以我们可<br>以用contains函数去做判断，该函数接收一个类名，返回一个布尔值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取被点击目标</span></span><br><span class="line"><span class="keyword">let</span> titleElement = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list .card .title'</span>);</span><br><span class="line"><span class="comment">// 获取操作对象</span></span><br><span class="line"><span class="keyword">let</span> listElement = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list .card .list'</span>);</span><br><span class="line"><span class="comment">// 给目标标签添加点击事件</span></span><br><span class="line">titleElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 如果包含"list-block"类名，表示list标签是展开的</span></span><br><span class="line">  <span class="keyword">if</span> (listElement.classList.contains(<span class="string">'list-block'</span>)) &#123;</span><br><span class="line">    listElement.classList.remove(<span class="string">'list-block'</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    listElement.classList.add(<span class="string">'list-block'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h4><p>作业要求:<br>1.使用querySelectorAll获取点击的标签<br>2.使用for循环给每个标签添加点击事件<br>3.使用classList 的add方法给标签添加类名，remove方法给标签去除<br>类名，实现点击展开和关闭效果<br>4.定义一个类名添加display属性使得标签可以展开<br>5.回答部分默认是收起的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数据</span></span><br><span class="line"><span class="keyword">let</span> dataList = [</span><br><span class="line">  &#123;</span><br><span class="line">    question: <span class="string">'优课达学院服务流程？'</span>,</span><br><span class="line">    answer:</span><br><span class="line">      <span class="string">'加入优课达学院后，我们会在1个工作日内给你分配专属的班主任和助教，并且邀请你加入班级群中。班主任和助教将会全程陪伴你完成整个阶段的学习'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    question: <span class="string">'学不会怎么办？'</span>,</span><br><span class="line">    answer:</span><br><span class="line">      <span class="string">'你可以选择在群里提问、向助教提问、在问吧产品进行提问、直播答疑课中提问。请记住学习编程是需要多交流、多提问，这样能够学的更好'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    question: <span class="string">'学习时长？'</span>,</span><br><span class="line">    answer:</span><br><span class="line">      <span class="string">'根据我们的经验，即使学的慢3-4个月基本上就可以完成一个阶段的学习（我们见过有1个月学完一个阶段的同学），我们建议你每周分配三天去学习，每次学习1个小时，按照这个计划去执行成长会非常快速。当然我们的班主任也会对你进行各种促学，我们始终关注你的学习成果'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    question: <span class="string">'如何获取证书'</span>,</span><br><span class="line">    answer:</span><br><span class="line">      <span class="string">'当你完成一个阶段的课程学习后，可以向班主任申请证书认证，优课达会安排对你进行考核，考核通过后颁发等级证书'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    question: <span class="string">'无法学习怎么办'</span>,</span><br><span class="line">    answer:</span><br><span class="line">      <span class="string">'优课达产品目前只支持PC电脑学习，并且我们只保证 chrome 系列的浏览器可以运行，对于部分拥有 iPad 的同学也可以使用 iPad 浏览器进行学习。我们会加快产品进度，支持更多端的学习方式'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> questionList = <span class="built_in">document</span>.querySelector(<span class="string">'.question-list'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dataList.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = dataList[i];</span><br><span class="line">  <span class="comment">// 定义模板</span></span><br><span class="line">  <span class="keyword">let</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div class="tile-bg"&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="title"&gt;<span class="subst">$&#123;i + <span class="number">1</span>&#125;</span>.<span class="subst">$&#123;data.question&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;span class="arrow"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;div class="section-list"&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="section"&gt;</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;data.answer&#125;</span></span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 创建模板字符串的父盒子</span></span><br><span class="line">  <span class="keyword">let</span> courseItem = <span class="built_in">document</span>.createElement(<span class="string">'DIV'</span>);</span><br><span class="line">  <span class="comment">// 给父盒子添加类名</span></span><br><span class="line">  courseItem.className = <span class="string">'course-item'</span>;</span><br><span class="line">  courseItem.innerHTML = template;</span><br><span class="line">  questionList.appendChild(courseItem);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> questionElementList = <span class="built_in">document</span>.querySelectorAll(</span><br><span class="line">  <span class="string">'.contact-us .question-list .course-item .tile-bg'</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> answerElementList = <span class="built_in">document</span>.querySelectorAll(</span><br><span class="line">  <span class="string">'.contact-us .question-list .course-item .section-list'</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; questionElementList.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> element = questionElementList[i];</span><br><span class="line">  element.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    disappearAnswers(i);</span><br><span class="line">    <span class="keyword">if</span> (answerElementList[i].classList.contains(<span class="string">'section-list-block'</span>)) &#123;</span><br><span class="line">      answerElementList[i].remove(<span class="string">'section-list-block'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      answerElementList[i].classList.add(<span class="string">'section-list-block'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">disappearAnswers</span>(<span class="params">jumpIndex</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; answerElementList.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = answerElementList[i];</span><br><span class="line">    <span class="keyword">if</span> (i !== jumpIndex) &#123;</span><br><span class="line">      element.classList.remove(<span class="string">'section-list-block'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接入后端数据"><a href="#接入后端数据" class="headerlink" title="接入后端数据"></a>接入后端数据</h2><h4 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(url)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>fetch</strong>函数接收一个接口<strong>url</strong>，返回一个json对象，下面我们使用  fetch来调用一个接口</p>
<h5 id="接口返回的数据"><a href="#接口返回的数据" class="headerlink" title="接口返回的数据"></a>接口返回的数据</h5><p>我们来看看接口返回的数据:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"焦哥"</span>,</span><br><span class="line">      <span class="string">"avator"</span>: <span class="string">"https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/1.png"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"前阿里资深专家(P9)、垂直开放业务负责人阿里B2B首席架构师"</span>,</span><br><span class="line">      <span class="string">"introduce"</span>: <span class="string">"优课达创始人，前最年轻阿里P9，B2B事业部首席架构师，曾主导阿里巴巴中文站建站，打造电商云新型B类生态，曾主导建立了阿里首个全栈开发团队，为阿里培养了一大批中高端技术人才"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"肖奎"</span>,</span><br><span class="line">      <span class="string">"avator"</span>: <span class="string">"https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/3.png"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"前阿里巴巴技术专家，阿里巴巴店铺负责人"</span>,</span><br><span class="line">      <span class="string">"introduce"</span>: <span class="string">"作为资深码农，我更擅长于中间件技术，我对新技术也充满热情，我也很享受传递技术的过程。相信自己可以成功是我送给大家的话"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"樊梵"</span>,</span><br><span class="line">      <span class="string">"avator"</span>: <span class="string">"https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/course/demo/2.png"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"毕业于南京大学，前阿里巴巴云电商移动端负责人"</span>,</span><br><span class="line">      <span class="string">"introduce"</span>: <span class="string">"作为学长，我的成长非常快速，我崇尚敏捷开发，持续迭代自己，迭代技术，我希望你也有这种持续迭代的精神，成就自己的技术之路"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"叶冰"</span>,</span><br><span class="line">      <span class="string">"avator"</span>: <span class="string">"https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/Avatar/%E5%8F%B6%E5%86%B0%E5%A4%B4%E5%83%8F.png"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"毕业于北京大学，优课达高级Java研发工程师"</span>,</span><br><span class="line">      <span class="string">"introduce"</span>: <span class="string">"对于初学者，好程序都是改出来的，要多动手敲代码，不断的调试和优化自己的程序，在错误中汲取养分，提高自己"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"叶瑶"</span>,</span><br><span class="line">      <span class="string">"avator"</span>: <span class="string">"https://qgt-document.oss-cn-beijing.aliyuncs.com/NewCourse/Avatar/%E4%BD%B3%E7%91%B6%E5%A4%B4%E5%83%8F.png"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"毕业于北京科技大学，优课达前端专家"</span>,</span><br><span class="line">      <span class="string">"introduce"</span>: <span class="string">"预备、开火、瞄准，这是最快的软件开发方法。预备、瞄准、瞄准、瞄准，这是最慢的软件开发方法。放开手大胆去做，你会飞快成长。"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"isSuccess"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这条数据中data后的数组里面的内容，跟 <strong>循环渲染</strong>中自定义的数据是一样的，那么就可以将之前自定义的数据用这条数据代替。代码会在的基础上做一点改动，需要将渲染页面的js 代码放到fetch函数的第二个<strong>then</strong>里面，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取card标签的父盒子</span></span><br><span class="line"><span class="keyword">let</span> cardElementList = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list'</span>);</span><br><span class="line"><span class="comment">// 从接口中获取数据</span></span><br><span class="line"><span class="keyword">let</span> url =</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/9136e35b2f3d83a02da75947b21bf161/f11/teacher/list'</span>;</span><br><span class="line"></span><br><span class="line">fetch(url)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> dataList = myJson.data;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; dataList.length; index++) &#123;</span><br><span class="line">      <span class="keyword">const</span> data = dataList[index];</span><br><span class="line">      <span class="comment">// 定义模板</span></span><br><span class="line">      <span class="keyword">let</span> cardTemplate = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class="top"&gt;</span></span><br><span class="line"><span class="string">          &lt;img</span></span><br><span class="line"><span class="string">            src="<span class="subst">$&#123;data.avator&#125;</span>"</span></span><br><span class="line"><span class="string">            class="left"</span></span><br><span class="line"><span class="string">          /&gt;</span></span><br><span class="line"><span class="string">          &lt;div class="right"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="name"&gt;<span class="subst">$&#123;data.name&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="introduce"&gt;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;data.title&#125;</span></span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="bottom"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.introduce&#125;</span></span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">      <span class="comment">// 创建一个填充模板的card标签</span></span><br><span class="line">      <span class="keyword">let</span> cardElement = <span class="built_in">document</span>.createElement(<span class="string">'DIV'</span>);</span><br><span class="line">      cardElement.className = <span class="string">'card'</span>;</span><br><span class="line">      cardElement.innerHTML = cardTemplate;</span><br><span class="line">      <span class="comment">// 将card卡片添加到其父盒子中</span></span><br><span class="line">      cardElementList.appendChild(cardElement);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="封装函数"><a href="#封装函数" class="headerlink" title="封装函数"></a>封装函数</h2><p>如果必须保证在得到my]son以后，再去执行for循环，就要用到函数，<br>因为函数是可以控制执行顺序的。所以可将代码做如下改变:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取card标签的父盒子</span></span><br><span class="line"><span class="keyword">let</span> cardElementList = <span class="built_in">document</span>.querySelector(<span class="string">'.card-list'</span>);</span><br><span class="line"><span class="comment">// 从接口中获取数据</span></span><br><span class="line"><span class="keyword">let</span> url =</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/9136e35b2f3d83a02da75947b21bf161/f11/teacher/list'</span>;</span><br><span class="line"><span class="keyword">let</span> dataList;</span><br><span class="line">fetch(url)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    createElement(myJson.data);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">dataList</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; dataList.length; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = dataList[index];</span><br><span class="line">    <span class="comment">// 定义模板</span></span><br><span class="line">    <span class="keyword">let</span> cardTemplate = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class="top"&gt;</span></span><br><span class="line"><span class="string">          &lt;img</span></span><br><span class="line"><span class="string">            src="<span class="subst">$&#123;data.avator&#125;</span>"</span></span><br><span class="line"><span class="string">            class="left"</span></span><br><span class="line"><span class="string">          /&gt;</span></span><br><span class="line"><span class="string">          &lt;div class="right"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="name"&gt;<span class="subst">$&#123;data.name&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="introduce"&gt;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;data.title&#125;</span></span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="bottom"&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;data.introduce&#125;</span></span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">    <span class="comment">// 创建一个填充模板的card标签</span></span><br><span class="line">    <span class="keyword">let</span> cardElement = <span class="built_in">document</span>.createElement(<span class="string">'DIV'</span>);</span><br><span class="line">    cardElement.className = <span class="string">'card'</span>;</span><br><span class="line">    cardElement.innerHTML = cardTemplate;</span><br><span class="line">    <span class="comment">// 将card卡片添加到其父盒子中</span></span><br><span class="line">    cardElementList.appendChild(cardElement);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="抽象模型"><a href="#抽象模型" class="headerlink" title="抽象模型"></a>抽象模型</h2><p><img src="https://qgt-style.oss-cn-hangzhou.aliyuncs.com/img/course/f11/card.png" alt></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  title: <span class="string">'Java语言入门'</span>,</span><br><span class="line">  authorName: <span class="string">'焦哥'</span>,</span><br><span class="line">  difficultyStar: <span class="number">4</span>,</span><br><span class="line">  price: <span class="number">499</span>,</span><br><span class="line">  crossedPrice: <span class="number">599</span>,</span><br><span class="line">  productTag: <span class="string">'PRESALE'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/09/day46/" data-id="ckf1257g20026nsux49sre5k3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%B3%E6%88%98%E4%BC%98%E8%AF%BE%E8%BE%BE%E5%AE%98%E7%BD%91-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E3%80%81%E7%82%B9%E5%87%BB%E5%B1%95%E5%BC%80%E5%88%97%E8%A1%A8%E3%80%81%E6%8E%A5%E5%85%A5%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E3%80%81%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%E3%80%81/" rel="tag">决战优课达官网(页面渲染、点击展开列表、接入后端数据、封装函数、)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day45" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/03/day45/" class="article-date">
  <time datetime="2020-09-03T07:23:27.000Z" itemprop="datePublished">2020-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/03/day45/">day45</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/03/day45/" data-id="ckf1257fx001xnsuxc6e4fmie" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-day44" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/01/day44/" class="article-date">
  <time datetime="2020-09-01T08:42:34.000Z" itemprop="datePublished">2020-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/01/day44/">day44</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><h4 id="什么是协议"><a href="#什么是协议" class="headerlink" title="什么是协议"></a>什么是协议</h4><p>协议，网络协议的简称，网络协议是通信计算机双方必须共同遵从的一组<br>约定。如怎么样建立连接、怎么样互相识别等。只有遵守这个约定，计算<br>机之间才能相互通信交流。</p>
<h4 id="HTTP-HTTPS协议"><a href="#HTTP-HTTPS协议" class="headerlink" title="HTTP/HTTPS协议"></a>HTTP/HTTPS协议</h4><p>目前网站主要有两种协议，HTTP和HTTPS，具体的原理我们可以不用深<br>究，我们只需要知道他们的区别:</p>
<h1 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h1><p><img src="https://style.youkeda.com/img/course/f4/11/py2-1-2.png" alt></p>
<p>格式说明:<br>·协议类型与域名之间以://(固定写法）分隔。<br>路径(英文常称为path）以单斜杠7开头，中间每层的分隔符也是单斜杠7。<br>○路径相当于一层一层的文件夹。但要注意与windows的文件夹分隔符不要混淆了。<br>。参数:○路径与参数之间用?分隔。看到问号?就知道后面的内容就是参数了。<br>。多个参数之间用<strong>&amp;</strong>分隔。<br>。<strong>参数用”参数名=参数值”( key=value）的格式表示</strong>。<br>这些规则看起来有点多，但不需要刻意背，上网的时候多注意观察浏览<br>器地址栏中的URL|就能理解。<br>URL的格式，就像逛校园，先根据门牌号（域名）找到校园，跟门卫出<br>示了学生证（协议)，顺着路/大楼/层/教室号（路径)走到了教室，告<br>诉老师你的姓名（参数），老师就可以给你传授知识啦。①</p>
<h4 id="扩展知识点"><a href="#扩展知识点" class="headerlink" title="扩展知识点"></a>扩展知识点</h4><h4 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h4><p>可能会看到这样的URL:<br><a href="https://www.douban.com:443/gallery/topic/116390/?from=hot_topic_note&amp;sort=new" target="_blank" rel="noopener">https://www.douban.com:443/gallery/topic/116390/?from=hot_topic_note&amp;sort=new</a><br>域名后的:443表示网站的端口号。HTTP协议默认的端口号是8o<br>HTTPS协议默认的端口号是443。默认的端口号在URL中是可以省略<br>的，其它的端口号就必须要写明了。<br>上网浏览时，大多数情况下看不到端口号，但是大家在开发过程中可能经<br>常会用到不同的端口号，以8ooo.8o80最常见，这些端口号必须写<br>明。</p>
<h4 id="路径的两种情况"><a href="#路径的两种情况" class="headerlink" title="路径的两种情况"></a>路径的两种情况</h4><h4 id="1-相对路径"><a href="#1-相对路径" class="headerlink" title="1.相对路径"></a>1.相对路径</h4><p>大家在开发过程中，可能会看到这样格式的URL:<br>gallery/topic/116390/?from=hot_topic_note&amp;sort=new<br>就要非常小心了。不是以斜杠7开头的路径，表示相对路径，但是具体<br>相对于什么就很复杂了，要看具体情况，所以使用这种相对路径非常容易<br>出错。<br>建议大家书写URL时一定要写以斜杠开头的绝对路径;收到别人给<br>的不是以斜杠7开头的路径时，也要确认清楚。</p>
<h4 id="2-默认路径"><a href="#2-默认路径" class="headerlink" title="2.默认路径"></a>2.默认路径</h4><p>我们在上网时，仅输入了<a href="https://www.douban.com或https://www.douban.com/都能打开豆瓣首页，并没有输入路径啊。实际上，没有输入路径时，表示请求网站的默认页面，那么服务器就会返" target="_blank" rel="noopener">https://www.douban.com或https://www.douban.com/都能打开豆瓣首页，并没有输入路径啊。实际上，没有输入路径时，表示请求网站的默认页面，那么服务器就会返</a><br>回一个默认页面给浏览器。至于具体默认页面是什么页面，是由服务器决<br>定的，通常服务器默认的页面是首页。</p>
<h1 id="什么是API"><a href="#什么是API" class="headerlink" title="什么是API"></a>什么是API</h1><p><strong>APl全称Application Programming Interface</strong>，应用程序接口，API一般<br>是指一些预先定义的函数，目的是可以为开发人员快速访问某一程序，而<br>无需了解和访问源码，或理解它内部工作机制的细节。<br>简单的讲，<strong>API可以快速调用某个程序</strong>。<br>这在计算机里叫做接口，我们生活中也有很多接口，比如U盘可以储存<br>信息，我们访问u盘，只需要把u盘插到电脑上就可以访问，插入的<br>USB接口就是一个接口，我们不需要关心它是如何实现的。<br>又比如电视机上有很多接口，有的连话筒，有的连视频，我们只需要直接<br>插上对应的线就可以实现相应的功能，并不关心它的具体机制。<br>如果大家想要了解关于更多AP工的知识，可以点击查看这个文档</p>
<h5 id="fetch调用API"><a href="#fetch调用API" class="headerlink" title="fetch调用API"></a>fetch调用API</h5><p>我们看一个显示优课达公司信息的AP工:<br>https ://<a href="http://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e7028" target="_blank" rel="noopener">www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e7028</a><br>5/f4/f4-11-1-1<br>把这个URL贴到浏览器，可以看到查询返回结果为:</p>
<p><img src="https://style.youkeda.com/img/course/f4/11/1.png" alt></p>
<p>在浏览器中可能看到很多其他信息，这是因为网站原因，大家可以忽略，只关心返回信息即可。<br>所谓|API，本质上就是一个URL。开头也是http(或https )，只是返回的内容有明显的区别，没有大量多余的字符。API返回的内容统称为数据，那我们该如何使用javascript获取这部分数据呢?我们可以使用fetch这个方法，我们来看看代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fetch(</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-1-1'</span></span><br><span class="line">)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(myJson);</span><br><span class="line">  &#125;);<span class="number">1</span></span><br><span class="line">代码演示</span><br></pre></td></tr></table></figure>

<p>最终我们在控制台也能看到上面的公司信息。<br>这里我们遇到了新的语法—.then，这是个什么东西?为了弄清楚这个，我们首先得知道fetch()返回结果是什么?这是一个Promise对象。</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p><strong>Promise</strong>是<strong>异步编程</strong>的一种解决方案，之前异步编程是通过回调方法来实<br>现的，比如我们看看在|fetch之前的怎么完成网路调用呢?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oReq = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">oReq.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);</span><br><span class="line">&#125;);</span><br><span class="line">oReq.open(</span><br><span class="line">  <span class="string">'GET'</span>,</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-1-1'</span></span><br><span class="line">);</span><br><span class="line">oReq.send();</span><br></pre></td></tr></table></figure>


<p>这是老版的ajax调用，大家以后几乎用不到这种方法。<br>使用这种方法我们需要写一大段代码，然后通过<strong>addEventListener</strong>监听<br>load事件，然后触发后面的function回调函数。如果在这个回调函数<br>里面继续加入setTimeout或者addEventListener监听代码，那么会出<br>现多层嵌套，专业叫做<strong>回调地狱</strong>。<br>而Promise对象可以通过.then触发回调函数，then中文意思下一步，<br>也非常符合人的语义化习惯。<br>在上面response.json(）返回的也是一个Promise对象，所有后续可以<br>继续使用.then触发后续回调。<br>把嵌套型的回调调整成为平铺型的回调，这就完美的解决了回调地狱的<br>问题。</p>
<h4 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h4><p>像上面这种请求数据的接口，我们一般称为GET接口，而fetch在不指定<br>类型时，默认是发起GET请求。<br>在实际情况中，服务端开发同学在给出API接口时，会告诉你这个API<br>是一个GET还是PoST类型。</p>
<h4 id="GET参数请求"><a href="#GET参数请求" class="headerlink" title="GET参数请求"></a>GET参数请求</h4><p>在上面我们练习了如何在程序中调用GET类型API获取结果。、<br>很多情况下，API调用需要参数，</p>
<p>例如，下列查询IP地址信息的API，我们传入的了参数<strong>format=json</strong><br>https:// api6.ipify .org?format=json<br>我们只要把包含参数的完整的URL|直接传入到方法中就可以了。<br>如果对URL的格式不熟悉，需要复习本课程第一章第二节哦<br>下面，我们用<strong>fetch 实现API调用:</strong></p>
<h4 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fetch(<span class="string">'https://www.fastmock.site/mock/3d95acf3f26358ef032d8a23bfdead99/api/getJoke?page=1&amp;count=2&amp;type=video'</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> response.json();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(myJson);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h1><p><strong>提交数据至服务端进行增加、修改、删除等操作，都是POST操作</strong>。与王陆登记入住客栈类似，我们在网页上提交表单进行登录的场景，就<br>是典型的POST操作。</p>
<h4 id="fetch-POST操作"><a href="#fetch-POST操作" class="headerlink" title="fetch - POST操作"></a>fetch - POST操作</h4><p>我们在服务端提供了一个登录接口，接口地址为:</p>
<p>我们知道fetch默认是发起GET请求，那我们该如何发起PoST请求<br>呢?<br>我们查看下fetch文档: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch</a><br>在文档中搜索PoST，我们会发现只要加一个参数method就行了。代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fetch(</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-4-1'</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    method: <span class="string">'POST'</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>最终得到的结果是</p>
<p>{</p>
<p>“issuccess” : false<br>}<br>登录失败了!!和上面故事描述的一样，因为我们没有提供<strong>准入券</strong>，我们<br>添加一下账号密码，分别为:<br>username: ‘admin ‘ ;<br>password: ‘123456’;</p>
<p>我们同样看看上面Fetch文档，我们发现可以通过body属性完成POST请求的传参。<br>注意，在利用body传递json格式数据时，<strong>我们需要在headers里面加入contentType信息。</strong><br>我们完善一下代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把JSON数据序列化成字符串</span></span><br><span class="line"><span class="keyword">const</span> data = <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">  username: <span class="string">'admin'</span>,</span><br><span class="line">  password: <span class="string">'123456'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fetch(</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-4-1'</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: data,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'content-type'</span>: <span class="string">'application/json'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h5 id="post案例"><a href="#post案例" class="headerlink" title="post案例"></a>post案例</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把JSON数据序列化成字符串</span></span><br><span class="line"><span class="keyword">const</span> data = <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line"> school: <span class="string">'南京大学'</span>,</span><br><span class="line">major: <span class="string">'软件工程'</span>,</span><br><span class="line">year: <span class="number">2020</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fetch(</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-4-10'</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: data,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'content-type'</span>: <span class="string">'application/json'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>



<h1 id="Chrome-Network"><a href="#Chrome-Network" class="headerlink" title="Chrome Network"></a>Chrome Network</h1><h4 id="查看GET请求"><a href="#查看GET请求" class="headerlink" title="查看GET请求"></a>查看GET请求</h4><p>我们先来试一试一个GET接口，以之前获取公司信息为例(为了方便显<br>示，我们加入了简单的HTML代码），我们先演示一下:</p>
<p>然后按照下面步骤进行操作:<br><strong>1.首先将右侧网页开启到全屏</strong><br><strong>2.右击选择检查</strong><br><strong>3.在Chrome开发者工具中选择Network面板</strong><br><strong>4.再次刷新页面</strong><br>我们可以看到network中出现一行，我们点击这行，结果如下:</p>
<p><img src="https://style.youkeda.com/img/course/f4/11/2.png" alt></p>
<p><img src="https://style.youkeda.com/img/course/f4/11/3.png" alt></p>
<h4 id="查看POST请求"><a href="#查看POST请求" class="headerlink" title="查看POST请求"></a>查看POST请求</h4><p>同样我们接入登录请求的代码，</p>
<p><img src="https://style.youkeda.com/img/course/f4/11/2.png" alt></p>
<p>从图片中我们可以看到网络请求类型为PoST，并且看到请求参数。<br>大家还可以打开图片中的<strong>Request Headers查看头部信息，可以找到</strong><br><strong>application/json的配置。</strong><br>在实际开发过程中，利用好这些工具是提高开发效率和排查问题的最有效<br>的手段。<br>最后我们来练习一下。</p>
<h4 id="代码案例（多级导航）"><a href="#代码案例（多级导航）" class="headerlink" title="代码案例（多级导航）"></a>代码案例（多级导航）</h4><p>我们再次完善之前的两级菜单作业，在之前我们完成了二级菜单DOM的<br>动态插入，本节课我们利用网络请求完整的完善页面的动态渲染。<br>步骤如下:<br>1.利用网络请求获取菜单信息<br>API地址为:<br>https:/ /<a href="http://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-5-10" target="_blank" rel="noopener">www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-5-10</a><br>请求类别为:GET<br>2.利用之前的JS操作DOM动态插入DOM节点，可以粘贴之前的代码到此<br>处。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">fetch(</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-5-10'</span></span><br><span class="line">)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createItem</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">      li.innerHTML = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class="left"&gt;</span></span><br><span class="line"><span class="string">      &lt;img</span></span><br><span class="line"><span class="string">        class="icon"</span></span><br><span class="line"><span class="string">        src="<span class="subst">$&#123;item.icon&#125;</span>"</span></span><br><span class="line"><span class="string">      /&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;<span class="subst">$&#123;item.title&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">        item.children &amp;&amp; item.children.length &gt; <span class="number">0</span></span></span></span><br><span class="line"><span class="string"><span class="subst">          ? <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      &lt;img</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">        class="more"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">        src="https://style.youkeda.com/img/pizza/context-menu/more.png"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      /&gt;`</span></span></span></span><br><span class="line"><span class="string"><span class="subst">          : <span class="string">''</span></span></span></span><br><span class="line"><span class="string"><span class="subst">      &#125;</span>`</span>;</span><br><span class="line">      <span class="keyword">return</span> li;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> firstMenuBox = <span class="built_in">document</span>.querySelector(<span class="string">'.first'</span>);</span><br><span class="line">    <span class="keyword">const</span> secondMenuBox = <span class="built_in">document</span>.querySelector(<span class="string">'.second'</span>);</span><br><span class="line">    firstMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line">    secondMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> li = createItem(data[i]);</span><br><span class="line">      firstMenuBox.appendChild(li);</span><br><span class="line">      li.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data[i].children &amp;&amp; data[i].children.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          secondMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line">          secondMenuBox.style.display = <span class="string">'block'</span>;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; data[i].children.length; j++) &#123;</span><br><span class="line">            secondMenuBox.appendChild(createItem(data[i].children[j]));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          secondMenuBox.style.display = <span class="string">'none'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/01/day44/" data-id="ckf1257fy001znsuxfhmd6i8n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%EF%BC%88%E5%8D%8F%E8%AE%AE%E3%80%81url%E3%80%81api-get%E8%AF%B7%E6%B1%82%E3%80%81post%E8%AF%B7%E6%B1%82%E3%80%81chrome-Network%EF%BC%89/" rel="tag">网络请求（协议、url、api+get请求、post请求、chrome Network）</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day43" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/29/day43/" class="article-date">
  <time datetime="2020-08-29T08:10:42.000Z" itemprop="datePublished">2020-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/29/day43/">day43</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DOM事件"><a href="#DOM事件" class="headerlink" title="DOM事件"></a>DOM事件</h1><h2 id="DOM绑定事件"><a href="#DOM绑定事件" class="headerlink" title="DOM绑定事件"></a>DOM绑定事件</h2><p>在上章节中，我们已经开始接触事件了，比如下面代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听Input输入事件</span></span><br><span class="line">dom.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听鼠标放置，移动事件</span></span><br><span class="line">dom.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// etc...</span></span><br></pre></td></tr></table></figure>

<p>我们看到DOM可以通过|addEventListener(eventName， callback）绑定<br>eventName事件，这是现在官方认定的绑定操作。<br>可能有些同学看到过如下两种不恰当的写法:</p>
<h4 id="一、事件嵌套到HTML代码中"><a href="#一、事件嵌套到HTML代码中" class="headerlink" title="一、事件嵌套到HTML代码中"></a>一、事件嵌套到HTML代码中</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">"console.log('xxx')"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这种写法会导致Javascript代码镶嵌在HTML代码中，导致HTML代码<br>非常庞大，不利于文件分离。</p>
<h4 id="二、事件方法替换"><a href="#二、事件方法替换" class="headerlink" title="二、事件方法替换"></a>二、事件方法替换</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>

<p>这种写法只能在这个DOM上绑定一个点击事件，下一个设置onclick将<br>会顶替上面的事件方法。<br>相比较而言<strong>addEventListener(）</strong>可以添加多个监听事件。<br>因此建议大家在之后的DOM绑定操作，统一使用addEventListener()。</p>
<h4 id="DOM事件-1"><a href="#DOM事件-1" class="headerlink" title="DOM事件"></a>DOM事件</h4><p>我们打印一下DOM事件对象，这个事件对象会通过回调函数参数传递给我们，如下代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> h1 = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line">h1.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="焦点事件"><a href="#焦点事件" class="headerlink" title="焦点事件"></a>焦点事件</h4><p><strong>focus</strong>:表单组件(lnput,Textarea, etc..)获取焦点事件<br><strong>blur</strong>:表单组件(Input,Textarea, etc..)失去焦点事件①</p>
<h4 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h4><p><strong>click:点击事件</strong><br><strong>dbIclick:双击事件</strong><br><strong>mousedown:在元素上按下任意鼠标按钮。</strong><br><strong>mouseenter:指针移到有事件监听的元素内。</strong><br><strong>mouseleave:指针移出元素范围外（不冒泡)。</strong><br><strong>mousemove:指针在元素内移动时持续触发。</strong><br><strong>mouseover:指针移到有事件监听的元素或者它的子元素内。</strong><br><strong>mouseout:指针移出元素，或者移到它的子元素上。</strong><br><strong>mouseup:在元素上释放任意鼠标按键。</strong></p>
<h4 id="键盘事件。"><a href="#键盘事件。" class="headerlink" title="键盘事件。"></a>键盘事件。</h4><p><strong>keydown:键盘按下事件</strong><br><strong>keyup:键盘释放事件</strong></p>
<h3 id="视图事件，"><a href="#视图事件，" class="headerlink" title="视图事件，"></a>视图事件，</h3><p><strong>scroll:文档滚动事件</strong><br><strong>resize:窗口放缩事件</strong></p>
<h4 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h4><p><strong>load:资源加载成功的事件</strong></p>
<p>从下一张开始，我们也将通过具体案例，讲解这些事件的使用。</p>
<h1 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h1><p>在DOM事件中，最常用的是<strong>点击事件</strong>，比如点击页面跳转，点击页面按钮进行操作等。<br>我们以<strong>uCode我的空间</strong>中新年快乐项目为例，让大家了解一下<strong>点击事件</strong><br>如何使用。大家也可以点开<a href="https://www.youkeda.com/personal/Ucode/m" target="_blank" rel="noopener">https://www.youkeda.com/personal/Ucode/m</a><br>查看其他同学的优秀作品，或者自己新建工程。<br>工程面板截图如下:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/1.png" alt></p>
<p>在这个面板中，我们可以看到底部右侧的两个按钮和右侧的三个·都是<br>可以点击的，点击以后的效果如下所示:</p>
<img src="https://style.youkeda.com/img/course/f4/10/2.png" style="zoom:50%;">

<img src="https://style.youkeda.com/img/course/f4/10/3.png" style="zoom:50%;">

<h5 id="二、Like-按钮点击事件"><a href="#二、Like-按钮点击事件" class="headerlink" title="二、Like 按钮点击事件"></a>二、Like 按钮点击事件</h5><p>我们先来看看完整的按钮效果，图片如下:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/4.gif" alt></p>
<p>那我们该如何实现这个效果呢?<br>1.点击按钮后，添加has-like class，再次点击（取消Like)，删除<br>has-like class<br>2.点击按钮后，将数字+1，再次点击（取消Like)，数字-1<br>我们首先给按钮添加点击事件，并且利用hasLike变量标识是否喜欢:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认是未点击喜欢</span></span><br><span class="line"><span class="keyword">let</span> hasLike = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> likeBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.like-btn'</span>);</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  hasLike = !hasLike;</span><br><span class="line">  <span class="built_in">console</span>.log(hasLike);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家可以点击右侧Like按钮，我们会发现控制台依次打印true , false ，<br>true , etc…</p>
<h4 id="三、根据hasLike修改页面信息"><a href="#三、根据hasLike修改页面信息" class="headerlink" title="三、根据hasLike修改页面信息"></a>三、根据hasLike修改页面信息</h4><p>第二步，根据hasLike的值，修改页面信息，我们继续完善代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认是未点击喜欢</span></span><br><span class="line"><span class="keyword">let</span> hasLike = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> likeBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.like-btn'</span>);</span><br><span class="line"><span class="keyword">const</span> likeBtnRight = likeBtn.querySelector(<span class="string">'.right'</span>);</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  hasLike = !hasLike;</span><br><span class="line">  <span class="keyword">if</span> (hasLike) &#123;</span><br><span class="line">    likeBtn.classList.add(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) + <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    likeBtn.classList.remove(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>最终的效果和上面GIF图片一致。</p>
<h4 id="四、点击三个点显示操作列表"><a href="#四、点击三个点显示操作列表" class="headerlink" title="四、点击三个点显示操作列表"></a>四、点击三个点显示操作列表</h4><p>我们也来看看最终的效果，如下图:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/5.gif" alt></p>
<p>那我们该如何实现上面的效果呢?<br>监听三个点的按钮，点击控制options区域的显示和隐藏，及<br><strong>display: block/none</strong>; 。<br>代码相比上面稍简单一下，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> showMore = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> moreBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .select'</span>);</span><br><span class="line"><span class="keyword">const</span> morePanel = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .options'</span>);</span><br><span class="line">moreBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  showMore = !showMore;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 控制morePanel的显示和隐藏</span></span><br><span class="line">  <span class="keyword">if</span> (showMore) &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家仔细阅读一下上面的代码，同样我们通过DOM的style CSS样式控制<br>元素的显示和隐藏。<br>总结<br>大家学到这儿，应该是有一点点感觉了，没有感觉的同学在把前几章的代码<br>再次回顾一下。<br>其实这几个案例都可以总结成一句话<br>监听 DOM 事件，使用DOM操作，修改DOM属性<br>后面课程我们将继续使用各种常见真实案例，让大家练手，让大家从实战中<br>真正掌握这门技术。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>UCode<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"workspace"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"workspace-banner"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ref</span>=<span class="string">"banner"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"https://qgt-upload.oss-cn-hangzhou.aliyuncs.com/upload/1578559846097?x-oss-process=image/resize,m_fixed,h_372,w_780"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"self"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"workspace-title"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://style.youkeda.com/img/sandwich/ucode/html.png"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>新年快乐！<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"workspace-item-more"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"select"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">              <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/img/sandwich/ucode/more.png"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"options"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"option"</span>&gt;</span></span><br><span class="line">              编辑</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"option"</span>&gt;</span></span><br><span class="line">              删除</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"excelent-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/img/sandwich/ucode/excelent-icon.png"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>优秀<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"workspace-desc"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>工程简介：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"value"</span>&gt;</span>新年快乐动画~<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"opt-box workspace-opt"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"view-btn"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon view"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"lable"</span>&gt;</span>Views<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">            152</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"like-btn"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon like"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"lable like-status"</span>&gt;</span>Like<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">            8</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">"clickFork"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon fork"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"lable"</span>&gt;</span>Fork<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">            5</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.workspace</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">430px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">413px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#1d232a</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(//style.youkeda.com/img/sandwich/ucode/item_bottom.png);</span><br><span class="line">  <span class="attribute">background-position</span>: bottom;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> auto;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">300ms</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.31</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, -<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.self</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.more-action</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-banner</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">390px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">186px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.excelent-icon</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">69px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">36px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">132deg</span>, #fa6400 <span class="number">0%</span>, #f58840 <span class="number">100%</span>);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.excelent-icon</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.excelent-icon</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-title</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-title</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">28px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-title</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-desc</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#7887a7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-desc</span> <span class="selector-class">.label</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#90a2c9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.opt-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">350px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.self</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-item-more</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1000</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-class">.select</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">76px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-class">.select</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">26px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-class">.options</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">76px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#2d325a</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#737aae</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.workspace-item-more</span> <span class="selector-tag">li</span><span class="selector-class">.selected</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#1d2145</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">105px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#434d59</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#5a6471</span> solid;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#535f6d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> <span class="number">#5a6471</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: contain;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: center;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.view</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(//qgt-style.oss-cn-hangzhou.aliyuncs.com/img/sandwich/ucode/view.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.like</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(//qgt-style.oss-cn-hangzhou.aliyuncs.com/img/sandwich/ucode/like.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.workspace-opt</span> <span class="selector-tag">button</span> <span class="selector-class">.fork</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(//qgt-style.oss-cn-hangzhou.aliyuncs.com/img/sandwich/ucode/fork.png);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.has-like</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#cd562e</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.has-like</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#b03f19</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.has-like</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#cd562e</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认是未点击喜欢</span></span><br><span class="line"><span class="keyword">let</span> hasLike = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> likeBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.like-btn'</span>);</span><br><span class="line"><span class="keyword">const</span> likeBtnRight = likeBtn.querySelector(<span class="string">'.right'</span>);</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  hasLike = !hasLike;</span><br><span class="line">  <span class="keyword">if</span> (hasLike) &#123;</span><br><span class="line">    likeBtn.classList.add(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) + <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    likeBtn.classList.remove(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> showMore = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> moreBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .select'</span>);</span><br><span class="line"><span class="keyword">const</span> morePanel = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .options'</span>);</span><br><span class="line">moreBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  showMore = !showMore;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 控制morePanel的显示和隐藏</span></span><br><span class="line">  <span class="keyword">if</span> (showMore) &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="点击事件-背景切换效果"><a href="#点击事件-背景切换效果" class="headerlink" title="点击事件 -背景切换效果"></a>点击事件 -背景切换效果</h4><p><img src="https://style.youkeda.com/img/course/f4/10/6.gif" alt></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>UCode<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/1.jpg"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/2.jpg"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/3.jpg"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/4.jpg"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/5.jpg"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(./images/<span class="number">1</span>.jpg);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"><span class="keyword">const</span> imgArr = box.children;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imgArr.length; i++) &#123;</span><br><span class="line">  imgArr[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.style.backgroundImage = <span class="string">`url(<span class="subst">$&#123;imgArr[i].src&#125;</span>)`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="冒泡、捕获、委托"><a href="#冒泡、捕获、委托" class="headerlink" title="冒泡、捕获、委托"></a>冒泡、捕获、委托</h1><p>冒泡、捕获、委托<br>这节课的主题是你不会经常遇到的，但是如果你不理解的话，它会是一种真<br>正的痛苦。非常多的场景都会用到这个知识。<br>我们先来看看一个案例，在上一节课uCode基础上，我们想在整个工程模<br>板上添加点击事件，跳转到对应的工程详情页面（在这里，我们用<br>https : / / www / youkeda .com官网代替)。<br>我们在JS中对面板增加点击事件，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ......</span></span><br><span class="line"><span class="comment">// 省略前面的代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> workspace = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace'</span>);</span><br><span class="line">workspace.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.location.href = <span class="string">'https://www.youkeda.com'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/course/f4/10/7.gif" alt></p>
<h4 id="冒泡"><a href="#冒泡" class="headerlink" title="冒泡"></a>冒泡</h4><p>因为点击事件先触发Like click事件，再次触发workspace click事件，这<br>就是<strong>事件冒泡</strong>。<br>我们来看一个完整的图示:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/9.png" alt></p>
<p>从上到下，整个是和button.like-btn的DOM树。<br>1.点击事件触发button.like-btn监听事件<br>2.冒泡找到其父亲节点，触发父亲节点的监听事件<br>3.依次冒泡直到html根元素为止。<br>我们也可以用代码来认证我们的思考，依次在组件节点上添加点击事件，如<br>下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> likeBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.like-btn'</span>);</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'.like-btn'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> workspaceOpt = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-opt'</span>);</span><br><span class="line">workspaceOpt.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'.workspace-opt'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> workspace = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace'</span>);</span><br><span class="line">workspace.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'.workspace'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'body'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家尝试点击一下Like按钮，可以看到打印结果如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">".like-btn"</span></span><br><span class="line"><span class="string">".workspace-opt"</span></span><br><span class="line"><span class="string">".workspace"</span></span><br><span class="line"><span class="string">"body"</span></span><br></pre></td></tr></table></figure>

<p>这就是整个冒泡过程，那如何修复上面的冒泡导致效果异常呢?<br>很简单<strong>，阻止冒泡- e.stopPropagation()</strong>;，我们改进一下代码，①</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ......省略</span></span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  e.stopPropagation()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ......省略</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认是未点击喜欢</span></span><br><span class="line"><span class="keyword">let</span> hasLike = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> likeBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.like-btn'</span>);</span><br><span class="line"><span class="keyword">const</span> likeBtnRight = likeBtn.querySelector(<span class="string">'.right'</span>);</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  e.stopPropagation()<span class="comment">// 阻止冒泡</span></span><br><span class="line">  hasLike = !hasLike;</span><br><span class="line">  <span class="keyword">if</span> (hasLike) &#123;</span><br><span class="line">    likeBtn.classList.add(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) + <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    likeBtn.classList.remove(<span class="string">'has-like'</span>);</span><br><span class="line">    likeBtnRight.innerHTML = <span class="built_in">parseInt</span>(likeBtnRight.innerText.trim()) - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> showMore = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> moreBtn = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .select'</span>);</span><br><span class="line"><span class="keyword">const</span> morePanel = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace-item-more .options'</span>);</span><br><span class="line">moreBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  showMore = !showMore;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 控制morePanel的显示和隐藏</span></span><br><span class="line">  <span class="keyword">if</span> (showMore) &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    morePanel.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> workspace = <span class="built_in">document</span>.querySelector(<span class="string">'.workspace'</span>);</span><br><span class="line">workspace.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.location.href = <span class="string">'https://www.youkeda.com'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>可以看到，最终点击Like按钮，并不会导致页面跳转，也就是<strong>冒泡事件被</strong><br><strong>阻止了</strong>。</p>
<h3 id="捕获"><a href="#捕获" class="headerlink" title="捕获"></a>捕获</h3><p>捕获和冒泡是完全相反的，冒泡是从当前元素沿着祖先节点往上冒泡，而捕<br>获是从根HTML节点开始依次移动到当前元素。<br>我们上面使用的<strong>addEventListener</strong>是在冒泡阶段监听事件，如果想在捕获<br>阶段监听事件，我们需要传递第三个参数为true ，代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>在实际场景中，捕获使用的非常少，以后遇到具体情况我们再具体分析，此<br>处大家需要了解一下即可。</p>
<h3 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h3><p><strong>委托</strong>其实是<strong>冒泡事件</strong>的一种应用，这个概念依赖于这样一个事实,如果你想要<br>在<strong>大量子元素中单击任何一个都可以运行一段代码</strong>，您可以将事件监听器设<br>置在其<strong>父节点</strong>上，并让子节点上发生的事件冒泡到父节点上，而不是每个子<br>节点单独设置事件监听器。<br>举个例子，在上一节的课程中，为了监听每个图片点击事件，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"><span class="keyword">const</span> imgArr = box.children;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imgArr.length; i++) &#123;</span><br><span class="line">  imgArr[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.style.backgroundImage = <span class="string">`url(<span class="subst">$&#123;imgArr[i].src&#125;</span>)`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那我们利用委托应该怎么做呢?对，我们只需要监听box即可，代码修改如<br>下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">box.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// document.body.style.backgroundImage = `url($&#123;imgArr[i].src&#125;)`;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>那问题来了，我们怎么获取当前点击图片的地址呢?我们需要使用这个地址<br>赋值给|body.style。<br>不着急，我们首先把这个MouseEvent打印出来看看。<br>演示一下:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/10.png" alt></p>
<p>从图片看出，虽然我们的事件监听是在.box上，但 MouseEvent 的target<br>却在<img>上面，也就是<br>target表示真实响应事件的DOM节点<br>通过这个分析，我们就知道代码怎么写了，完善一下如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">box.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 注意box区域比img大，如果点击在空白间隔区域，那么返回的节点将不会是IMG，需要特殊处理一下</span></span><br><span class="line">  <span class="keyword">if</span> (e.target.nodeName === <span class="string">'IMG'</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.style.backgroundImage = <span class="string">`url(<span class="subst">$&#123;e.target.src&#125;</span>)`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>最终效果和之前的写法—样，这就是委托最常用的案例，利用父元素统一监<br>听所有儿子节点的监听事件。<br><strong>总结</strong><br>本节课的知识更多是一种技巧性，应用性的知识，大家遇到这类知识，不要<br>死记硬背。比如冒泡，捕获，记不清楚顺序没关系，我们写个案例试一下就<br>行了。<br>本节课我们就不出练习题了，在后面的题目中，我们会经常设计到本节课知<br>识。</p>
<h1 id="移动事件"><a href="#移动事件" class="headerlink" title="移动事件"></a>移动事件</h1><p>鼠标移动事件<br>在上一章中，我们在完成京东图片切换的时候，已经接触到鼠标移动事件<br>了，本节课我们详细介绍一下这块知识。<br>在第一小节中，我们知道这些鼠标移动事件一共有5个如下:<br><strong>mouseenter</strong>:指针移到有事件监听的元素内。<br><strong>mouseleave</strong>:指针移出元素范围外（不冒泡)。<br><strong>mousemove</strong>:指针在元素内移动时持续触发。<br><strong>mouseover</strong>:指针移到有事件监听的元素或者它的子元素内。<br><strong>mouseout</strong>:指针移出元素，或者移到它的子元素上。<br>看这个内容还是很混乱，我们把它分类一下o<br><strong>1.mousemove</strong><br>这个是鼠标移动事件，比较简单<br><strong>2.mouseenter/mouseleave</strong><br>这个是鼠标进入和离开事件，但是仅仅只作用于当前DOM节点，不会作<br>用于其后代节点</p>
<p><strong>3.mouseover/mouseout</strong><br>这个也是鼠标进入和离开事件，但和enter/leave不同的是:此事件除了<br>作用于当前DOM节点，也会同时作用于其后代节点<br>在平时使用中，90%我们都只会使用mouseover/mouseout，这个事件。<br>我们直接来上手练习一下</p>
<h2 id="移动事件案例"><a href="#移动事件案例" class="headerlink" title="移动事件案例"></a>移动事件案例</h2><p><img src="https://style.youkeda.com/img/course/f4/10/11.gif" alt></p>
<p>我们需要实现两个功能<br>1.当鼠标放置在菜单上时，显示整个圣诞老人，和圣诞老人说的话<br>2.当鼠标离开时，恢复原样<br>那这么效果怎么实现的呢?<br>页面绘制<br>页面绘制，我已经在题目中内置了，我们大致介绍一下页面元素:</p>
<p>动态效果<br>监听鼠标放置和离开事件，给圣诞老人和圣诞老人的话DOM节点添加对应<br>的效果<br>1.圣诞老人往右移动，也就是修改style.left<br>2.圣诞老人的话透明度为不透明，也就是修改style.opacity</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>UCode<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa santa--walk"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hukidashi hukidashi--speak"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Where?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;div class="sweat"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class="sweat"&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hat"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hat-part"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hat-part"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__face"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__eyebrows santa__eyebrows--right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__eyebrows santa__eyebrows--left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__eye santa__eye--right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__eye santa__eye--left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__nose"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__cheek santa__cheek--right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__cheek santa__cheek--left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__beard"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__beard-part"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__beard-part"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__beard-part"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__mouth"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__body"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__body-top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hand santa__hand--left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hand-inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__hand santa__hand--right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__body-bottom"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__foot santa__foot--left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__foot-inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__foot santa__foot--right"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"santa__foot-inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d8d8d8</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa</span><span class="selector-class">.santa--walk</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">30deg</span>);</span><br><span class="line">  <span class="attribute">transition</span>: right <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.santa</span><span class="selector-class">.santa--walk</span> <span class="selector-class">.hukidashi</span><span class="selector-class">.hukidashi--speak</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">30deg</span>) <span class="built_in">translate</span>(<span class="number">40px</span>, <span class="number">0px</span>);</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.santa</span><span class="selector-class">.santa--walk</span> <span class="selector-class">.hukidashi</span><span class="selector-class">.hukidashi--speak</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">right</span>: unset;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">120deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.santa</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">125px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">107px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa--walk</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: santa-walk <span class="number">20s</span> linear normal infinite;</span><br><span class="line">  <span class="attribute">animation</span>: santa-walk <span class="number">20s</span> linear normal infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa--walk</span> <span class="selector-class">.hukidashi</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">31px</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: santa-walk-hukidashi <span class="number">20s</span> linear normal infinite;</span><br><span class="line">  <span class="attribute">animation</span>: santa-walk-hukidashi <span class="number">20s</span> linear normal infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa--walk</span> <span class="selector-class">.sweat</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: sweat <span class="number">1s</span> linear normal infinite;</span><br><span class="line">  <span class="attribute">animation</span>: sweat <span class="number">1s</span> linear normal infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa--walk</span> <span class="selector-class">.sweat</span><span class="selector-pseudo">:nth-of-type(2)</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: sweat2 <span class="number">1s</span> linear normal infinite;</span><br><span class="line">  <span class="attribute">animation</span>: sweat2 <span class="number">1s</span> linear normal infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.santa__hat-part</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">31px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">43px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">58px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">28deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">28deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hat-part</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.santa__hat-part</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hat-part</span><span class="selector-pseudo">:nth-of-type(1)</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hat-part</span><span class="selector-pseudo">:nth-of-type(1)</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">22deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">22deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hat-part</span><span class="selector-pseudo">:nth-of-type(2)</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">31px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">44px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">34px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">12deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">12deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__face</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">37px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">31px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">10deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">10deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fde2b7</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:nth-of-type(2)</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">26px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:nth-of-type(2)</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:nth-of-type(2)</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:nth-of-type(3)</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">27px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__beard-part</span><span class="selector-pseudo">:nth-of-type(3)</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eyebrows</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eyebrows--left</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">65deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">65deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eyebrows--right</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-<span class="number">65deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">65deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eye</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eye--left</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__eye--right</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__nose</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f7d194</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__cheek</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f4cfe3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__cheek--left</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__cheek--right</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">22px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">54px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">88px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">53px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">right</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">53px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">51px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">42%</span> <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f3f0f0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body-top</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">39px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span> <span class="number">50%</span> <span class="number">10%</span> <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body-top</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">1deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">1deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body-top</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">27px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">1deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">1deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__body-bottom</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">44px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.santa__foot</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span> <span class="number">50%</span> <span class="number">50%</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--left</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: santa-foot-left <span class="number">0.8s</span> linear alternate infinite;</span><br><span class="line">  <span class="attribute">animation</span>: santa-foot-left <span class="number">0.8s</span> linear alternate infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--left</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--left</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">26px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: santa-foot-right <span class="number">0.8s</span> linear alternate infinite;</span><br><span class="line">  <span class="attribute">animation</span>: santa-foot-right <span class="number">0.8s</span> linear alternate infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--right</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__foot--right</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hand</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hand--left</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hand--left</span> <span class="selector-class">.santa__hand-inner</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">49px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">12deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">12deg</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: santa-hand-left <span class="number">1s</span> linear alternate infinite;</span><br><span class="line">  <span class="attribute">animation</span>: santa-hand-left <span class="number">1s</span> linear alternate infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hand--left</span> <span class="selector-class">.santa__hand-inner</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">25deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">25deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.santa__hand--right</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-<span class="number">60deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">60deg</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63527</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">69px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.hukidashi</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi--speak</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">9px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">5px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">4px</span> solid transparent;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">41deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">41deg</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi--think</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">9px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi--think</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hukidashi</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">13px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> santa = <span class="built_in">document</span>.querySelector(<span class="string">'.santa.santa--walk'</span>);</span><br><span class="line"><span class="keyword">const</span> speak = santa.querySelector(<span class="string">'.hukidashi.hukidashi--speak'</span>);</span><br><span class="line"></span><br><span class="line">santa.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  santa.style.left = <span class="string">'100px'</span>;</span><br><span class="line">  speak.style.opacity = <span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">santa.addEventListener(<span class="string">'mouseout'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  santa.style.left = <span class="string">'30px'</span>;</span><br><span class="line">  speak.style.opacity = <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="案例二"><a href="#案例二" class="headerlink" title="案例二"></a>案例二</h4><p><img src="https://style.youkeda.com/img/course/f4/10/12.gif" alt></p>
<p>我们来观察一下这个菜单的特点<br>1.菜单分为1级菜单和⒉级菜单<br>2.如果1级菜单有⒉级菜单，则在1级右边显示三角形<br>3.如果1及菜单有⒉级菜单，则鼠标放在在1级菜单，右侧自动出现⒉级<br>菜单。<br>右侧代码中为了方便大家观看，已经内置了静态菜单的HTML，大家可以<br>运行一下，看看效果。<br><strong>任务要求:</strong><br>1.清空HTML 中ul内容，包括1级菜单和2及菜单<br>2.利用JS动态操作DOM插入1级菜单内容<br>3.如果1级菜单有子菜单，右侧出现三角形<br>4.鼠标放置在1级菜单上，自动出现其二级菜单，鼠标离开以后，二级菜单<br>消失(display: block/none ) 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>多级导航<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu-list first"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu-list second"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menu-list</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#262836</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.27</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">98px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a2a2a2</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span> <span class="selector-class">.more</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#171924</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu-list</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#171924</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.second</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.second</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#171924</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.first</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.second</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">138px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'新建'</span>,</span><br><span class="line">    icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/new.png'</span>,</span><br><span class="line">    children: [</span><br><span class="line">      &#123;</span><br><span class="line">        title: <span class="string">'文件'</span>,</span><br><span class="line">        icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/new_file.png'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        title: <span class="string">'文件夹'</span>,</span><br><span class="line">        icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/new_folder.png'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'导入'</span>,</span><br><span class="line">    icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/import.png'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'重命名'</span>,</span><br><span class="line">    icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/rename.png'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'删除'</span>,</span><br><span class="line">    icon: <span class="string">'https://style.youkeda.com/img/pizza/context-menu/delete.png'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createItem</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  li.innerHTML = <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div class="left"&gt;</span></span><br><span class="line"><span class="string">    &lt;img</span></span><br><span class="line"><span class="string">      class="icon"</span></span><br><span class="line"><span class="string">      src="<span class="subst">$&#123;item.icon&#125;</span>"</span></span><br><span class="line"><span class="string">    /&gt;</span></span><br><span class="line"><span class="string">    &lt;span&gt;<span class="subst">$&#123;item.title&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">      item.children &amp;&amp; item.children.length &gt; <span class="number">0</span></span></span></span><br><span class="line"><span class="string"><span class="subst">        ? <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &lt;img</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      class="more"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      src="https://style.youkeda.com/img/pizza/context-menu/more.png"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    /&gt;`</span></span></span></span><br><span class="line"><span class="string"><span class="subst">        : <span class="string">''</span></span></span></span><br><span class="line"><span class="string"><span class="subst">    &#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">return</span> li;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> firstMenuBox = <span class="built_in">document</span>.querySelector(<span class="string">'.first'</span>);</span><br><span class="line"><span class="keyword">const</span> secondMenuBox = <span class="built_in">document</span>.querySelector(<span class="string">'.second'</span>);</span><br><span class="line">firstMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line">secondMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> li = createItem(data[i]);</span><br><span class="line">  firstMenuBox.appendChild(li);</span><br><span class="line">  li.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (data[i].children &amp;&amp; data[i].children.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      secondMenuBox.innerHTML = <span class="string">''</span>;</span><br><span class="line">      secondMenuBox.style.display = <span class="string">'block'</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; data[i].children.length; j++) &#123;</span><br><span class="line">        secondMenuBox.appendChild(createItem(data[i].children[j]));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      secondMenuBox.style.display = <span class="string">'none'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="表单元素事件"><a href="#表单元素事件" class="headerlink" title="表单元素事件"></a>表单元素事件</h1><h4 id="表单元素事件-1"><a href="#表单元素事件-1" class="headerlink" title="表单元素事件"></a>表单元素事件</h4><p>本节课我们学习一下表单元素的事件，该事件能让我们捕捉表单元素状态<br>变化和内容值的修改。</p>
<h4 id="焦点事件-1"><a href="#焦点事件-1" class="headerlink" title="焦点事件"></a>焦点事件</h4><p>我们先来看看获取焦点和失去焦点两个事件—focus和blur，非常简<br>单，我们直接来看案例。<br>我们给QQ注册页的昵称输入框加入焦点事件:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nick = <span class="built_in">document</span>.querySelector(<span class="string">'input.nick'</span>);</span><br><span class="line">nick.addEventListener(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'获取焦点'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">nick.addEventListener(<span class="string">'blur'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'失去焦点'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="内容值变化"><a href="#内容值变化" class="headerlink" title="内容值变化"></a>内容值变化</h4><p>对于表单元素，有两种事件可以监听元素内容变化— <strong>input和</strong><br><strong>change。</strong><br>我们写个案例看看情况，仍然对昵称输入框加上上面两种事件的监听，代<br>码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nick = <span class="built_in">document</span>.querySelector(<span class="string">'input.nick'</span>);</span><br><span class="line">nick.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'-----input'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(nick.value);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">nick.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'-----change'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(nick.value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>我们发现，只要在输入框里面输入值，就会触发input事件。而要等到输<br>入框失去焦点，才会触发change事件。</p>
<h4 id="表单元素事件案例"><a href="#表单元素事件案例" class="headerlink" title="表单元素事件案例"></a>表单元素事件案例</h4><p><img src="https://style.youkeda.com/img/course/f4/10/13.gif" alt></p>
<p>实现步骤:<br>1.监听mobile-input的input事件<br>2.在监听回调里面判断input.value值，如果不是空或者11位，则提示错<br>误信息。<br>3.错误信息放置在</p><p class="error" style="color: red"></p>中，提<br>示信息为手机号码格式不正确<p></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>UCode<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"core"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"nick"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"昵称"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"password"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mobile"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>+86<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>+852<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"mobile-input"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxlength</span>=<span class="string">"11"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">placeholder</span>=<span class="string">"手机号码"</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"mobile-tip"</span>&gt;</span>可通过该手机号找回密码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"error"</span> <span class="attr">style</span>=<span class="string">"color: red"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"submit"</span>&gt;</span>立即注册<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"agreement"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>我已阅读并同意相关服务条款和隐私政策<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.core</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">571px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">63px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">select</span>,</span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#aaaaaa</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">19px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mobile</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-class">.password</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">32px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mobile</span> &gt; <span class="selector-tag">select</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">154px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mobile</span> &gt; <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">307px</span>;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aaaaaa</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mobile-tip</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.submit</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">38px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#3487ff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#3083ff</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">5px</span> <span class="number">8px</span> <span class="built_in">rgba</span>(<span class="number">24</span>, <span class="number">95</span>, <span class="number">255</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.agreement</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">32px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aaaaaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.agreement</span> &gt; <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.agreement</span> &gt; <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mobile = <span class="built_in">document</span>.querySelector(<span class="string">'.mobile-input'</span>);</span><br><span class="line">mobile.addEventListener(<span class="string">'input'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (mobile.value===<span class="string">''</span>||mobile.value.length===<span class="number">11</span>) &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="built_in">document</span>.write(<span class="string">"&lt;p class='error' style='color: red'&gt;手机号码格式不正确&lt;/p&gt;"</span>); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h1 id="滚动事件"><a href="#滚动事件" class="headerlink" title="滚动事件"></a>滚动事件</h1><h4 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h4><p>最后我们来学习下页面滚动事件，在什么时候需要使用监听滚动呢?一般<br>用在哪些场景呢?我们来看看一些案例:</p>
<h6 id="1-无尽滚动"><a href="#1-无尽滚动" class="headerlink" title="1.无尽滚动"></a>1.无尽滚动</h6><p>我们在很多网站都看到过网页每次滚动到底部，会加载新内容，再次滚动<br>到底部，又会加载新内容，比如在优课达问吧页面:<br><a href="https://www.youkeda.com/personal/post/m" target="_blank" rel="noopener">https://www.youkeda.com/personal/post/m</a><br>代价可以尝试往下面滚动，看看效果</p>
<h6 id="2-动态效果"><a href="#2-动态效果" class="headerlink" title="2.动态效果"></a>2.动态效果</h6><p>滚动一般用于展示一些动态效果，比如知乎头部，效果如下图:</p>
<p><img src="https://style.youkeda.com/img/course/f4/10/14.gif" alt></p>
<p>我们发现当页面滚动时，知乎头部会切换成新的头部。<br>那本节课我们将以这两个场景来学习滚动事件。</p>
<h4 id="事件描述"><a href="#事件描述" class="headerlink" title="事件描述"></a>事件描述</h4><p>滚动事件，事件名称为<strong>— scroll。</strong><br>首先来看看事件如何处理和监听，我们以之前的前端基础课程中文章为<br>例，加入JS代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">window</span>.scrollY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家尝试滚动一下页面，我们会发现sConsole里会陆续打印一些数字，<br>这些数字就是scrollY(Y轴滚动距离)。</p>
<h4 id="无尽滚动"><a href="#无尽滚动" class="headerlink" title="无尽滚动"></a>无尽滚动</h4><p>那接下来我们加一下无尽滚动效果，当页面快滚动到底部时，添加新的文<br>章内容到body 中。<br>代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 可以通过clientHeight获取内容高度</span></span><br><span class="line">  <span class="keyword">const</span> height = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 通过screen.height获取浏览器的高度</span></span><br><span class="line">  <span class="keyword">const</span> screenHeight = <span class="built_in">window</span>.screen.height;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当距离底部的距离小于500时，触发页面新增内容</span></span><br><span class="line">  <span class="keyword">if</span> (height - <span class="built_in">window</span>.scrollY - screenHeight &lt; <span class="number">500</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'加载新文章内容'</span>);</span><br><span class="line">    <span class="comment">// 在底部添加10张图片</span></span><br><span class="line">    <span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">      str += <span class="string">`</span></span><br><span class="line"><span class="string">       &lt;img</span></span><br><span class="line"><span class="string">        class="first"</span></span><br><span class="line"><span class="string">        alt=""</span></span><br><span class="line"><span class="string">        src="https://document.youkeda.com/P3-1-HTML-CSS/1.8/1.jpg?x-oss-process=image/resize,h_300"</span></span><br><span class="line"><span class="string">      /&gt;</span></span><br><span class="line"><span class="string">      `</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    div.innerHTML = str;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家先阅读下上面的代码，主要使用到的技术<br>1.内容高度|<strong>document.body.clientHeight</strong><br>2.浏览器高度<strong>window. screen.height</strong><br>3.滚动距离<strong>window .scrollY</strong><br>4.滚动距离底部距离|<strong>内容高度–浏览器高度–滚动距离</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"core"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://style.youkeda.com/img/course/f4/10/15.png"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://style.youkeda.com/img/course/f4/10/16.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span> <span class="attr">style</span>=<span class="string">"height: 3000px"</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#e5e5e5</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.core</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1026px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">52px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.core</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1026px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">52px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> core = <span class="built_in">document</span>.querySelector(<span class="string">'.core'</span>);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> scrollY = <span class="built_in">window</span>.scrollY;</span><br><span class="line">  <span class="keyword">if</span> (scrollY &lt; <span class="number">100</span>) &#123;</span><br><span class="line">    core.style.transform = <span class="string">'translateY(0)'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    core.style.transform = <span class="string">'translateY(-52px)'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/29/day43/" data-id="ckf1257g00022nsuxaazl202l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM%E4%BA%8B%E4%BB%B6-%E3%80%81%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E5%A7%94%E6%89%98%E3%80%81%E7%A7%BB%E5%8A%A8%E4%BA%8B%E4%BB%B6%E3%80%81%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E4%BA%8B%E4%BB%B6%E3%80%81%E6%BB%9A%E5%8A%A8%E4%BA%8B%E4%BB%B6/" rel="tag">DOM事件 、点击事件、冒泡、捕获、委托、移动事件、表单元素事件、滚动事件</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day42" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/27/day42/" class="article-date">
  <time datetime="2020-08-27T11:58:32.000Z" itemprop="datePublished">2020-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/27/day42/">day42</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="初识DOM-文档对象模型"><a href="#初识DOM-文档对象模型" class="headerlink" title="初识DOM-文档对象模型"></a>初识DOM-<strong>文档对象模型</strong></h1><p>先给大家打一个预防针，本节课是<strong>整个Javascript甚至整个前端最最核心的内容</strong>，大家一定要认真仔细学习。当然本节内容也非常多，我会化繁为简，抽取其中最实用的给大家介绍。<br>在之前课程中我们都学习过HTML、CSS，本课程也掌握了Javascript的<br>一些基本语法，大家是否有疑问:<br>都说前端三板斧，那Javascript和HTML、CSS有什么联系呢?怎么使用<br>Javascript 来操作HTML和CSS呢?<br>这就归功于本节课的<strong>重点</strong>—<strong>文档对象模型</strong>，<strong>Document Object Model—般我们简称为DOM。</strong></p>
<p>官方解释为:<strong>文档对象模型(DOM)可以将web页面与脚本或编程语言连接起来</strong>.<br>我们来理解下这句话，有两个重点:</p>
<h4 id="1-web页面"><a href="#1-web页面" class="headerlink" title="1.web页面"></a>1.web页面</h4><p>这里的web页面，也就是之前我们用HTML和CSS绘制的页面，也称作为文档</p>
<h4 id="2-脚本或编程语言"><a href="#2-脚本或编程语言" class="headerlink" title="2.脚本或编程语言"></a>2.脚本或编程语言</h4><p>为什么这里不直接说将Web页面和Javascript语言连接起来，而要绕—下说<strong>脚本或编程语言</strong>呢?<br>因为DOM是一种规范，或者是一种约定，只要遵循这个规范，那么无论是<strong>Javascript，还是 python，或者 java</strong>都可以被连接起来。那紧接着，我们来看看DOM是如何将实现连接的?</p>
<h4 id="DOM映射"><a href="#DOM映射" class="headerlink" title="DOM映射"></a>DOM映射</h4><p>我们平时写HTML的时候，大多都认为HTML是平面的东西，一堆文字包裹在一堆标签中间。但实际上像HTML和XML这种形式的文档都是<strong>树状结构</strong>，也对应数据结构中的<strong>树</strong>。我们写一个简单的 Web页面(HTML代码编写)，并尝试将其转换成树。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;youkeda&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;优课达&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;学的比别人好一点&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>

<p>转换成的树图示：</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/1.jpeg" alt></p>
<p>图示就是一棵倒着的树，最顶部我们称为树根，这棵树就是 DOM树。<br>我们总结下DOM树特性:<br>1.树根是DOCUMENT，也可以称为整个页面文档<br>2.每个HTML标签我们称之为<strong>DOM节点</strong>，英文为<strong>Node</strong>或者<strong>ELement</strong><br>3.每个HTML标签包裹的子标签，在树上体现为分支，称为<strong>儿子节点</strong>。比如<br>上图，P和H1都是_DIv的儿子节点。[DIv同样也是BODY的儿子节<br>点。<br>4.儿子节点类推可以得知P，H1是 BODY的<strong>孙子节点</strong>。<br>5.所有Р，H1的长辈，我们称为Р和H1的<strong>祖先节点</strong>。</p>
<ol start="6">
<li>P，H1是亲兄弟，我们称为<strong>兄弟节点</strong>。<br>注意上面的特性中的粗体，这些不是开玩笑的父子游戏，这是专业术语<br>哈!</li>
</ol>
<h5 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h5><p><img src="https://style.youkeda.com/img/course/f4/9/2.jpeg" alt></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>学的比别人好一点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>https://www.youkeda.com<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="访问DOM"><a href="#访问DOM" class="headerlink" title="访问DOM"></a>访问DOM</h1><h2 id="获取DOCUMENT"><a href="#获取DOCUMENT" class="headerlink" title="获取DOCUMENT"></a>获取DOCUMENT</h2><p>在上节课中我们知道web 网页最终会映射为一棵DOM树，DOM树连接网页和Javascript语言，那我们该怎么获取DOM树的根部元素呢?很简单，DOCUMENT元素会存在全局变量window下面，我们可以通过<br>如下代码来访问:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.document);</span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/course/f4/9/3.png" alt></p>
<p>从JSConsole我们知道，window .document得到的是一个HTMLDocument对象，这个对象内容有点多，大家不需要全部了解，只需要看几个属性即可，比如document内容key为documentElement :</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/4.png" alt></p>
<p>还可以了解一下body , head属性，分别对应HTML中的body , head内<br>容。<br>Chrome 调试工具<br>上面的打印结果非常难以阅读，Chrome 浏览器为了方便大家阅读，开发<br>一套开发者工具，大家可以在非工程目录区域点击右键，点击检查开启开<br>发者窗口，如下图所示:</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/5.png" alt></p>
<p>然后执行下面三个步骤:<br>1.开发者窗口里面切换到Console面板<br>2.再次点击代码演示<br>3.可以看到Console里面出现#document，这个是Chrome单独处理过<br>的，可读性较强（学习平台中的JSConsole是最原生的对象类型)。<br>大家以后可以在此处查看Console，以后课程内容，我会同时截取两处的<br>图片方便大家查看。<br>具体操作步骤如下图所示:</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/6.png" alt></p>
<p>从这个结果更能明确发现，window.document也就是整个HTML(网页)<br>内容。</p>
<h4 id="选择器查询"><a href="#选择器查询" class="headerlink" title="选择器查询"></a>选择器查询</h4><p>通过上面的代码，我们可以得到了整个网页内容，那如果我们想获取某一个特殊节点应该怎么办呢?我们用<strong>前端基础课程的大作业(QQ注册页)</strong>这个复杂的HTML代码作为案例。<br>代码如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>QQ注册<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"qq"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/qq.png"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>QQ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"bright"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/bright.png"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">alt</span>=<span class="string">"QQ靓号"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"language"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>简体中文<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">"arrow"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/arrow-down.png"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"contact"</span>&gt;</span>意见反馈<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"core"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎注册QQ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subtitle"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>每一天，乐在沟通。<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"free-bright"</span>&gt;</span>免费靓号<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"昵称"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"password"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mobile"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">option</span>&gt;</span>+86<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">option</span>&gt;</span>+852<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"手机号码"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"mobile-tip"</span>&gt;</span>可通过该手机号找回密码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"submit"</span>&gt;</span>立即注册<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"agreement"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>我已阅读并同意相关服务条款和隐私政策<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">footer</span>&gt;</span>Copyright © 1998-2019Tencent All Rights Reserved<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我们如何获取到subtitle这个节点呢?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"subtitle"</span>&gt;</span><br><span class="line">  &lt;h2&gt;每一天，乐在沟通。&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">  &lt;a class="free-bright"&gt;免费靓号&lt;/</span>a&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>这就需要用到选择器查询方法— querySelector()<br>这个方法需要传递一个字符串形式的selectors作为筛选条件。这需要利用大家已经<br>学过的CSS知识，在此处我们可以使用‘.subtitle’作为条件。<br>但如果页面中有很多个class为subtitle的节点，可能筛选结果就不太准确了，我<br>们可以加强了筛选条件，为:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基础筛选条件</span></span><br><span class="line"><span class="string">'.subtitle'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//加强版本，加上父亲筛选， 筛选 main标签下面 -&gt; class为core的节点下面 -&gt; class为subtitle的节点</span></span><br><span class="line"><span class="string">'main .core .subtitle'</span>;</span><br></pre></td></tr></table></figure>

<p>完整的代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'main .core .subtitle'</span>);</span><br></pre></td></tr></table></figure>

<p>最终的结果如下：</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/7.png" alt></p>
<p>两者结合我们知道筛选到的节点满足我们的要求，并且这个节点是HTMLDivElement<br>类型，我们又认识一种新的DOM对象。</p>
<h4 id="迭代查询"><a href="#迭代查询" class="headerlink" title="迭代查询"></a>迭代查询</h4><p>当我们得到subtitle元素后，我们还可以利用这个元素，继续筛选器内部元素，比<br>如我们想筛选器内部的a标签，我们可以继续完善代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> subtitle = <span class="built_in">document</span>.querySelector(<span class="string">'main .core .subtitle'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(subtitle.querySelector(<span class="string">'a'</span>));</span><br></pre></td></tr></table></figure>

<h4 id="选择器全量查询"><a href="#选择器全量查询" class="headerlink" title="选择器全量查询"></a>选择器全量查询</h4><p>在上面的技术中，我们只能查询到第一个满足条件的节点，那该怎么查询所有满足<br>条件的节点呢?<br>很简单，换一个方法，改为querySelectorAll()，我们来看个新的案例，查询上面<br>HTML中的所有input节点。<br>代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'input'</span>);</span><br></pre></td></tr></table></figure>

<p>最终效果如下：</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/9.png" alt></p>
<p>可以发现，我们找到了4个input|节点，并且查询返回的是一个类数组，我们可以<br>直接通过索引访问。o<br>类数组，顾名思义类似数组形式，(可以通过索引访问的对象我们都可以称之为<br>类数组)，从JSConsole中我们实际得到的是NodeList对象。</p>
<h4 id="其他筛选方法"><a href="#其他筛选方法" class="headerlink" title="其他筛选方法"></a>其他筛选方法</h4><p>querySelector和querySelectorAll是最新提出的方法，在这两个方法之前，<br>有一套最原生的DOM查询函数，我们简单介绍下:<br><strong>getElementByld():</strong>根据id查询某个节点<br><strong>getElementsByClassName()</strong>:根据class查询多个节点<br><strong>getElementsByTagName():</strong>根据标签名查询多个节点<br>那querySelector(All)和getElementXXX有什么具体区别呢?最主要的区别在于—<strong>动态性</strong>。</p>
<p>querySelector 查询出来的元素是拷贝的原始数据，不会再随着页面DOM节点的<br>改变而变化<br>get系列方法查询出来的元素就是原始数据，所以会随着页面的DOM节点的改<br>变而变化<br>这部分不要求掌握!大家只需要记住在以后的场景中，大多数都是用<br>querySelector(Al1）即可。</p>
<h4 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h4><p>请利用所学的知识筛选右上角QQ靓号的图片DOM节点，如图区域:</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/11.png" alt></p>
<p>打印结果如下：</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/12.png" alt></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>QQ注册<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"qq"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/qq.png"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>QQ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"bright"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/bright.png"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">alt</span>=<span class="string">"QQ靓号"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"language"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>简体中文<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">"arrow"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/arrow-down.png"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"contact"</span>&gt;</span>意见反馈<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"core"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎注册QQ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subtitle"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>每一天，乐在沟通。<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"free-bright"</span>&gt;</span>免费靓号<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"昵称"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"password"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mobile"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">option</span>&gt;</span>+86<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">option</span>&gt;</span>+852<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"手机号码"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"mobile-tip"</span>&gt;</span>可通过该手机号找回密码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"submit"</span>&gt;</span>立即注册<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"agreement"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>我已阅读并同意相关服务条款和隐私政策<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">footer</span>&gt;</span>Copyright © 1998-2019Tencent All Rights Reserved<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">'.bright &gt; img'</span>));</span><br></pre></td></tr></table></figure>



<h4 id="二"><a href="#二" class="headerlink" title="二"></a>二</h4><p>请利用所学的知识第二个Option DOM节点，如下代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;option&gt;+<span class="number">852</span>&lt;<span class="regexp">/option&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/course/f4/9/13.png" alt></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">'select option:nth-child(2)'</span>));</span><br></pre></td></tr></table></figure>



<h1 id="DOM属性"><a href="#DOM属性" class="headerlink" title="DOM属性"></a>DOM属性</h1><h2 id="DOM种类"><a href="#DOM种类" class="headerlink" title="DOM种类"></a>DOM种类</h2><p>本节课我们学习DOM内部细节，学习他的重要属性，在学习之前，我们先统计下<br>上个小节我们遇到的DOM种类。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTMLDocument 根文档 --&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  ……</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- HTMLDivElement DIV类型 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="subtitle"&gt;</span></span><br><span class="line"><span class="regexp">  ……</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- HTMLAnchorElement 超链接类型 --&gt;</span><br><span class="line">&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"free-bright"</span>&gt;免费靓号&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- HTMLInputElement Input类型 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;input class="password" type="pasworkd" placeholder="请输入密码" /</span>&gt;</span><br></pre></td></tr></table></figure>

<p>我们发现基本每一种HTML标签都有一种DOM类型对应，当然还有非常多的类<br>型，大家可以打开MDN网站<a href="https://developer.mozilla.org/zh-" target="_blank" rel="noopener">https://developer.mozilla.org/zh-</a><br>CN/docs/Web/API，在页面中搜索Element。<br>这些类型不要求牢记，大家稍微了解一下即可。我们马上来重点学习下他们的共同<br>属性。</p>
<h2 id="DOM属性-1"><a href="#DOM属性-1" class="headerlink" title="DOM属性"></a>DOM属性</h2><h5 id="DOM类别"><a href="#DOM类别" class="headerlink" title="DOM类别"></a>DOM类别</h5><p>在上面我们看到很多DOM种类，但可以归纳为几个类别:<br><strong>1.元素节点</strong><br><strong>2.特性节点</strong><br><strong>3.文本节点</strong><br>4….其他类别不重要，忽略<br>那这三种节点分别对应什么HTML代码呢?我们来看个案例<br>html代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span> /&gt;</span><br><span class="line">  &lt;title&gt;优课达&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"test"</span>&gt;优课达&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./i</span>ndex.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure>

<p>JS 代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> divDom = <span class="built_in">document</span>.querySelector(<span class="string">'div#test'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(divDom.nodeType, divDom.nodeName, divDom.nodeValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取DIV节点的第一个儿子节点，代表 '优课达' 这个字符串</span></span><br><span class="line"><span class="keyword">let</span> txtDom = divDom.firstChild;</span><br><span class="line"><span class="built_in">console</span>.log(txtDom.nodeType, txtDom.nodeName, txtDom.nodeValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取DIV节点的id属性</span></span><br><span class="line"><span class="keyword">let</span> attDom = divDom.attributes.id;</span><br><span class="line"><span class="built_in">console</span>.log(attDom.nodeType, attDom.nodeName, attDom.nodeValue);</span><br></pre></td></tr></table></figure>

<p>对应的结果如下：</p>
<p>节点             nodeType          nodeName              nodeValue            类型<br>DIVnull       1                         DIv                           NULL                    元素节点<br>txtDom         3                       #TEXT                     优课达                  文本节点</p>
<p>attDom         2                      ID                              test                         特性节点</p>
<p>我们总结下特性如下:<br>1.整个HTML中，无论是标签，标签属性，还是纯文本字符串都是 Element，不同的地<br>方在于nodeType分别为1，2，3。<br>2.HTML标签都是<strong>元素节点</strong>，可以用nodeName获取标签名称<br>3.纯文本都是<strong>文本节点</strong>，可以用nodeValue获取文本内容<br>4.标签的每个属性都是<strong>特性节点</strong>，可以用nodeName取得属性Key，用nodeValue取<br>得属性Value</p>
<ol start="5">
<li>attributes可以获取元素节点的所有属性，得到的结果是一个字典，通过属性Key<br>获取对应的特性节点。</li>
</ol>
<h4 id="DOM内容"><a href="#DOM内容" class="headerlink" title="DOM内容"></a>DOM内容</h4><p>我们继续修改上面的代码，如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line">    优课达</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>youkeda<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>学的比别人好一点<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> divDom = <span class="built_in">document</span>.querySelector(<span class="string">'div#test'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(divDom.outerHTML, divDom.innerHTML, divDom.innerText);</span><br></pre></td></tr></table></figure>

<h4 id="DOM亲属"><a href="#DOM亲属" class="headerlink" title="DOM亲属"></a>DOM亲属</h4><p>在上面我们知道可以利用firstChild属性获取到元素的第一个儿子节点。那还能获<br>取哪些其他亲属呢?<br>我们来看一个案例:<br>HTML 依然用上面的代码，Javascript 代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> divDom = <span class="built_in">document</span>.querySelector(<span class="string">'div#test'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(divDom.firstChild, divDom.lastChild);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-----'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(divDom.childNodes);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-----'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(divDom.parentNode);</span><br></pre></td></tr></table></figure>

<p>最终的结果：</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/14.png" alt></p>
<h4 id="DOM样式"><a href="#DOM样式" class="headerlink" title="DOM样式"></a>DOM样式</h4><p>通过DOM，我们同样可以访问到其CSS特性，我们来下面案例:<br>html代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span> /&gt;</span><br><span class="line">  &lt;title&gt;优课达&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1 <span class="class"><span class="keyword">class</span></span>=<span class="string">"test youkeda"</span> style=<span class="string">"color: #FF3300; font-size: 24px;"</span>&gt;优课达&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./i</span>ndex.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure>

<p>js代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> h1Dom = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(h1Dom.classList);</span><br><span class="line"><span class="built_in">console</span>.log(h1Dom.style);</span><br><span class="line"><span class="built_in">console</span>.log(h1Dom.style.color);</span><br></pre></td></tr></table></figure>

<h4 id="DOM数据属性"><a href="#DOM数据属性" class="headerlink" title="DOM数据属性"></a>DOM数据属性</h4><p>网页设计的初衷是数据和特定的HTML标签相关联。而我们肉眼能看到<br>的数据只是HTML标签内部纯文本(innerText)）部分，<br>数据肯定不止肉眼所见那么少，那我们该怎么利用HTML存储呢?<br>HTML提供一种数据属性的标准，利用data-*允许我们在标准内于<br>HTML元素中存储额外的信息。例如下代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span> <span class="attr">data-parts</span>=<span class="string">"3"</span> <span class="attr">data-words</span>=<span class="string">"1314"</span> <span class="attr">data-category</span>=<span class="string">"python"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如上面的代码，学习过语义化标签，我们知道article一般用于放置文章<br>区域。<br>对文章而言，除了文章内容，我们还有其他额外数据，例如<strong>:段落，字数，分类，etc…</strong><br>那这些额外数据我们就可以利用data-*来存储，如上面的代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;article data-parts=<span class="string">"3"</span> data-words=<span class="string">"1314"</span> data-category=<span class="string">"python"</span>&gt;&lt;<span class="regexp">/article&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意，数据属性很重要，在前端中广泛应用，大家有兴趣可以用chrome<br>开发者工具去试试看看一下其他网站的代码。<br>那我们该怎么通过JS来获取呢?按上面的推理，肯定也存在DOM的某<br>个属性中，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> article = <span class="built_in">document</span>.querySelector(<span class="string">'article'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(article.dataset);</span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/course/f4/9/16.png" alt></p>
<p>从结果可以看出，dataset是个Map对象，它是data-<em>这个</em>的<strong>Key-Value</strong>集合。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>本章内容比较多，但都比较简单、容易理解。大家也不需要死记硬背，说<br>实话到现在为止我也经常忘记。<br>教给大家一个方法，记住大概意思，比如dataset，只需要记住data ,<br>然后在DOM打印结果属性中去找寻。<br>下面我们来练习一把。</p>
<h4 id="代码案例-2"><a href="#代码案例-2" class="headerlink" title="代码案例"></a>代码案例</h4><p>请利用所学的属性获取的知识，获取QQ注册页左上角Logo的图片地址，并打印出来<br>结果为:<br>‘https: / /document.youkeda.com/P3-1-HTML-CSS/1.9/3-qq/qq.png ‘;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imgDom = <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(imgDom.attributes.src.value);</span><br></pre></td></tr></table></figure>

<p>请利用所学的内容获取的知识，获取本页面的标题（h1内部文本)，并打印出来结果<br>为:<br>‘欢迎注册QQ’;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> textDom = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(textDom.innerText);</span><br></pre></td></tr></table></figure>

<h1 id="DOM操作（一）"><a href="#DOM操作（一）" class="headerlink" title="DOM操作（一）"></a>DOM操作（一）</h1><h4 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h4><p>通过前面三节课，我们已经对DOM有了很深入的了解。我相信，给到大家任意一<br>个网页，大家都能使用Javascript完成任意网页内容提取。<br>有了这个能力，以后大家如果想转行当爬虫工程师也是非常轻松的。<br>大家是不是又一次感受到，软件行业的相通性，也就是<strong>一通百通</strong>的道理。<br>既然对DOM有了足够的了解，那我们再接再厉，本节课开始学习<strong>操作DOM</strong>，想想<br>就特别激动。<br>之前的三节课程可以说是理论知识，本节课我想改变一下形式，利用实战案例带大<br>家了解DOM操作该怎么使用!</p>
<h4 id="DOM样式修改"><a href="#DOM样式修改" class="headerlink" title="DOM样式修改"></a>DOM样式修改</h4><p>在Web基础课程第8章，我们在讲到position: absolute时，给大家讲到过的一个案例,<br>如下图示:</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/17.png" alt></p>
<p><img src="https://style.youkeda.com/img/course/f4/9/18.png" alt></p>
<p>默认未选中的状态如左、点击选中的状态如右。<br>先不考虑点击事件，点击事件在后面一个章节会给大家讲到，在这里我们先内置点击代码。<br>我们先来看下HTML代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./post.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"java"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">src</span>=<span class="string">"https://document.youkeda.com/new-learn-path/Bitmap.png"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"select"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./post.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>代码中<div class="select"></div>也即是那个圆圈选择框。<br>我们可以试想下，有什么办法能实现上面的效果呢?<br>我们是否可以在点击的时候，向select插入一个img节点，渲染选中的打钩图片。然后再<br>次点击的时候清除select|内部节点。<br>当然方案不止这一个，大家可以扩散思维。如果按照这个目标，我们需要哪些技术?<br>1.如何使用Javascript创建节点?(在这里创建img 节点)<br>2.如何设置节点的样式、属性?( img 节点设置src属性)<br>3.如何在已存在节点内部添加子节点?( img 节点需要添加到select中)<br>4.如何清空节点内部子节点?(再次点击时清空select 的子节点)<br>根据这个思路，我们来看看Javascript代码，如下:</p>
<p>根据这个思路，我们来看看Javascript代码，如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 保存当前是否选中的状态</span></span><br><span class="line"><span class="keyword">let</span> isSelected = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取整个元素的节点</span></span><br><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取select框节点</span></span><br><span class="line"><span class="keyword">const</span> select = <span class="built_in">document</span>.querySelector(<span class="string">'.select'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 给整个元素添加点击事件【大家可以先忽略这部分】</span></span><br><span class="line">box.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 点击以后触发这个函数</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 修改当前选中状态，取反即可</span></span><br><span class="line">  isSelected = !isSelected;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 如果当前是选中状态、则添加img到select中</span></span><br><span class="line">  <span class="keyword">if</span> (isSelected) &#123;</span><br><span class="line">    <span class="comment">// 创建一个img标签节点</span></span><br><span class="line">    <span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置img的src属性和样式，让其撑满select框</span></span><br><span class="line">    img.src = <span class="string">'https://style.youkeda.com/img/sandwich/check.png'</span>;</span><br><span class="line">    img.setAttribute(<span class="string">'style'</span>, <span class="string">'width: 100%; height: 100%;'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 将这个节点添加到select框中</span></span><br><span class="line">    select.appendChild(img);</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 如果不是选择状态，则清空内部子元素</span></span><br><span class="line">    select.innerHTML = <span class="string">''</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="1．创建标签节点"><a href="#1．创建标签节点" class="headerlink" title="1．创建标签节点"></a>1．创建标签节点</h5><p>document.createElement(tagName)<br>此方法用于创建一个由标签名称tagName指定的HTML元素，也就是上节课提到的元素<br>(标签）节点。<br>如果想创建一个div标签，我们可以使用:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br></pre></td></tr></table></figure>

<p><strong>document.createTextNode(string)</strong><br>如果想继续在这个div标签内部，添加纯文本内容，可以继续使用创建文本方法<br><strong>document.createTextNode()</strong>，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">const</span> txt = <span class="built_in">document</span>.createTextNode(<span class="string">'优课达-学的比别人好一点'</span>);</span><br></pre></td></tr></table></figure>

<p>我们继续把txt添加到div中，把div添加到body中，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">const</span> txt = <span class="built_in">document</span>.createTextNode(<span class="string">'优课达-学的比别人好一点'</span>);</span><br><span class="line">div.appendChild(txt);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div);</span><br></pre></td></tr></table></figure>

<p>可以看到右侧浏览器中，渲染出来我们使用javascript动态创建的内容。</p>
<h4 id="2-添加新节点"><a href="#2-添加新节点" class="headerlink" title="2.添加新节点"></a>2.添加新节点</h4><p><strong>appendChild(newNode)</strong><br>在上面的案例中，我们多次用到appendChild()，此方法可以往该节点中插入儿子节点。<br>上面案例比较多，我就不举例了，我再给大家介绍一些和此方法类似的API。<br><strong>inserBefore(newNode， referenceNode)</strong><br>此方法和appendchild()刚好相反，appendChild是在所有儿子节点之后添加，inserBefore<br>是在某个目标儿子节点之前添加。<br>insertBefore(newNode，referenceNode)，需要两个参数，newNode表示新节点，<br>referenceNode表示目标节点，也就是新节点插入到目标节点之前。<br>我们来看一个案例:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sars"</span>&gt;</span>SARS<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在案例中，我们有一个列表，里面陈列着疾病sARS。后来我们发现H1N1，因为没有sARS严<br>重，我们将其放在SARS后。<br>2020年发生|新型冠状病毒，比 SARA严重，需要插入到其前面，最终的顺序为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>新型冠状病毒<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>SARS<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>H1N1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>那如何用JS来完成这个动态逻辑呢?我们来看看代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.querySelector(<span class="string">'ul.root'</span>);</span><br><span class="line"><span class="keyword">const</span> sars = <span class="built_in">document</span>.querySelector(<span class="string">'li.sars'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 H1N1</span></span><br><span class="line"><span class="keyword">const</span> H1N1 = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line"><span class="keyword">const</span> H1N1Txt = <span class="built_in">document</span>.createTextNode(<span class="string">'H1N1'</span>);</span><br><span class="line">H1N1.appendChild(H1N1Txt);</span><br><span class="line">root.appendChild(H1N1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 新型冠状病毒</span></span><br><span class="line"><span class="keyword">const</span> nCoV = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line"><span class="keyword">const</span> nCoVTxt = <span class="built_in">document</span>.createTextNode(<span class="string">'新型冠状病毒'</span>);</span><br><span class="line">nCoV.appendChild(nCoVTxt);</span><br><span class="line">root.insertBefore(nCoV, sars);</span><br></pre></td></tr></table></figure>

<p>最终的效果和我们想象的一样。但有点瑕疵，上面代码中重复代码太多，本次是添加两个疾病<br>节点，如果以后添加100个疾病节点，那该怎么办呢?<br>对，我们既然学习过函数，那我们此处就应该用上这个技巧，我们修改下代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createDisease</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dom = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  <span class="keyword">const</span> domTxt = <span class="built_in">document</span>.createTextNode(txt);</span><br><span class="line">  dom.appendChild(domTxt);</span><br><span class="line">  <span class="keyword">return</span> dom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.querySelector(<span class="string">'ul.root'</span>);</span><br><span class="line"><span class="keyword">const</span> sars = <span class="built_in">document</span>.querySelector(<span class="string">'li.sars'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 H1N1</span></span><br><span class="line"><span class="keyword">const</span> H1N1 = createDisease(<span class="string">'H1N1'</span>);</span><br><span class="line">root.appendChild(H1N1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 新型冠状病毒</span></span><br><span class="line"><span class="keyword">const</span> nCoV = createDisease(<span class="string">'新型冠状病毒'</span>);</span><br><span class="line">root.insertBefore(nCoV, sars);</span><br></pre></td></tr></table></figure>

<p>这样一看，代码是不是精致多了!学以致用，大家写代码也需要多思考思考。</p>
<h4 id="3-设置样式、属性"><a href="#3-设置样式、属性" class="headerlink" title="3.设置样式、属性"></a>3.设置样式、属性</h4><p>在上面，我们通过如下代码设置CSS样式，这个和直接在HTML代码中写style语法一样。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.setAttribute(<span class="string">'style'</span>, <span class="string">'width: 100%; height: 100%;'</span>);</span><br></pre></td></tr></table></figure>

<p>在上一节课我们知道dom.style是一个Map对象，因此如果我们不想全量替换样式，我们还<br>可以单独设置某些属性，如下代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.style.color = <span class="string">'xxxx'</span>;</span><br></pre></td></tr></table></figure>

<p>setAttribute()不仅仅可以设置style之外，所有HTML属性都能用他设置，比如id , src，<br>type , disabled , etc…</p>
<h4 id="classList"><a href="#classList" class="headerlink" title="classList"></a>classList</h4><p>再教给大家一个小技巧，试想一下如果我们需要给img 设置太多的样式，这样写起来是不是太<br>麻烦了?那我们有什么简便方法呢?<br>在上一节，我们已经知道classList能获取到DOM上所有的类，那我们是否可以把样式写成<br>css，然后在此处只用添加或删除class呢?<br>当然可以!!<br><strong>classList</strong>给我们提供了基础操作的增删改查方法，很容易理解，大家可以查看下MDN文<br>档: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/classList" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/classList</a></p>
<h3 id="4-innerHTML"><a href="#4-innerHTML" class="headerlink" title="4.innerHTML"></a>4.innerHTML</h3><p>在案例中，我们使用innerHTAL = ‘清空select节点所有的后代内容。①<br>大家肯定在想那我们是不是可以利用<strong>innerHTML</strong>，给某个元素添加内容呢?<br>当然可以的，我们继续使用疾病的案例:在上面的JS代码中，我们使用<strong>appendChild 添</strong>加<br><strong>textNode</strong>节点，我们改变—下写法，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createDisease</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dom = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 我们可以直接用innerHTML设置其纯文本</span></span><br><span class="line">  dom.innerHTML = txt;</span><br><span class="line">  <span class="keyword">return</span> dom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>本节课虽然只有一个案例，但是涉及到的知识点还是比较多的，没事，我们后面还有很多案例<br>可以让我们继续巩固这部分知识。<br>在上面的案例中，我们发现为了实现某个效果，其实我们有多种方法。这就是前端的特性，我<br>们没有唯一的标准答案，只有较好的方法技巧和规则。</p>
<h1 id="DOM操作（二）"><a href="#DOM操作（二）" class="headerlink" title="DOM操作（二）"></a>DOM操作（二）</h1><h6 id="案例介绍"><a href="#案例介绍" class="headerlink" title="案例介绍"></a>案例介绍</h6><p>我们在使用手机浏览器中的百度时候，大家肯定发现过如下两个图片状态:</p>
<img src="https://style.youkeda.com/img/course/f4/9/19.png" style="zoom: 67%;">

<p>我们分解下页面开发步骤:<br>1.首先，我们在不考虑鼠标交互的情况下，完成静态HTML页面<br>2.监听搜索框Input输入事件（这部分代码内置，下一章我们马上会讲到)<br>3.当输入内容是<strong>肺炎</strong>时，显示模糊搜索结果<br>4.当输入内容<strong>不是肺炎</strong>时，显示<strong>登录查看历史</strong></p>
<h3 id="开发静态HTML页面"><a href="#开发静态HTML页面" class="headerlink" title="开发静态HTML页面"></a>开发静态HTML页面</h3><p>这部分我们就教学啦，大家到现在这个阶段，应该是手到擒来，我们演示一下这部分效果:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 头部搜索框区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入非'肺炎'情况 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span></span><br><span class="line">        登录查看历史</span><br><span class="line">      <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入'肺炎'情况 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"search-result"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"search"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>肺炎<span class="tag">&lt;/<span class="name">em</span>&gt;</span>疫情实时动态<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"edit"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        ……</span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>代码主要分为3块区域，<strong>搜索框，登录查看历史，肺炎相关列表</strong>，当然最后的两个区域不会共<br>存。</p>
<h4 id="监听Input输入事件，处理区域显示隐藏"><a href="#监听Input输入事件，处理区域显示隐藏" class="headerlink" title="监听Input输入事件，处理区域显示隐藏"></a>监听Input输入事件，处理区域显示隐藏</h4><p>监听Input 输入事件，我们暂时内置代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听键盘事件</span></span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this 是DOM节点，this.value可以获取input内输入的值</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>大家在Input输入框里面输入内容，内容会实时在JSConsole打出，这就说明我们已经完成输<br>入事件的监听。</p>
<h3 id="监听输入肺炎时，显示肺炎查询结果"><a href="#监听输入肺炎时，显示肺炎查询结果" class="headerlink" title="监听输入肺炎时，显示肺炎查询结果"></a>监听输入肺炎时，显示肺炎查询结果</h3><p>显示和隐藏我们知道可以利用CSS 知识display: block/none;进行控制。<br>因此首先我们修改CSS将<strong>登录查看历史</strong>设置可见，将<strong>搜索结果</strong>设置不可见</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">main</span> <span class="selector-class">.search-result</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着修改Javascript 代码，动态控制显示和隐藏如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> login = <span class="built_in">document</span>.querySelector(<span class="string">'.login'</span>);</span><br><span class="line"><span class="keyword">const</span> searchResult = <span class="built_in">document</span>.querySelector(<span class="string">'.search-result'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听键盘事件</span></span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this 是DOM节点，this.value可以获取input内输入的值</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.value === <span class="string">'肺炎'</span>) &#123;</span><br><span class="line">    login.style.display = <span class="string">'none'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    login.style.display = <span class="string">'block'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="肺炎搜索结果动态显示"><a href="#肺炎搜索结果动态显示" class="headerlink" title="肺炎搜索结果动态显示"></a>肺炎搜索结果动态显示</h4><p>我们知道搜索结果肯定不会是页面写死的，在实际情况下，这些数据都会实时变换的。<br>这部分数据是由Javascript 发起网络请求返回的数据，然后利用动态生成节点的方法插入页<br>面。①<br>我们还未学习网络请求，暂时先模拟在Javascript代码中，如下代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = [</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时疫情动态'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;的症状有哪些症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;武汉'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;是怎么引起的'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新消息'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状及表现'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新情况'</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>我们需要利用这份数组数据，生成多个li标签内容，li标签模板如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">li</span>&gt;</span><br><span class="line">  &lt;i class="search"&gt;&lt;/i&gt;</span><br><span class="line">  &lt;p&gt;&lt;em&gt;肺炎&lt;/em&gt;疫情实时动态&lt;/p&gt;</span><br><span class="line">  &lt;i class="edit"&gt;&lt;/i&gt;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>我们封装一个函数，用于生成这个li DOM节点，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createSearchItem</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> item = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  item.innerHTML = <span class="string">`&lt;i class="search"&gt;&lt;/i&gt;&lt;p&gt;<span class="subst">$&#123;txt&#125;</span>&lt;/p&gt;&lt;i class="edit"&gt;&lt;/i&gt;`</span>;</span><br><span class="line">  <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里我们使用innerHTML和模板字符串快速创建li内容。①<br>最后我们需要遍历搜索结果数据数组，依次创建li，并插入到页面中，代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = [</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时疫情动态'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;的症状有哪些症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;武汉'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;是怎么引起的'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新消息'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状及表现'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新情况'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createSearchItem</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> item = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  item.innerHTML = <span class="string">`&lt;i class="search"&gt;&lt;/i&gt;&lt;p&gt;<span class="subst">$&#123;txt&#125;</span>&lt;/p&gt;&lt;i class="edit"&gt;&lt;/i&gt;`</span>;</span><br><span class="line">  <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> login = <span class="built_in">document</span>.querySelector(<span class="string">'.login'</span>);</span><br><span class="line"><span class="keyword">const</span> searchResult = <span class="built_in">document</span>.querySelector(<span class="string">'.search-result'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听键盘事件</span></span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this 是DOM节点，this.value可以获取input内输入的值</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.value === <span class="string">'肺炎'</span>) &#123;</span><br><span class="line">    <span class="comment">// 先把原始内容清空</span></span><br><span class="line">    searchResult.innerHTML = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">      searchResult.appendChild(createSearchItem(data[i]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    login.style.display = <span class="string">'none'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    login.style.display = <span class="string">'block'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h4><p>我们总结下本节课的解决思路:<br>首先我们在不考虑动态效果情况下，把页面中所涉及到的所有元素都用<strong>静态页面</strong>的形式写出<br>来。<br>其次利用Javascript控制区域的<strong>显示和隐藏</strong>，达到动态效果。<br>最后根据写好的<strong>静态页面模板和数据，动态创建DOM节点</strong>。<br>接下来我们自己上手练习一下。</p>
<h3 id="代码案例一"><a href="#代码案例一" class="headerlink" title="代码案例一"></a>代码案例一</h3><h4 id="京东狗切换"><a href="#京东狗切换" class="headerlink" title="京东狗切换"></a>京东狗切换</h4><p>我们先来完成一个图片动态切换的效果，如下GIF:</p>
<p><img src="https://style.youkeda.com/img/course/f4/9/21.gif" alt></p>
<p>当鼠标放置在图片上，图片会进行切换，当离开图片时，图片恢复原样。<br>提示<br>1.基础的HTML、CSS样式已经内置在代码中，大家只需完成JS部分<br>2.鼠标放置和离开的事件，已经默认写好，大家只需完成之后的操作</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>京东<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"logo"</span> <span class="attr">src</span>=<span class="string">"./images/1.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> logo = <span class="built_in">document</span>.querySelector(<span class="string">'.logo'</span>);</span><br><span class="line"><span class="comment">// 鼠标放置事件</span></span><br><span class="line">logo.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 处理放置事件</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> img =<span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">  logo.src =<span class="string">'./images/2.png'</span>;</span><br><span class="line">  logo.setAttribute(<span class="string">'style'</span>,<span class="string">'border: 1px solid #ccc;cursor: pointer;'</span>);</span><br><span class="line">  logo.appendChild(img);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 鼠标离开事件</span></span><br><span class="line">logo.addEventListener(<span class="string">'mouseout'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 处理离开事件</span></span><br><span class="line">  logo.innerHTML =<span class="string">''</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="案例二"><a href="#案例二" class="headerlink" title="案例二"></a>案例二</h3><p><img src="https://style.youkeda.com/img/course/f4/9/22.gif" alt></p>
<p>时钟会跟随时间一分—秒的走动。<br>一瞬间看到这个题目，可能会觉得特别难，特别棘手，我给大家理理思路，<br>大家再开始完成作业。</p>
<h3 id="钟盘"><a href="#钟盘" class="headerlink" title="钟盘"></a>钟盘</h3><p>大家可以运行一下右边的代码，会发现钟盘已经渲染完成，那钟盘是如何实<br>现的呢?<br>我们看下HTML代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>9<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>11<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>12<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>6<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>7<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>8<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>css:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#number</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">190px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">90px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#number</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每个div都利用绝对布局定位，那不应该是重叠在一起么?对，本身是重<br>叠在一起，但是我们可以利用旋转，让他展开成一个圆盘，我们来看看<br>Javascript代码是如何实现的:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numberDivs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'#number div'</span>);</span><br><span class="line"><span class="keyword">const</span> numberSpans = <span class="built_in">document</span>.querySelectorAll(<span class="string">'#number span'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 容器渲染</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numberDivs.length; i++) &#123;</span><br><span class="line">  numberDivs[i].style.transform = <span class="string">'rotate('</span> + i * <span class="number">30</span> + <span class="string">'deg)'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 纠正文字的旋转度数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; numberSpans.length; j++) &#123;</span><br><span class="line">  numberSpans[j].style.transform = <span class="string">'rotate('</span> + j * <span class="number">-30</span> + <span class="string">'deg)'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>圆盘—共12个数字，数字与数字之间夹角应该是30°，所以利用30°为单<br>位散开。div旋转以后，为了让里面的数字不偏移，我们将文字反向旋转<br>相应的度数即可。<br>时针、分针、秒针已经绘制在页面上，只是都指向О度，下面交给大家<br>了。</p>
<h4 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h4><p>1.时针、分针、秒针应该根据当前的时间计算度数，然后进行旋转，我们想象<br>他的规则是什么?<br>钟盘上—共60个刻度，每个刻度为6°<br><strong>1秒钟</strong>时针旋转的度数为(360/ 12/60/60)，分针旋转的度数为<br>(360 / 60 / 60 ），秒针旋转的度数为(360/ 60)</p>
<p><strong>1分钟</strong>时针旋转的度数为(360/12/60)，分针旋转的度数为(360/<br>60)<br><strong>1小时</strong>时针旋转的度数为(360/12)<br>时针的度数=小时数x30＋分钟数x(360/ 12/60）＋秒数x(360/<br>12/60/ 60)<br>分针的度数=分钟数x(360/60)＋秒数x(360/ 60 /60)<br>秒针的度数=秒数x(360/60)<br>2.利用定时器一秒钟触发一次更新</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"warp"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>9<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>11<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>12<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>6<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>7<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>8<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"houre"</span> <span class="attr">class</span>=<span class="string">"pointer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"minute"</span> <span class="attr">class</span>=<span class="string">"pointer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"second"</span> <span class="attr">class</span>=<span class="string">"pointer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#9c9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#warp</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">230px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">230px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#clock</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">115px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">15px</span> solid <span class="number">#f96</span>;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#number</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">190px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">90px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#number</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pointer</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">90px</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">90%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#houre</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">98px</span>;</span><br><span class="line">  <span class="attribute">background</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#minute</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">99px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#second</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numberDivs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'#number div'</span>);</span><br><span class="line"><span class="keyword">const</span> numberSpans = <span class="built_in">document</span>.querySelectorAll(<span class="string">'#number span'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 布置钟盘</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numberDivs.length; i++) &#123;</span><br><span class="line">  numberDivs[i].style.transform = <span class="string">`rotate(<span class="subst">$&#123;i * <span class="number">30</span>&#125;</span>deg)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 纠正文字旋转偏移</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; numberSpans.length; j++) &#123;</span><br><span class="line">  numberSpans[j].style.transform = <span class="string">`rotate(<span class="subst">$&#123;j * <span class="number">-30</span>&#125;</span>deg)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 渲染时钟</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> oHoure = <span class="built_in">document</span>.querySelector(<span class="string">'#houre'</span>);</span><br><span class="line">  <span class="keyword">const</span> oMinute = <span class="built_in">document</span>.querySelector(<span class="string">'#minute'</span>);</span><br><span class="line">  <span class="keyword">const</span> oSecond = <span class="built_in">document</span>.querySelector(<span class="string">'#second'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">  <span class="keyword">const</span> nowHoure = nowTime.getHours();</span><br><span class="line">  <span class="keyword">const</span> nowMinute = nowTime.getMinutes();</span><br><span class="line">  <span class="keyword">const</span> nowSecond = nowTime.getSeconds();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 计算旋转度数</span></span><br><span class="line">  <span class="keyword">const</span> hourDeg =</span><br><span class="line">    nowHoure * <span class="number">30</span> +</span><br><span class="line">    nowMinute * (<span class="number">360</span> / <span class="number">12</span> / <span class="number">60</span>) +</span><br><span class="line">    nowSecond * (<span class="number">360</span> / <span class="number">12</span> / <span class="number">60</span> / <span class="number">60</span>);</span><br><span class="line">  <span class="keyword">const</span> minuteDeg = nowMinute * (<span class="number">360</span> / <span class="number">60</span>) + nowSecond * (<span class="number">360</span> / <span class="number">60</span> / <span class="number">60</span>);</span><br><span class="line">  <span class="keyword">const</span> secondDeg = nowSecond * (<span class="number">360</span> / <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">  oHoure.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDeg&#125;</span>deg)`</span>;</span><br><span class="line">  oMinute.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minuteDeg&#125;</span>deg)`</span>;</span><br><span class="line">  oSecond.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondDeg&#125;</span>deg)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 每隔1s进行一次渲染</span></span><br><span class="line">setInterval(render, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/27/day42/" data-id="ckf1257fu001rnsux8631a31i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Js-DOM-%E3%80%81%E8%AE%BF%E9%97%AEDOM%E3%80%81DOM%E5%B1%9E%E6%80%A7%E3%80%81DOM%E6%93%8D%E4%BD%9C/" rel="tag">Js(DOM)、访问DOM、DOM属性、DOM操作</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day41" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/26/day41/" class="article-date">
  <time datetime="2020-08-26T12:46:43.000Z" itemprop="datePublished">2020-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/26/day41/">day41</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在之前的7章课程中，我们已经学会了Javascript的基本语法。<br>大家肯定有疑惑，我知道这些语法，怎么和我们的HTML , Css一起联合起来使用呢?<br>本节课开始我们将开始学习这一部分，重点教会大家完成<strong>页面交互过程。</strong></p>
<h3 id="BOMw"><a href="#BOMw" class="headerlink" title="BOMw"></a>BOMw</h3><p>我们知道为了让网页能显示出来，首先我们得在浏览器中输入网址，敲击回<br>车，浏览器能自动帮我们渲染网页内容。<br>和浏览器渲染有关的对象，我们叫做<strong>浏览器对象模型(Browser ObjectModel)— BOM。</strong><br><strong>BOM</strong>是由一系列相关对象构成，每个对象都提供了很多方法和属性。<br>但BOM缺乏标准，BOM属于约定俗成，比如Chrome怎么实现，FireFox，IE等等就照抄一下。所以不同浏览器并不完全相同，在前端有一门高级技术叫做<br><strong>浏览器兼容处理</strong>，也就是处理这类问题，我们在之后会涉及到。现在业界主要以Chrome为准（这也是我们希望大家用Chrome进行学习的原<br>因)。在这里我们主要学习BOM一些共同的对象和API。</p>
<h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><p>在BOM里最重要的对象有4个，分别如下:②<br><strong>window(窗口)</strong>: window是整个网页的框架，每个网页的内容都是装<br>载在window里面<br><strong>navigator(浏览器)</strong>: navigator里面存储浏览器相关信息<br><strong>history(历史)</strong>:我们知道每个网页可以前进后端，history 便拿来存储<br>整个网页栈的<br><strong>screen(显示屏幕)</strong>: screen包含我们显示屏幕的信息，这个是硬件信息<br><strong>Location(地址)</strong>: location包含当前访问的地址（网址)信息<br>下面我以我的电脑为例，让大家更形象看看BOM对象在电脑上位置:</p>
<p><img src="https://style.youkeda.com/img/course/f4/8/1.jpeg" alt></p>
<p><strong>特别强调几点</strong><br>1.screen是整个电脑唯一的<br>2.navigator是整个浏览器唯一的，如果有多个浏览器就会有多个navigator<br>3.window是每个网页唯一的，每个网页都有一个独立的window<br>4.history,location是每个网页的信息，当然也是网页唯一的</p>
<h2 id="window"><a href="#window" class="headerlink" title="window"></a>window</h2><h2 id="HTML中嵌入Javascript"><a href="#HTML中嵌入Javascript" class="headerlink" title="HTML中嵌入Javascript"></a>HTML中嵌入Javascript</h2><p>在所有的BOM中最重要的是<strong>window对象</strong>，我们这节课来详细学习下。<br>在之前的学习中我们只是单纯写javascript，我们这次把javascript 写入到<br><strong>HTML</strong>代码中，方便执行。<br>我们在页面中打印优课达-学的比别人好一点，代码如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达-学的比别人好一点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我们在[body底部加入<script src=". /index.js "></script>，嵌入执行脚<br>本。<br>然后在index.js脚本中加入javascript代码。执行一下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'优课达-学的比别人好一点'</span>);</span><br></pre></td></tr></table></figure>

<h2 id="window-1"><a href="#window-1" class="headerlink" title="window"></a>window</h2><p>在Javascript学习中，最好用的学习和排查问题方法就是—console.log,<br>在这里我们打印一下window，看看window到底是什么</p>
<p><img src="https://style.youkeda.com/img/course/f4/8/2.png" alt></p>
<p>我们看到window对象中，有很多方法，比如alert , confirm..<br>还有一些属性对象比如:console , screen , navigator , location ……</p>
<p>官方解释为:<br>1.window对象表示一个浏览器窗口或一个frame框架，它处于对象层次的最<br>顶端，它提供了处理浏览器窗口的方法和属性。<br>2.window对象是浏览器对象中的默认对象，所以可以隐式地引用window对<br>象的属性和方法。在浏览器环境中，添加到window对象中的方法、属性<br>等，其作用域都是全局的。<br>第一点不难理解，我们主要解释第二点，什么叫做默认对象?什么叫做隐式引<br>用?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'优课达'</span>);</span><br><span class="line"><span class="built_in">window</span>.console.log(<span class="string">'优课达'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(navigator);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.navigator);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(hello);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.hello);</span><br></pre></td></tr></table></figure>

<p>我们看出console.log 等于window.console.log , navigator等于window.navigator，甚至自定义的<strong>顶层函数</strong>，也是挂载在window下面的。除此之外，之前讲的Math对象，setTimeout函数|，setInterval函数|都是挂<br>载在window下面，这里课程就不演示了，大家有兴趣自己去尝试一下。<br>总结一下:<br>window是默认对象，如果是调用window上面的方法，可以省略，也可以<br>称为隐式调用window上面的属性和方法。</p>
<h3 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h3><p>请大家阅读MDN中window对象，<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Window</a><br>找到获取浏览器窗口的内容区域的宽度和高度的属性，并将其打印</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达-学的比别人好一点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下面打印浏览器窗口内容区域的宽度</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.innerHeight);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.innerWidth);</span><br></pre></td></tr></table></figure>







<p>请大家阅读MDN中window对象，<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Window</a><br>找到打开新窗口的方法，并打开网址https :/ / www .youkeda . com<br>提示<br>本次调用的是方法，而不是属性喔。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达-学的比别人好一点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下面调用打开新窗口的方法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.open(<span class="string">"https://www.youkeda.com"</span>));</span><br></pre></td></tr></table></figure>



<h1 id="location"><a href="#location" class="headerlink" title="location"></a>location</h1><p>Location<br>我们继续学习Location对象，其用来保存当前网页位置的信息。<br>和之前一样，我们直接使用console.log打印出来看看。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location);</span><br></pre></td></tr></table></figure>

<h4 id="locatiion-属性"><a href="#locatiion-属性" class="headerlink" title="locatiion 属性"></a>locatiion 属性</h4><p><img src="https://style.youkeda.com/img/course/f4/8/3.jpeg" alt></p>
<p>上面的不同属性都表示URL的不同部分，大家可以尝试利用这个规则去<br>分析其他网页信息。<br><strong>Location方法</strong><br>在Location方法中，我们重点只需要掌握一个方法— reload()。<br>为了防止无限快速循环，我们设置一个定时器延迟调用reload。</p>
<p>演示一下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.location.reload();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p><strong>跳转到新的地址</strong><br>我们同样可以修改Location，直接将网页地址赋值给Location即可，代<br>码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.location = <span class="string">'https://www.youkeda.com'</span>;</span><br></pre></td></tr></table></figure>

<h4 id="History"><a href="#History" class="headerlink" title="History"></a>History</h4><p>History 允许操作浏览器的曾经在标签页或者框架里访问的会话历史记<br>录，由这个名称我们得知，History会存储改窗口的历史记录。<br>mdn地址为: <a href="https://developer.mozilla.org/zh-" target="_blank" rel="noopener">https://developer.mozilla.org/zh-</a><br>CN/docs/Web/API/History<br>我们以上面跳转到新地址举例，如果原始网页为<br>https : // www .youkeda .com，那history中存储为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 会话记录</span></span><br><span class="line">[<span class="string">'https://www.youkeda.com'</span>];</span><br></pre></td></tr></table></figure>

<p>如果我们在网页中点击某个链接，或者使用window.location = xxx跳转<br>到https : / /www .baidu .com，那 history中存储为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 会话记录</span></span><br><span class="line">[<span class="string">'https://www.youkeda.com'</span>, <span class="string">'https://www.baidu.com'</span>];</span><br></pre></td></tr></table></figure>

<p>后续访问，以此类推。大家学过JS基础的话应该能看出来这是一个数组<br>(或者说是列表)，在实际存储中用到的数据结构和数组特别类似，叫做<br>栈。①<br>在history中需要掌握两个方法，back()和forward()，分别对应到浏览<br>器左上角的返回和前进按钮。<br>理解比较简单，在课程中就不演示了。</p>
<h4 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h4><p>本节课我们利用上面学到的知识改变了网址。<br>题目要求:在本网页的地址的基础上修改search值为?spm=youkeda,并<br>延迟3s 跳转到新地址。<br>案例如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原始地址</span></span><br><span class="line">https:<span class="comment">//resource.youkeda.com/wss/index.html?time=1580454161498</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 目标地址</span></span><br><span class="line">https:<span class="comment">//resource.youkeda.com/wss/index.html?spm=youkeda</span></span><br></pre></td></tr></table></figure>

<p>提示<br>1.利用Location先获取地址信息<br>2.利用JS字符串拼接修改地址信息<br>3.利用Location的方法跳转到新的地址。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达-学的比别人好一点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.location=<span class="string">'https://resource.youkeda.com/wss/index.html?spm=youkeda'</span>;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.location.reload();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure>



<h1 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h1><p>Navigator表示用户代理的状态和标识，也就是浏览器基本信息，在这里面我们需要<br>了解一个属性— userAgent，代表当前浏览器的用户代理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.navigator.userAgent)</span><br></pre></td></tr></table></figure>



<p>结果如下（当然，每个人浏览器不同，结果不同的):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/<span class="number">5.0</span> (Macintosh; Intel Mac OS X <span class="number">10</span>_15_2) AppleWebKit/<span class="number">537.36</span> (KHTML, like</span><br><span class="line">Gecko) Chrome/<span class="number">79.0</span><span class="number">.3945</span><span class="number">.130</span> Safari/<span class="number">537.36</span></span><br></pre></td></tr></table></figure>

<p>从这个信息中我们可以得知<br>Mozilla是一个基金会，表示这是一个主流浏览器<br>lntel Mac OSX表示电脑信息为Mac<br>chrome/79.0表示浏览器版本<br>大家可以根据自己的输出信息分析下自己的数据。</p>
<p><strong>Screen</strong><br>Screen我们就不用介绍了，希望大家能养成查文档的好习惯。<br>以后到公司找文档和解决方案的能力是衡量一个程序员能力高低的最主要的手段之一。<br>本次把Screen当做作业来练习，请大家在MDN中查找window.screen相关的文档，<br>并根据文档指示，获取电脑屏幕的宽度和高度，并打印出来。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qgt-style.oss-cn-hangzhou.aliyuncs.com/commonJSCSS/console.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--系统内置 end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>优课达<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>优课达-学的比别人好一点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打印电脑屏幕的宽度</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.width);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印电脑屏幕的高度</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.height);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/26/day41/" data-id="ckf1257ft001pnsuxfy47dcgl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BOM-%E3%80%81window%E3%80%81location-history%E3%80%81Navigator-screen/" rel="tag">BOM 、window、location/history、Navigator/screen</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-day40" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/26/day40/" class="article-date">
  <time datetime="2020-08-26T12:28:45.000Z" itemprop="datePublished">2020-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/26/day40/">day40</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="对象概述"><a href="#对象概述" class="headerlink" title="对象概述"></a>对象概述</h1><p>对象(object）是JavaScript 语言的核心概念，也是最重要的数据类型。<br><strong>什么是对象</strong><br>什么是对象?简单说，对象就是一组”键值对”(key-value)的集合，是一种无<br>序的复合数据集合:</p>
<p><img src="https://document.youkeda.com/P3-4-HTML-CSS/7/1.jpg" alt></p>
<p>·大括号:定义一个对象;<br>person:定义的对象被赋值给|person，则person 将指向这个对象;<br>name : ‘henry’:键值对(key: value)，键值之间用:隔开;<br>age: 18:键值对(key: value) ;<br>一个对象中可以包含多个键值对，每个键值对之间用﹐隔开，最后一个键<br>值对后可以加，，也可以不加。<br>这里要注意，当一个对象被赋值给|person，在person中保存的其实是对象的<br>内存地址。而不是对象本身。这种赋值被称为“引用”。<br>这种定义对象的方法称为”字面量”。</p>
<p><strong>键名</strong><br>对象的键名基本都是字符串，键名加不加引号是一样的:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 和上面的写法意思一样</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="string">'name'</span>: <span class="string">'henry'</span>,</span><br><span class="line">  <span class="string">'age'</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法</strong></p>
<p>对象的每一个键名又称为”属性”(property)，它的”键值”可以是任何数据类<br>型，当它是函数的时候，我们把这个属性称为“方法”，它可以像函数那样调<br>用:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.run();</span><br></pre></td></tr></table></figure>

<p><strong>对象的创建</strong><br>除了上面提到的“字面量”方法，我们还可以通过构造函数创建新对象。<br>使用构造函数创建对象，我们需要两步走:<br>1.创建一个构造函数，构造函数的名称常根据大驼峰命名法命名;<br>2.通过new创建对象实例;<br>其中，构造函数可以声明对象的名称、属性和方法。<br>大驼峰命名法:当变量名或函数名是由一个或多个单词连结在一起，而构成<br>的唯一识别字时，所有单词的首字母均需要大写。<br>让我们来实操一下，用构造函数来创建person对象:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一步：创建构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步：通过 new 创建对象实例</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> People(<span class="string">'henry'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>

<p>首先我们为“人”(people）创建了一个构造函数People，然后用构造函数People，创建了对象实例person。<br>注意，构造函数People中的this是函数运行时，在函数体内部自动生成的一个对象，只能在函数体内部使用。this 就是函数运行时所在的环境对象。我们用这个构造函数来创建一个对象实例，那么构造函数里的this.name = name就表示将传入的参数name赋值给对象实例中对应的属性name 。</p>
<h3 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h3><p>使用字面量方法创建一个名称为benz(奔驰)的对象，它有四个属性:</p>
<ol>
<li><p>name，表示车的品牌名，值为Benz;</p>
</li>
<li><p>founder，表示创始人，值为Karl Benz;</p>
</li>
<li><p>gmtCreated，表示品牌发明汽车的时间，值为数字1886，表示1886年;</p>
</li>
<li><p>run，这是一个方法，这个方法会在控制台console中输出”Benz is<br> running.….” ;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> benz = &#123;</span><br><span class="line">  name: <span class="string">'Benz'</span>,</span><br><span class="line">founder:<span class="string">'Karl Benz'</span>,</span><br><span class="line">gmtCreated:<span class="number">1886</span>,</span><br><span class="line"></span><br><span class="line">run:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Benz is running...'</span>)</span><br><span class="line">  run();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>通过构造函数创建一个名称为benz(奔驰)的对象，构造函数名为Car，对象<br>实例benz有四个属性:</p>
<ol>
<li>name，表示车的品牌名，值为Benz;</li>
<li>founder，表示创始人，值为Karl Benz;</li>
<li>gmtCreated，表示品牌发明汽车的时间，值为数字1886，表示1886年;</li>
<li>run，这是一个方法，这个方法会在控制台console中输出”Benz is<br>running…”;</li>
</ol>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">name, founder, gmtCreated, run</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.founder = founder;</span><br><span class="line">  <span class="keyword">this</span>.gmtCreated = gmtCreated;</span><br><span class="line">  <span class="keyword">this</span>.run = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Benz is running...'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> benz = <span class="keyword">new</span> Car(<span class="string">'Benz'</span>,<span class="string">'Karl Benz'</span>,<span class="number">1886</span>, run);</span><br><span class="line"><span class="built_in">console</span>.log(benz);</span><br></pre></td></tr></table></figure>

<h1 id="自定义对象的属性操作"><a href="#自定义对象的属性操作" class="headerlink" title="自定义对象的属性操作"></a>自定义对象的属性操作</h1><p>上一节中我们定义的person对象就是一个自定义对象。<br>我们已经知道对象是由键值对组成的无序的复合数据集合，键值可以是任何数据类<br>型。当它是函数的时候，我们把它称为”方法”，调用方法和调用函数的写法一样:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.run();</span><br></pre></td></tr></table></figure>

<p>那如果我们要读取对象中的其他属性该怎么办呢?</p>
<h5 id="属性的读取"><a href="#属性的读取" class="headerlink" title="属性的读取"></a>属性的读取</h5><p>JavaScript中有两种方法读取一个对象的属性:点运算符和方括号运算符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name);</span><br><span class="line"><span class="built_in">console</span>.log(person[<span class="string">'name'</span>]);</span><br></pre></td></tr></table></figure>

<p>代码输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">henry</span><br><span class="line">henry</span><br></pre></td></tr></table></figure>

<p>两种写法的效果是一样的，都能够读取对应属性的值，但是方括号运算符的方括号中<br>可以是一个变量。<br>这句话怎么理解呢，我们来看代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> variable = <span class="string">'name'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[variable]);</span><br><span class="line"></span><br><span class="line">variable = <span class="string">'age'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[variable]);</span><br></pre></td></tr></table></figure>

<p>这里我们定义了一个变量 variable，在读取对象属性的时候，使用了方括号运算符，然后在方括号中使用了变量variable 。点击播放上述代码，并观察控制台中打印出的内容:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> variable = <span class="string">'name'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[variable]);</span><br><span class="line"></span><br><span class="line">variable = <span class="string">'age'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[variable]);</span><br></pre></td></tr></table></figure>

<p>解读一下:<br>第一次打印:<br>variable的值为字符串name，因此读取的是 person对象的name属性;<br>第二次打印:<br>variable的值为字符串age，因此读取的是person对象的age属性;<br>我们已经知道，对象中属性的值可以是任何数据类型，那如果某个属性的值是对象，<br>该怎么读取这个键值对象中的属性呢?<br>我们还是用点运算符或者方括号运算符:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  parents: &#123;</span><br><span class="line">    papa: <span class="string">'jack'</span>,</span><br><span class="line">    mama: <span class="string">'mary'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.parents.papa);</span><br><span class="line"><span class="built_in">console</span>.log(person[<span class="string">'parents'</span>][<span class="string">'mama'</span>]);</span><br></pre></td></tr></table></figure>

<p>代码输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jack</span><br><span class="line">mary</span><br></pre></td></tr></table></figure>

<p>像person.parents.papa或person[ ‘parents ‘ ][ ‘mama’]这样的写法被称为“链式<br>引用”。<br><strong>属性的赋值</strong><br>属性的赋值和读取一样，可以通过点运算符和方括号运算符完成:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.name = <span class="string">'tom'</span>;</span><br><span class="line">person[<span class="string">'age'</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name);</span><br><span class="line"><span class="built_in">console</span>.log(person.age);</span><br></pre></td></tr></table></figure>

<p><strong>属性的查看</strong><br>查看一个对象本身的所有属性，可以使用Object.keys方法:①</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person));</span><br></pre></td></tr></table></figure>

<p>上述代码中的 Object，是JavaScript提供的基本对象，JavaScript的所有其他对象都继承自Object对象，即那些对象都是object的实例。keys是 Object对象的一个静态方法。</p>
<p>可以看到object.keys(person)返回的是一个数组，这个数组由person对象的所有属性名构成。<br><strong>属性的删除和增加</strong><br>如果要删除对象中的某个属性，可以使用delete命令:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br></pre></td></tr></table></figure>

<p>增加一个属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.gender = <span class="string">'male'</span>;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'henry'</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">gender</span>: <span class="string">'male'</span> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请看上述代码，我们通过字面量方法创建了一个对象person，这个人叫henry，通<br>过和henry 的聊天我们知道了henry家里(family）除了他还有爸爸(jack)、妈妈<br>(mary)、姐姐(jane)，请为henry添加名为family的属性，这个属性的值也是<br>一个对象。</p>
<p>属性名可以这么取:<br>爸爸: papa;<br>妈妈: mama;<br>姐姐: sister;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  family: &#123;</span><br><span class="line">    papa: <span class="string">'jack'</span>,</span><br><span class="line">    mama: <span class="string">'mary'</span>,</span><br><span class="line">    sister: <span class="string">'jane'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二"><a href="#二" class="headerlink" title="二"></a>二</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请看上述代码，我们通过字面量方法创建了一个对象person，这个人叫henry，现<br>在请你为henry添加一个sayHello方法，每次执行该方法，henry 都会在控制台输<br>出“hello, l am henry”。<br>要求:<br>1.给henry添加一个方法sayHello;<br>2.调用一次sayHello方法;<br>注意，在 sayHello方法中，我们可以用this.name 取到对象person的name属性<br>值哦。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  sayHello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello, I am '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person.sayHello();</span><br></pre></td></tr></table></figure>

<h4 id="三"><a href="#三" class="headerlink" title="三"></a>三</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  sayHello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello, I am '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请看上述代码，我们通过字面量方法创建了一个对象person，这个人叫henry，我<br>们都知道，人是会长大，请给henry添加一个方法grow，每执行一次该方法，<br>henry 将长大一岁，即age会加一。<br>要求:<br>1.给henry 添加一个方法 grow;<br>2.调用一次grow方法;<br>注意，在grow方法中我们会修改age的值，那么如何读取并修改age的值呢，可<br>以参考—下sayHello方法中对name的读取方法哦。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  sayHello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello, I am '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">  grow:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.age++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">person.grow();</span><br></pre></td></tr></table></figure>



<h1 id="遍历对象属性"><a href="#遍历对象属性" class="headerlink" title="遍历对象属性"></a>遍历对象属性</h1><p>如果想要在一个对象中查找某个符合条件的属性，我们就需要遍历对象了。<br>在JavaScript中我们可以通过for. . .in或借助object.keys来实现。</p>
<h4 id="用for…in遍历属性"><a href="#用for…in遍历属性" class="headerlink" title="用for…in遍历属性"></a>用for…in遍历属性</h4><p>我们先来看如何用for. . .in遍历对象中的各个属性:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> person) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'键名：'</span> + key + <span class="string">'；键值：'</span> + person[key]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="借助object-keys遍历属性"><a href="#借助object-keys遍历属性" class="headerlink" title="借助object.keys遍历属性"></a>借助object.keys遍历属性</h4><p>由于Object.keys方法返回的是一个由对象中所有属性名组成的数组，我们可以借助<br>这—点来遍历对象:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> keys = <span class="built_in">Object</span>.keys(person);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'键名：'</span> + keys[i] + <span class="string">'；键值：'</span> + person[keys[i]]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="代码案例-2"><a href="#代码案例-2" class="headerlink" title="代码案例"></a>代码案例</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  family: &#123;</span><br><span class="line">    papa: <span class="string">'jack'</span>,</span><br><span class="line">    mama: <span class="string">'mary'</span>,</span><br><span class="line">    sister: <span class="string">'jane'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请看上述代码，根据给出的提示补全??处的代码，在控制台中打印出所有的键值<br>对，打印结果如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">使用 <span class="keyword">for</span>...in：</span><br><span class="line">name: henry</span><br><span class="line">age: <span class="number">18</span></span><br><span class="line">papa: jack</span><br><span class="line">mama: mary</span><br><span class="line">sister: jane</span><br></pre></td></tr></table></figure>

<p>注意，当属性名为family时，不能直接打印值，需要对family 也进行循环（循环的<br>key 请用“familyKey”作为变量名哦)，打印出family 中的键值对。请勿删除注释的<br>代码哦。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  family: &#123;</span><br><span class="line">    papa: <span class="string">'jack'</span>,</span><br><span class="line">    mama: <span class="string">'mary'</span>,</span><br><span class="line">    sister: <span class="string">'jane'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 for...in</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">byForIn</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 循环 obj（person）对象</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> person) &#123;</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">'family'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> family = obj.family;</span><br><span class="line">      <span class="comment">// 循环打印 person.family </span></span><br><span class="line">      <span class="keyword">for</span> ( key <span class="keyword">in</span> person) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(person.family);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(key + <span class="string">':'</span> + obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'使用 for...in：'</span>);</span><br><span class="line">byForIn(person);</span><br></pre></td></tr></table></figure>



<h1 id="对象的继承"><a href="#对象的继承" class="headerlink" title="对象的继承"></a>对象的继承</h1><p>我们知道，Java中是有“继承”这个概念的，在JavaScript也有。之前我们也提到过:<br>Object是Javascript提供的基本对象，JavaScript的所有其他对象都继承自<br>object对象，即那些对象都是 Object的实例。keys是 Object对象的一个静态方法。<br>就是说，我们之前学习的“自定义对象”，其实就是继承自JavaScript 提供的object对象的。<br>因此，除了用”字面量”和自定义的构造方法创建对象外，我们还可以用JavaScript提<br>供的构造函数Object(）或者”继承”来创建对象:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字面量</span></span><br><span class="line"><span class="keyword">let</span> o1 = &#123;</span><br><span class="line">  name: <span class="string">'alice'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">let</span> o2 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">let</span> o3 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承</span></span><br><span class="line"><span class="keyword">let</span> o4 = <span class="keyword">new</span> o1();</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，最后一种方法创建的o4对象继承自o1，那么o1就是o4的原<br>型。</p>
<h4 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h4><p>什么是原型，原型其实也是JavaScript中的一个对象。那为什么要提出原型的概念<br>呢，这是为了找对象继承的上—级对象。<br>o1继承自Object,Object就是o1的原型。<br>o4继承自o1,o1就是o4的原型。<br>一个对象，它称呼继承的上一级对象为原型，它自己也可以称作原型链下一级对象的<br>原型。</p>
<h4 id="属性是否存在-in"><a href="#属性是否存在-in" class="headerlink" title="属性是否存在:in"></a>属性是否存在:in</h4><p>我们可以用in运算符来判断对象是否拥有某个属性:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="string">'name'</span> <span class="keyword">in</span> person;</span><br><span class="line"><span class="string">'gender'</span> <span class="keyword">in</span> person;</span><br><span class="line"><span class="string">'toString'</span> <span class="keyword">in</span> person;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">true</span>;</span><br><span class="line"><span class="literal">false</span>;</span><br><span class="line"><span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>toString是Object对象的属性。person继承自Object所以也有这个属性。<br>可见，由于继承的存在，一个对象中的属性分成了两类:继承属性和自身属性。<br>之前我们用到的Object.keys方法返回的属性就包括了这两种属性。<br>那么我们要如何判断对象自身属性中是否拥有某个属性呢?<br>这个也不难，我们可以用Object对象提供的hasOwnProperty方法进行判断。</p>
<h4 id="自身属性是否存在-hasOwnProperty"><a href="#自身属性是否存在-hasOwnProperty" class="headerlink" title="自身属性是否存在:hasOwnProperty,"></a>自身属性是否存在:hasOwnProperty,</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">person.hasOwnProperty(<span class="string">'name'</span>);</span><br><span class="line">person.hasOwnProperty(<span class="string">'gender'</span>);</span><br><span class="line">person.hasOwnProperty(<span class="string">'toString'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="object与JSON、Map的区别"><a href="#object与JSON、Map的区别" class="headerlink" title="object与JSON、Map的区别"></a>object与JSON、Map的区别</h4><p>JavaScript中有几个写法和对象长得相似的概念，JSON、Map，大家了解即可。<br><strong>JSON</strong><br>JSON是一种轻量级的文本数据交换格式，它用JavaScript的语法书写，但独立于这<br>种语言，可以认为这是编程语言间用于传递数据而约定的数据格式。①<br><strong>JSON格式和JavaScript对象的转换</strong><br>1.JSON.parse(: JSON格式=&gt; JavaScript对象①</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一个 JSON 字符串</span></span><br><span class="line"><span class="keyword">const</span> jsonStr =</span><br><span class="line">  <span class="string">'&#123;"sites":[&#123;"name":"Runoob", "url":"www.runoob.com"&#125;,&#123;"name":"Google", "url":"www.google.com"&#125;,&#123;"name":"Taobao", "url":"www.taobao.com"&#125;]&#125;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转成 JavaScript 对象</span></span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">JSON</span>.parse(jsonStr);</span><br></pre></td></tr></table></figure>

<p>2.JSON.stringify(: JavaScript 对象=&gt;JSON格式①<br>现在我们把上面得到的obj转成JSON格式:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsonStr2 = <span class="built_in">JSON</span>.stringify(obj)；</span><br></pre></td></tr></table></figure>

<p><strong>Map</strong><br>Map和Object很相似，都可以保存键值对，但是他们仍有些重要的区别:<br>1.一个Object的键通常是字符串，但一个Map的键可以是任意值，包括函数、对象、<br>基本类型，因此 Map会方便很多;<br>2.Map中的键值是有序的，而添加到对象中的键则不是;<br>3.Map的键值对个数可以直接获取，Object则要借助Object.keys()等计算得到;<br>4.Map 可直接进行迭代，Object则要借助Object.keys()等;<br>5.Map不存在键名和原型键名冲突问题，可以直接覆盖，Object则不行;<br>从某种程度上来说，Map比 object更灵活方便，但是考虑到Map不能直接转为<br>JSON格式进行通讯，所以我们可以把Map 作为 Object的补充来使用。②</p>
<h4 id="代码案例-3"><a href="#代码案例-3" class="headerlink" title="代码案例"></a>代码案例</h4><p>请按照提示补全代码，在控制台输出myobj对象的所有非继承属性。<br>预期输出结果如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type: Dot syntax</span><br><span class="line">str: <span class="built_in">String</span> value</span><br><span class="line">random: Random <span class="built_in">Number</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myObj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">let</span> rand = <span class="string">'random'</span>;</span><br><span class="line"></span><br><span class="line">myObj.type = <span class="string">'Dot syntax'</span>;</span><br><span class="line">myObj[<span class="string">'str'</span>] = <span class="string">'String value'</span>;</span><br><span class="line">myObj[rand] = <span class="string">'Random Number'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> myObj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (myObj.hasOwnProperty(key)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key + <span class="string">': '</span> + myObj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="内置对象——Math、Storage"><a href="#内置对象——Math、Storage" class="headerlink" title="内置对象——Math、Storage"></a>内置对象——Math、Storage</h1><h5 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h5><p>在上一章写随机数的时候我们用到了Math.random方法，其实Math 也是<br>JavaScript的一个原生对象，它能提供各种数学功能。该对象不是构造函数，不能生<br>成实例，所有的属性和方法都必须在Math对象上调用。<br>之前我们已经接触了Math.random和Math.floor方法。<br>现在我们来看看Math 提供的其他用途。</p>
<h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><p>Math对家的静态属性，提供以下—些数学常数:①</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.abs() <span class="comment">// 绝对值</span></span><br><span class="line"><span class="built_in">Math</span>.ceil() <span class="comment">// 向上取整</span></span><br><span class="line"><span class="built_in">Math</span>.floor() <span class="comment">// 向下取整</span></span><br><span class="line"><span class="built_in">Math</span>.round() <span class="comment">// 四舍五入取整</span></span><br><span class="line"><span class="built_in">Math</span>.max() <span class="comment">// 最大值</span></span><br><span class="line"><span class="built_in">Math</span>.min() <span class="comment">// 最小值</span></span><br><span class="line"><span class="built_in">Math</span>.pow() <span class="comment">// 指数运算</span></span><br><span class="line"><span class="built_in">Math</span>.sqrt() <span class="comment">// 平方根</span></span><br><span class="line"><span class="built_in">Math</span>.log() <span class="comment">// 自然对数</span></span><br><span class="line"><span class="built_in">Math</span>.exp() <span class="comment">// e的指数</span></span><br><span class="line"><span class="built_in">Math</span>.random() <span class="comment">// 随机数</span></span><br></pre></td></tr></table></figure>

<p>注意，以上方法除了Math.random()都需要传入合适的参数，即需要处理的数<br>字。<br>这里我们注意几个取整方法。<br>使用的时候，给方法传入需要处理的数字即可:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">4.6</span>) <span class="comment">// 向上取整，取大于等于 x，并且与它最接近的整数。</span></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">4.6</span>) <span class="comment">// 向下取整，取小于等于 x，并且与它最接近的整数。</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">4.6</span>) <span class="comment">// 四舍五入取整，取与 x 最接近的整数。</span></span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>除了Math之外，我们还要介绍一个常用的内置对象:Storage。<br><strong>Storage对象</strong><br>Storage 接口用于脚本在浏览器保存数据。两个对象部署了这个接口:<br>window.sessionStorage和window.localStorage。<br>sessionStorage保存的数据用于浏览器的一次会话(session)，当会话结束（通常<br>是窗口关闭)，数据被清空;localStorage保存的数据长期存在，下一次访问该网站<br>的时候，网页可以直接读取以前保存的数据。<br>我们主要看一下window.localStorage的用法。<br><strong>数据的存入: setltem,</strong><br>写法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.localStorage.setItem(<span class="string">'myLocalStorage'</span>, <span class="string">'storage Value'</span>);</span><br></pre></td></tr></table></figure>

<p>1<br>window.localStorage.setltem(‘key’, ‘value’)方法接受两个参数:<br>1.key:键名;<br>2.value:键值<br>两个参数都是字符串，不是字符串的参数会被转成字符串后再存入浏览器。<br>打开网页的开发者工具(右键=&gt;检查=&gt; application =&gt; Local Storage)，查<br>看存储情况:</p>
<p><img src="https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-4-HTML-CSS/7/4.jpg" alt></p>
<p>大家的浏览器在2的位置应该有一个<a href="https://resource.youkeda.com，选中就能" target="_blank" rel="noopener">https://resource.youkeda.com，选中就能</a><br>查看到储存情况，即3。<br>注意，如果要存入的数据不是字符串类型的数据，最好先转换成字符串类型，比如要<br>存入一个对象，可以这么写:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> value = <span class="built_in">JSON</span>.stringify(obj);</span><br><span class="line"><span class="built_in">window</span>.localStorage.setItem(<span class="string">'myLocalStorage'</span>, value);</span><br></pre></td></tr></table></figure>

<p>JSON.stringify()方法可以将一个JavaScript值（对象或者数组）转换为一个JSON字符串。</p>
<p><strong>读取数据:getltem</strong><br>1<br>写法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.localStorage.getItem(<span class="string">'myLocalStorage'</span>);</span><br></pre></td></tr></table></figure>

<p>window.localStorage.getltem(‘key’)接受一个参数，即键名。<br>点击播放上述代码，运行结束后在开发者工具中查看结果:</p>
<p>清除缓存:clear<br>写法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.localStorage.clear();</span><br></pre></td></tr></table></figure>

<p>该方法可清除所有保存的数据。</p>
<h4 id="代码案例-4"><a href="#代码案例-4" class="headerlink" title="代码案例"></a>代码案例</h4><p>请用Math 对象中合适的方法写一个函数，要求:<br>1.函数功能:计算底部半径为r、高度为h的圆锥的体积，将计算结果四舍五入取整后返<br>回，已知圆锥体积计算公式如下:V=Tr个2h / 3<br>2.要求使用Math中的方法计算平方;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 计算圆锥体积</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>r 底面积半径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculation</span>(<span class="params">r, h</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a=<span class="built_in">Math</span>.PI*<span class="built_in">Math</span>.pow(r,<span class="number">2</span>)*h/<span class="number">3</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.round(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> area = calculation(<span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(area);</span><br></pre></td></tr></table></figure>






<p>要求使用Storage对象的setltem方法，在本地浏览器中存入名<br>为”myStorage”，值为任意字符串的数据，不可为空字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在本地浏览器中进行缓存</span></span><br><span class="line"><span class="built_in">window</span>.localStorage.setItem(<span class="string">'myStorage'</span>, <span class="string">'storage Value'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印缓存</span></span><br><span class="line"><span class="keyword">const</span> myStorage = <span class="built_in">window</span>.localStorage.getItem(<span class="string">'myStorage'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(myStorage)</span><br></pre></td></tr></table></figure>





<h1 id="内置对象–-String"><a href="#内置对象–-String" class="headerlink" title="内置对象– String"></a>内置对象– String</h1><p>JavaScript原生提供的三个包装对象之—就是String(另外两个是Number、Boolean)。它给字符串提供了很多好用的方法，但是我们只要掌握很少的几个就已经足够了，我们一起来看一下。包装对象:原生对象可以把原始类型的值变成（包装成)对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> v2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'abc'</span>);</span><br></pre></td></tr></table></figure>

<p>包装对象的最大目的:1.使得JavaScript的对象涵盖所有的值;2.使得<br>原始类型的值可以方便地调用某些方法（比如下面的这些方法)。</p>
<h4 id="字符串长度-length"><a href="#字符串长度-length" class="headerlink" title="字符串长度:length"></a>字符串长度:length</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> len = <span class="string">'here is an apple'</span>.length;</span><br></pre></td></tr></table></figure>

<h4 id="查找字符-indexOf"><a href="#查找字符-indexOf" class="headerlink" title="查找字符:indexOf(),"></a>查找字符:indexOf(),</h4><p>从字符串中查找某个子字符串是否存在:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'here is an apple'</span>;</span><br><span class="line"><span class="keyword">const</span> index = str.indexOf(<span class="string">'an'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(index);</span><br></pre></td></tr></table></figure>

<p>当str中存在子字符串an时，返回的值为an中的a所在的下标（下标从0开始计），即8。当str中不存在子字符串an时，返回的值为-1。</p>
<h4 id="去掉两端空格-trim"><a href="#去掉两端空格-trim" class="headerlink" title="去掉两端空格:trim()"></a>去掉两端空格:trim()</h4><p>我们在输入内容的时候常常会遇到多输入空格的时候，这时候就可以用trim(）把字符串开头和结束位置的空格去掉了:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 'here' 之前有一个空格，'apple' 之后有三个空格</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">' here is an apple   '</span>;</span><br><span class="line"><span class="keyword">const</span> trimedStr = str.trim();</span><br><span class="line"><span class="built_in">console</span>.log(str.length);</span><br><span class="line"><span class="built_in">console</span>.log(trimedStr.length);</span><br></pre></td></tr></table></figure>

<p>注意，trim()是去掉字符串前后的空格，不论前后有多少空格，都会<br>去掉，但不会去掉中间的空格。另外，trim(）不会改变原字符串<br>str，而是复制一份原字符串，修改后返回给trimedStr。</p>
<h3 id="截取字符串-substring-substr"><a href="#截取字符串-substring-substr" class="headerlink" title="截取字符串:substring/substr"></a>截取字符串:substring/substr</h3><p>如果要截取一个字符串中的一部分，可以用substring或substr。<br>比如我们现在有一个<br>URL(“<a href="https://www.youkeda.com/userhome#collect&quot;)要求截取其中#" target="_blank" rel="noopener">https://www.youkeda.com/userhome#collect&quot;)要求截取其中#</a><br>之后的内容，可以这样做:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> url = <span class="string">'https://www.youkeda.com/userhome#collect'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 首先找到 # 后第一个字母的下标</span></span><br><span class="line"><span class="keyword">const</span> index = url.indexOf(<span class="string">'#'</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有 hash 才能进行截取，没有就直接提示不存在</span></span><br><span class="line"><span class="keyword">if</span> (index) &#123;</span><br><span class="line">  <span class="comment">// 用 substring 截取字符串</span></span><br><span class="line">  <span class="keyword">const</span> hash1 = url.substring(index + <span class="number">1</span>, url.length);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 计算 hash 的长度</span></span><br><span class="line">  <span class="keyword">const</span> lenHash = url.length - index - <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// 用 substr 截取字符串</span></span><br><span class="line">  <span class="keyword">const</span> hash2 = url.substr(index + <span class="number">1</span>, lenHash);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(hash1);</span><br><span class="line">  <span class="built_in">console</span>.log(hash2);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'不存在 hash'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>substring(start, end): start ——要截取的字符串的开始下标end<br>——要截取的字符串的结束下标。<br>substr(start,len): start——要截取的字符串的开始下标len ——<br>要截取的字符串的长度。<br>注意，substring 和substr的第二个参数不写的时候，会一直截取到字<br>符串结束为止。<br>它们和trim—样都不会改变原字符串，而是返回处理后的字符串。</p>
<h4 id="分割字符串-split"><a href="#分割字符串-split" class="headerlink" title="分割字符串:split"></a>分割字符串:split</h4><p>split方法按照给定规则分割字符串，返回一个由分割出来的子字符串组成的数组:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> splitedStr = <span class="string">'a|b|c'</span>.split(<span class="string">'|'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(splitedStr);</span><br></pre></td></tr></table></figure>

<p>split也不会改变原字符串，而是返回一个由分割出来的子字符串组成<br>的数组。</p>
<h5 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h5><p>关于字符串我们需要掌握的几个基础用法:</p>
<h3 id="代码案例-5"><a href="#代码案例-5" class="headerlink" title="代码案例"></a>代码案例</h3><p>写一个方法，这个方法能够返回一段文字去前后空格后的总字数。方法名<br>叫strLen。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">' 测试字符串 test'</span>;</span><br><span class="line"><span class="keyword">const</span> len = strLen(str);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(len);</span><br></pre></td></tr></table></figure>





<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">' 测试字符串 test'</span>;</span><br><span class="line"><span class="keyword">const</span> len = strLen(str);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(len);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strLen</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.trim().length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h1><p>Array是JavaScript的原生对象之一，它为数组提供了很多实用的方法，<br>这里我们学习其中的几个。</p>
<h2 id="连接数组-join-）"><a href="#连接数组-join-）" class="headerlink" title="连接数组:join(）"></a>连接数组:join(）</h2><p>join()方法以指定参数作为分隔符，将所有数组成员连接为一个字符串返<br>回。如果不提供参数，默认用逗号分隔:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr.join(<span class="string">' '</span>) <span class="comment">// '1 2 3 4'</span></span><br><span class="line">arr.join(<span class="string">' | '</span>) <span class="comment">// "1 | 2 | 3 | 4"</span></span><br><span class="line">arr.join() <span class="comment">// "1,2,3,4"</span></span><br></pre></td></tr></table></figure>

<p>这个方法和字符串里的<strong>split方法</strong>正好是一对作用相反的方法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'a|b|c'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> splited = str.split(<span class="string">'|'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(splited);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> joined = splited.join(<span class="string">'|'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(joined);</span><br></pre></td></tr></table></figure>

<p>join(）方法不会改变原数组。</p>
<h4 id="倒序排列-reverse"><a href="#倒序排列-reverse" class="headerlink" title="倒序排列: reverse()"></a>倒序排列: reverse()</h4><p>reverse方法用于颠倒排列数组元素，返回改变后的数组。:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line">arr.reverse() <span class="comment">// ["c", "b", "a"]</span></span><br><span class="line">arr <span class="comment">// ["c", "b", "a"]</span></span><br></pre></td></tr></table></figure>

<p>注意，该方法将改变原数组。<br>这个方法对原本有序的数组用起来很方便，比如原来是按时间顺序排列，现在要倒序，直接使用reverse(）即可。那如果数组原本就是无序的，该怎么排序呢?这里我们会用到sort(方法。<br><strong>排序: sort()，</strong><br>sort方法对数组成员进行排序，默认是按照字典顺序排序。如果想让sort方法按照自定义方式排序，可以传入一个函数作为参数。现在我们将下面的数组按照人物年龄从小到大排列:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'jenny'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'tom'</span>, <span class="attr">age</span>: <span class="number">10</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'mary'</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.age - b.age;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>

<p>这里我们传入了一个函数，这个函数有两个参数，即进行比较的两个数组<br>成员，愿数组中a排在b之前。这个函数有个返回值，当返回值大于0时，表示第一个成员应该排在第二<br>个成员之后，否则排在第二个成员之前。点击播放上述代码，查看结果:</p>
<h4 id="遍历-map-forEach"><a href="#遍历-map-forEach" class="headerlink" title="遍历: map/forEach"></a>遍历: map/forEach</h4><p>遍历数组我们之前用的是for循环，但其实JavaScript为我们提供了两<br>个很方便的遍历方法: map和forEach。</p>
<h4 id="遍历-map"><a href="#遍历-map" class="headerlink" title="遍历: map,"></a>遍历: map,</h4><p>先看map方法的使用，它接受一个函数，然后将数组的所有成员依次传<br>入这个参数函数，最后把每一次的执行结果组成一个新数组返回:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'jenny'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'tom'</span>, <span class="attr">age</span>: <span class="number">10</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'mary'</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// elem: 数组成员</span></span><br><span class="line"><span class="comment">// index: 成员下标</span></span><br><span class="line"><span class="comment">// a: 整个数组</span></span><br><span class="line"><span class="keyword">const</span> handledArr = arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">elem, index, a</span>) </span>&#123;</span><br><span class="line">  elem.age += <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(elem, index, a);</span><br><span class="line">  <span class="keyword">return</span> elem.name</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="built_in">console</span>.log(handledArr);</span><br></pre></td></tr></table></figure>

<p>map方法的参数函数可以有三个参数:elem,index, a。<br>elem:表示依次传入的数组成员<br>index:表示依次传入的数组成员所对应的下标<br> a:表示整个数组<br>在上面的代码中，map方法的返回值是一个由return后的内容<br>elem . name组成的数组。</p>
<h4 id="无返回值的遍历-forEach"><a href="#无返回值的遍历-forEach" class="headerlink" title="无返回值的遍历:forEach"></a>无返回值的遍历:forEach</h4><p>forEach的用法和map基本一致，不过forEach没有返回值:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> handledArr = arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">elem, index, a</span>) </span>&#123;</span><br><span class="line">  elem.age += <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(elem, index, a);</span><br><span class="line">  <span class="keyword">return</span> elem.name</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(handledArr);</span><br></pre></td></tr></table></figure>

<p>注意，当你在map 和forEach之间难以选择时，可以想一下你是否需<br>要返回值，map会返回操作后的数组，forEach则没有返回值。①</p>
<h4 id="代码案例-6"><a href="#代码案例-6" class="headerlink" title="代码案例"></a>代码案例</h4><p>已知数组如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'jenny'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'tom'</span>, <span class="attr">age</span>: <span class="number">10</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'mary'</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>要求不用for循环在控制台打印出每一项的name属性，每个name之间<br>用，连接，预期输出结果如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenny,tom,mary</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'jenny'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'tom'</span>, <span class="attr">age</span>: <span class="number">10</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'mary'</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nameList = [<span class="string">'jenny'</span>,<span class="string">'tom'</span>,<span class="string">'mary'</span>];</span><br><span class="line"><span class="keyword">const</span> a = nameList.join(<span class="string">','</span>);</span><br><span class="line"><span class="keyword">const</span> handledArr = arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">elem, index, a</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> elem.name</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(handledArr);</span><br></pre></td></tr></table></figure>





<h1 id="内置对象-date"><a href="#内置对象-date" class="headerlink" title="内置对象-date"></a>内置对象-date</h1><p><img src="https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-4-HTML-CSS/7/2.jpg" alt></p>
<p>因此很有必要学习一下JavaScript 提供的时间库的一些功能。JavaScript提供一个原生的时间库:Date对象。它以国际标准时间(UTC)1970年1月1日O0:00:00作为时间的零点，可以表示的时间范围是前后各1亿天(单位为毫秒)。在这里我们只学习其中一些必须的基础内容。</p>
<h4 id="获取当前时间-new-Date"><a href="#获取当前时间-new-Date" class="headerlink" title="获取当前时间:new Date()"></a>获取当前时间:new Date()</h4><p>我们可以把 Date作为一个构造函数，用new命令生成一个时间对象的实<br>例，在不加参数的情况下，返回的是当前时间:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(now);</span><br></pre></td></tr></table></figure>

<p>那如果给构造函数传入一些参数的话，就能够生成特定的时间对象了，这<br>里可以传入数字、字符串、毫秒数:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传入表示“年月日时分秒”的数字</span></span><br><span class="line"><span class="keyword">let</span> dt1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(dt1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传入日期字符串</span></span><br><span class="line"><span class="keyword">let</span> dt2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2020-1-6'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(dt2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传入距离国际标准时间的毫秒数</span></span><br><span class="line"><span class="keyword">let</span> dt3 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1578240000000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(dt3);</span><br></pre></td></tr></table></figure>

<p>注意，传入表示“年月日时分秒”的数字时，1.如果只传入—个数字，会<br>被认为传入的是毫秒数;2.月份的范围是0-11，而不是1-12。①<br><strong>日期运算</strong><br><strong>时间差:毫秒数</strong><br>两个时间对象是可以直接相减的，返回值为两者的毫秒数差:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> dt2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 求差值</span></span><br><span class="line"><span class="keyword">let</span> diff = dt2 - dt1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一天的毫秒数</span></span><br><span class="line"><span class="keyword">let</span> ms = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(diff / ms); <span class="comment">// 31</span></span><br></pre></td></tr></table></figure>

<p>可以看到，2020年2月1日和2020年3月1日之间相差的时间正好为<br>31天。</p>
<h4 id="早晚比较-大小于符号"><a href="#早晚比较-大小于符号" class="headerlink" title="早晚比较:大小于符号"></a>早晚比较:大小于符号</h4><p>如果要比较两个时间的早晚，可以直接使用&gt;或者&lt;:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> dt2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(dt1 &gt; dt2); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(dt1 &lt; dt2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="解析日期字符串-Date-parse"><a href="#解析日期字符串-Date-parse" class="headerlink" title="解析日期字符串:Date.parse(,"></a>解析日期字符串:Date.parse(,</h4><p>Date.parse方法用来解析日期字符串，返回该时间距离时间零点（1970<br>年1月1日00:00:00）的毫秒数:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="built_in">Date</span>.parse(<span class="string">'2020-1-6'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(dt); <span class="comment">// 1578240000000</span></span><br></pre></td></tr></table></figure>

<p>Date.parse(）方法可以把日期字符串转成距离时间零点的毫秒数。时间对象中有三大类方法to方法、get方法和set方法，这里我们会学习这两大类中的一部分方法。</p>
<h3 id="时间对象转时间字符串-to方法。"><a href="#时间对象转时间字符串-to方法。" class="headerlink" title="时间对象转时间字符串: to方法。"></a>时间对象转时间字符串: to方法。</h3><p>to方法有很多，我们来看其中的to3SON(）方法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> dtStr = dt.toJSON();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(dtStr); <span class="comment">// 2020-01-03T09:44:18.220Z</span></span><br></pre></td></tr></table></figure>

<p>仔细观察控制台中打印出的内容，你可能会感到疑惑，为什么打印的时间<br>和当前的时间差8个小时，这是因为打印的时间是现在UTC时区的时<br>间，而我们的时间是东八区时间，比国际标准时间快8个小时。</p>
<h5 id="获取时间对象的年-月-日-get方法"><a href="#获取时间对象的年-月-日-get方法" class="headerlink" title="获取时间对象的年/月/日: get方法"></a>获取时间对象的年/月/日: get方法</h5><p>Date对象提供了一系列get方法，用来获取实例对象某个方面的值:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">dt.getTime(); <span class="comment">// 返回实例距离1970年1月1日00:00:00的毫秒数。</span></span><br><span class="line">dt.getDate(); <span class="comment">// 返回实例对象对应每个月的几号（从1开始）。</span></span><br><span class="line">dt.getDay(); <span class="comment">// 返回星期几，星期日为0，星期一为1，以此类推。</span></span><br><span class="line">dt.getFullYear(); <span class="comment">// 返回四位的年份。</span></span><br><span class="line">dt.getMonth(); <span class="comment">// 返回月份（0表示1月，11表示12月）。</span></span><br><span class="line">dt.getHours(); <span class="comment">// 返回小时（0-23）。</span></span><br><span class="line">dt.getMilliseconds(); <span class="comment">// 返回毫秒（0-999）。</span></span><br><span class="line">dt.getMinutes(); <span class="comment">// 返回分钟（0-59）。</span></span><br><span class="line">dt.getSeconds(); <span class="comment">// 返回秒（0-59）。</span></span><br></pre></td></tr></table></figure>

<p>注意，所有这些get*方法返回的都是整数，不同方法返回值的范围不—<br>样:<br>分钟和秒:0到59<br>小时:0到23<br>星期:О(星期天）到6(星期六)<br>日期:1到31<br>月份:0(—月)到11(十二月)<br>·除了“日期”外，其他的时间范围都是从О开始的。<br>以上方法了解即可，需要用到的时候在MDN上进行查询即可。<br>现在我们来尝试用dt.getFullYear()来获取当前的完整年份:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> year = dt.getFullYear();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(year);</span><br></pre></td></tr></table></figure>

<h3 id="设置时间对象的年-月-日-set方法。"><a href="#设置时间对象的年-月-日-set方法。" class="headerlink" title="设置时间对象的年/月/日: set方法。"></a>设置时间对象的年/月/日: set方法。</h3><p>set方法和get方法正好相反，它能够设置时间对象的某个方面的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">dt.setTime(ms); <span class="comment">// 设置实例距离1970年1月1日00:00:00的毫秒数。</span></span><br><span class="line">dt.setDate(date); <span class="comment">// 设置实例对象对应每个月的几号（从1开始）。</span></span><br><span class="line">dt.setFullYear(year); <span class="comment">// 设置四位的年份。</span></span><br><span class="line">dt.setMonth(month); <span class="comment">// 设置月份（0表示1月，11表示12月）。</span></span><br><span class="line">dt.setHours(hour); <span class="comment">// 设置小时（0-23）。</span></span><br><span class="line">dt.setMilliseconds(ms); <span class="comment">// 设置毫秒（0-999）。</span></span><br><span class="line">dt.setMinutes(min); <span class="comment">// 设置分钟（0-59）。</span></span><br><span class="line">dt.setSeconds(sec); <span class="comment">// 设置秒（0-59）。</span></span><br></pre></td></tr></table></figure>

<p>set方法没有setDay方法，因为星期几是计算得到的。<br>同样的，以上方法了解即可，需要用到的时候在MDN上进行查询即可。<br>现在我们来尝试用dt.getFullYear()来获取当前的完整年份:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">dt.setFullYear(<span class="number">2030</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(dt);</span><br></pre></td></tr></table></figure>

<h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><p>时间对象、日期字符串和毫秒数之间是可以相互转换的，一图胜千言，我<br>们把转换的规则总结成了—张图:</p>
<p><img src="https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-4-HTML-CSS/7/3.jpg" alt></p>
<h4 id="代码案例-7"><a href="#代码案例-7" class="headerlink" title="代码案例"></a>代码案例</h4><p>如右边代码所示，已知一组活动信息，请按照活动的开始时间从早到晚将<br>信息排序，并将开始时间格式化，例如:<br>‘2020-01-01 13:00:00’格式化后为:’2020年1月1日13点0分’。<br>格式化后的时间要求保存在对应的活动信息中，属性名为<br>formattedDate，如:~</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> infoList = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'20020101'</span>,</span><br><span class="line">    startTime: <span class="string">'2020-01-01 13:00:00'</span>,</span><br><span class="line">    description: <span class="string">'现在加入，即刻领取属于自己的英雄'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 格式化时间后</span></span><br><span class="line"><span class="keyword">let</span> infoList = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'20020101'</span>,</span><br><span class="line">    startTime: <span class="string">'2020-01-01 13:00:00'</span>,</span><br><span class="line">    description: <span class="string">'现在加入，即刻领取属于自己的英雄'</span>,</span><br><span class="line">    formattedDate: <span class="string">'2020年1月1日 13点0分'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> infoList = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'20020101'</span>,</span><br><span class="line">    startTime: <span class="string">'2020-01-01 13:00:00'</span>,</span><br><span class="line">    description: <span class="string">'现在加入，即刻领取属于自己的英雄'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'20032101'</span>,</span><br><span class="line">    startTime: <span class="string">'2020-03-21 14:00:00'</span>,</span><br><span class="line">    description: <span class="string">'寓教于乐一家亲，深入浅出一片心'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'20011001'</span>,</span><br><span class="line">    startTime: <span class="string">'2020-01-10 08:00:00'</span>,</span><br><span class="line">    description: <span class="string">'让孩子在游戏中爱上学习'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="string">'19111101'</span>,</span><br><span class="line">    startTime: <span class="string">'2019-11-11 09:30:00'</span>,</span><br><span class="line">    description: <span class="string">'发行的不是游戏，是快乐'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排序</span></span><br><span class="line">infoList.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> aStartDate = <span class="keyword">new</span> <span class="built_in">Date</span>(a.startTime);</span><br><span class="line">  <span class="keyword">const</span> bStartDate = <span class="keyword">new</span> <span class="built_in">Date</span>(b.startTime);</span><br><span class="line">  <span class="keyword">return</span> aStartDate &gt; bStartDate ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 格式化</span></span><br><span class="line">infoList.forEach(<span class="function"><span class="params">info</span> =&gt;</span> &#123;</span><br><span class="line">  info.formattedDate = formatDate(info.startTime);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印结果</span></span><br><span class="line"><span class="built_in">console</span>.log(infoList);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatDate</span>(<span class="params">dtStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(dtStr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> year = dt.getFullYear();</span><br><span class="line">  <span class="keyword">const</span> month = dt.getMonth() + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> day = dt.getDate();</span><br><span class="line">  <span class="keyword">const</span> hour = dt.getHours();</span><br><span class="line">  <span class="keyword">const</span> min = dt.getMinutes();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> year + <span class="string">'年'</span> + month + <span class="string">'月'</span> + day + <span class="string">'日 '</span> + hour + <span class="string">'点'</span> + min + <span class="string">'分'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/26/day40/" data-id="ckf1257fz0021nsuxbqu680jf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScripe%E5%AF%B9%E8%B1%A1%E3%80%81%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF%E3%80%81%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%EF%BC%88math-storage-string-array-date%EF%BC%89/" rel="tag">JavaScripe对象、对象属性操作、对象的继承、内置对象（math,storage,string,array,date）</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM-%E3%80%81window%E3%80%81location-history%E3%80%81Navigator-screen/" rel="tag">BOM 、window、location/history、Navigator/screen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS-Flex%E5%B8%83%E5%B1%80%E3%80%81justify-content%E5%92%8Calign-items%E3%80%81flex-wrap%E3%80%81flex-none%E5%92%8Cflex-1%E3%80%81flex-direction%E3%80%81%E5%BE%AE%E5%8D%9A%E5%B7%A6%E4%BE%A7%E5%BC%80%E5%8F%91/" rel="tag">CSS Flex布局、justify-content和align-items、flex-wrap、flex none和flex 1、flex-direction、微博左侧开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E5%AE%9A%E4%BD%8D%EF%BC%88float%EF%BC%89%E6%A8%A1%E6%80%81%E6%A1%86-%E6%90%9C%E7%B4%A2%E6%A1%86/" rel="tag">CSS定位（float）模态框 搜索框</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E8%A3%85%E9%A5%B0-cutsor/" rel="tag">CSS装饰-cutsor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM%E4%BA%8B%E4%BB%B6-%E3%80%81%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E5%A7%94%E6%89%98%E3%80%81%E7%A7%BB%E5%8A%A8%E4%BA%8B%E4%BB%B6%E3%80%81%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E4%BA%8B%E4%BB%B6%E3%80%81%E6%BB%9A%E5%8A%A8%E4%BA%8B%E4%BB%B6/" rel="tag">DOM事件 、点击事件、冒泡、捕获、委托、移动事件、表单元素事件、滚动事件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5-CSS3J%E4%BB%8B%E7%BB%8D-CSS%E4%BC%AA%E7%B1%BB%EF%BC%88after-before%E3%80%81%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BC%AA%E7%B1%BB%E3%80%81%E5%88%97%E8%A1%A8%E4%BC%AA%E7%B1%BB%E3%80%81%E5%BE%AE%E5%8D%9A%E5%A4%B4%E9%83%A8%E5%BC%80%E5%8F%91%EF%BC%89/" rel="tag">HTML5/CSS3J介绍 CSS伪类（after/before、清除浮动、事件伪类、列表伪类、微博头部开发）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HelloSpring%E3%80%81Spring-Bean%E3%80%81Spring-Resource%E3%80%81Spring-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%88Lifecycle/" rel="tag">HelloSpring、Spring Bean、Spring Resource、Spring Bean的生命周期（Lifecycle)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScripe%E5%AF%B9%E8%B1%A1%E3%80%81%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF%E3%80%81%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%EF%BC%88math-storage-string-array-date%EF%BC%89/" rel="tag">JavaScripe对象、对象属性操作、对象的继承、内置对象（math,storage,string,array,date）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Response-%E7%BD%91%E9%A1%B5-Response-%E9%9D%9E%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6-Response-JSON/" rel="tag">Java网络编程 Response-网页 Response-非文本文件 Response-JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Js-DOM-%E3%80%81%E8%AE%BF%E9%97%AEDOM%E3%80%81DOM%E5%B1%9E%E6%80%A7%E3%80%81DOM%E6%93%8D%E4%BD%9C/" rel="tag">Js(DOM)、访问DOM、DOM属性、DOM操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SCSS-%E3%80%81-%E5%8F%98%E9%87%8F-%E3%80%81-%E5%B5%8C%E5%A5%97-%E3%80%81mixin-include/" rel="tag">SCSS 、 变量 、 嵌套 、mixin/include</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SMTP%E3%80%81javaMail%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E3%80%81%E5%AE%9E%E6%88%98%E5%A4%A9%E6%B0%94/" rel="tag">SMTP、javaMail邮件发送、实战天气</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-MVC%E3%80%81Spring-BOOT%E3%80%81Spring-Controllr%E3%80%81Get-Request/" rel="tag">Spring MVC、Spring BOOT、Spring Controllr、Get Request</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/User-Agent%E3%80%81Referer%E3%80%81Host/" rel="tag">User-Agent、Referer、Host</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css-%E5%AE%9A%E4%BD%8D-position/" rel="tag">css 定位- position</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css%E7%9B%92%E6%A8%A1%E5%9E%8B/" rel="tag">css盒模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-%E3%80%81%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%8F%98%E9%87%8F%E3%80%81%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E3%80%81%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%89/" rel="tag">javascript 、基础数据类型（变量、数值类型、类型转换/字符串拼接、运算符）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-%E5%87%BD%E6%95%B0%E3%80%81%E5%8F%82%E6%95%B0%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC%E3%80%81%E8%AE%A1%E6%95%B0%E5%99%A8/" rel="tag">javascript 函数、参数、返回值、计数器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-%E5%BE%AA%E7%8E%AF/" rel="tag">javascript 循环</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E3%80%81%E6%95%B0%E7%BB%84/" rel="tag">javascript布尔类型、条件判断、数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-GET%E8%AF%B7%E6%B1%82/" rel="tag">java网络编程   GET请求</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" rel="tag">java面向对象-项目实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/list%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E6%8D%A2%E4%BB%A5%E5%8F%8A-%E9%9B%86%E5%90%88List%E7%9A%84%E6%93%8D%E4%BD%9C/" rel="tag">list和数组的转换以及 集合List的操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring%E5%85%A5%E9%97%A8%E3%80%81maven%E5%85%A5%E9%97%A8%E3%80%81hello-Spring/" rel="tag">spring入门、maven入门、hello Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%9B%BE%E7%89%87%E3%80%81%E8%A7%A3%E6%9E%90excel%E3%80%81cookie%E3%80%81session%E3%80%81%E5%A4%8D%E7%94%A8session/" rel="tag">下载文件图片、解析excel、cookie、session、复用session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E3%80%81%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E3%80%81%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E3%80%81%E4%BA%8C%E5%88%86%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/" rel="tag">冒泡排序、选择排序、插入排序、二分插入排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%B3%E6%88%98%E4%BC%98%E8%AF%BE%E8%BE%BE%E5%AE%98%E7%BD%91-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E3%80%81%E7%82%B9%E5%87%BB%E5%B1%95%E5%BC%80%E5%88%97%E8%A1%A8%E3%80%81%E6%8E%A5%E5%85%A5%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E3%80%81%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%E3%80%81/" rel="tag">决战优课达官网(页面渲染、点击展开列表、接入后端数据、封装函数、)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E3%80%81%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2%E3%80%81%E6%96%AD%E7%82%B9-%E3%80%81-%E5%AE%9E%E6%88%98%E5%BE%AE%E5%8D%9A%E4%B8%AA%E4%BA%BA%E9%A1%B5/" rel="tag">响应式布局、媒体查询、断点 、 实战微博个人页</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E4%BA%91/" rel="tag">图云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E6%88%98%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90/" rel="tag">实战网易云音乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%B0%8F%E6%A1%88%E4%BE%8B-%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E3%80%81-%E4%BA%8C%E6%AC%A1%E9%97%AE%E9%A2%98%EF%BC%88%E6%A0%87%E8%AE%B0%E6%B3%95%EF%BC%89%E3%80%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E3%80%81-%E6%95%B0%E7%BB%84-%E5%AD%98%E5%82%A8%E5%92%8C%E8%AF%BB%E5%8F%96%E3%80%81%E6%95%B0%E7%BB%84%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4/" rel="tag">性能优化小案例-二分法查找、 二次问题（标记法）、计算机内存管理、 数组-存储和读取、数组插入和删除</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8%E5%89%8D%E8%A8%80%E3%80%81-%E5%A4%A7O%E8%AE%B0%E6%B3%95%E3%80%81%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E3%80%81%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/" rel="tag">数据结构及算法入门前言、 大O记法、时间复杂度、空间复杂度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%EF%BC%88%E5%8D%8F%E8%AE%AE%E3%80%81url%E3%80%81api-get%E8%AF%B7%E6%B1%82%E3%80%81post%E8%AF%B7%E6%B1%82%E3%80%81chrome-Network%EF%BC%89/" rel="tag">网络请求（协议、url、api+get请求、post请求、chrome Network）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%E3%80%81-%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87/" rel="tag">背景颜色、 背景图片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%92%E5%BD%92%E3%80%81%E5%88%86%E6%B2%BB%E6%80%9D%E6%83%B3-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E3%80%81%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E3%80%81%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9/" rel="tag">递归、分治思想-归并排序、快速排序、快速选择</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/BOM-%E3%80%81window%E3%80%81location-history%E3%80%81Navigator-screen/" style="font-size: 10px;">BOM 、window、location/history、Navigator/screen</a> <a href="/tags/CSS-Flex%E5%B8%83%E5%B1%80%E3%80%81justify-content%E5%92%8Calign-items%E3%80%81flex-wrap%E3%80%81flex-none%E5%92%8Cflex-1%E3%80%81flex-direction%E3%80%81%E5%BE%AE%E5%8D%9A%E5%B7%A6%E4%BE%A7%E5%BC%80%E5%8F%91/" style="font-size: 10px;">CSS Flex布局、justify-content和align-items、flex-wrap、flex none和flex 1、flex-direction、微博左侧开发</a> <a href="/tags/CSS%E5%AE%9A%E4%BD%8D%EF%BC%88float%EF%BC%89%E6%A8%A1%E6%80%81%E6%A1%86-%E6%90%9C%E7%B4%A2%E6%A1%86/" style="font-size: 10px;">CSS定位（float）模态框 搜索框</a> <a href="/tags/CSS%E8%A3%85%E9%A5%B0-cutsor/" style="font-size: 10px;">CSS装饰-cutsor</a> <a href="/tags/DOM%E4%BA%8B%E4%BB%B6-%E3%80%81%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E5%A7%94%E6%89%98%E3%80%81%E7%A7%BB%E5%8A%A8%E4%BA%8B%E4%BB%B6%E3%80%81%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E4%BA%8B%E4%BB%B6%E3%80%81%E6%BB%9A%E5%8A%A8%E4%BA%8B%E4%BB%B6/" style="font-size: 10px;">DOM事件 、点击事件、冒泡、捕获、委托、移动事件、表单元素事件、滚动事件</a> <a href="/tags/HTML5-CSS3J%E4%BB%8B%E7%BB%8D-CSS%E4%BC%AA%E7%B1%BB%EF%BC%88after-before%E3%80%81%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BC%AA%E7%B1%BB%E3%80%81%E5%88%97%E8%A1%A8%E4%BC%AA%E7%B1%BB%E3%80%81%E5%BE%AE%E5%8D%9A%E5%A4%B4%E9%83%A8%E5%BC%80%E5%8F%91%EF%BC%89/" style="font-size: 10px;">HTML5/CSS3J介绍 CSS伪类（after/before、清除浮动、事件伪类、列表伪类、微博头部开发）</a> <a href="/tags/HelloSpring%E3%80%81Spring-Bean%E3%80%81Spring-Resource%E3%80%81Spring-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%88Lifecycle/" style="font-size: 10px;">HelloSpring、Spring Bean、Spring Resource、Spring Bean的生命周期（Lifecycle)</a> <a href="/tags/JavaScripe%E5%AF%B9%E8%B1%A1%E3%80%81%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF%E3%80%81%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%EF%BC%88math-storage-string-array-date%EF%BC%89/" style="font-size: 10px;">JavaScripe对象、对象属性操作、对象的继承、内置对象（math,storage,string,array,date）</a> <a href="/tags/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Response-%E7%BD%91%E9%A1%B5-Response-%E9%9D%9E%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6-Response-JSON/" style="font-size: 10px;">Java网络编程 Response-网页 Response-非文本文件 Response-JSON</a> <a href="/tags/Js-DOM-%E3%80%81%E8%AE%BF%E9%97%AEDOM%E3%80%81DOM%E5%B1%9E%E6%80%A7%E3%80%81DOM%E6%93%8D%E4%BD%9C/" style="font-size: 10px;">Js(DOM)、访问DOM、DOM属性、DOM操作</a> <a href="/tags/SCSS-%E3%80%81-%E5%8F%98%E9%87%8F-%E3%80%81-%E5%B5%8C%E5%A5%97-%E3%80%81mixin-include/" style="font-size: 10px;">SCSS 、 变量 、 嵌套 、mixin/include</a> <a href="/tags/SMTP%E3%80%81javaMail%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E3%80%81%E5%AE%9E%E6%88%98%E5%A4%A9%E6%B0%94/" style="font-size: 10px;">SMTP、javaMail邮件发送、实战天气</a> <a href="/tags/Spring-MVC%E3%80%81Spring-BOOT%E3%80%81Spring-Controllr%E3%80%81Get-Request/" style="font-size: 10px;">Spring MVC、Spring BOOT、Spring Controllr、Get Request</a> <a href="/tags/User-Agent%E3%80%81Referer%E3%80%81Host/" style="font-size: 10px;">User-Agent、Referer、Host</a> <a href="/tags/css-%E5%AE%9A%E4%BD%8D-position/" style="font-size: 10px;">css 定位- position</a> <a href="/tags/css%E7%9B%92%E6%A8%A1%E5%9E%8B/" style="font-size: 10px;">css盒模型</a> <a href="/tags/javascript-%E3%80%81%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%8F%98%E9%87%8F%E3%80%81%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E3%80%81%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%89/" style="font-size: 10px;">javascript 、基础数据类型（变量、数值类型、类型转换/字符串拼接、运算符）</a> <a href="/tags/javascript-%E5%87%BD%E6%95%B0%E3%80%81%E5%8F%82%E6%95%B0%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC%E3%80%81%E8%AE%A1%E6%95%B0%E5%99%A8/" style="font-size: 10px;">javascript 函数、参数、返回值、计数器</a> <a href="/tags/javascript-%E5%BE%AA%E7%8E%AF/" style="font-size: 10px;">javascript 循环</a> <a href="/tags/javascript%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E3%80%81%E6%95%B0%E7%BB%84/" style="font-size: 10px;">javascript布尔类型、条件判断、数组</a> <a href="/tags/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-GET%E8%AF%B7%E6%B1%82/" style="font-size: 10px;">java网络编程   GET请求</a> <a href="/tags/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" style="font-size: 10px;">java面向对象-项目实战</a> <a href="/tags/list%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E6%8D%A2%E4%BB%A5%E5%8F%8A-%E9%9B%86%E5%90%88List%E7%9A%84%E6%93%8D%E4%BD%9C/" style="font-size: 10px;">list和数组的转换以及 集合List的操作</a> <a href="/tags/spring%E5%85%A5%E9%97%A8%E3%80%81maven%E5%85%A5%E9%97%A8%E3%80%81hello-Spring/" style="font-size: 10px;">spring入门、maven入门、hello Spring</a> <a href="/tags/%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%9B%BE%E7%89%87%E3%80%81%E8%A7%A3%E6%9E%90excel%E3%80%81cookie%E3%80%81session%E3%80%81%E5%A4%8D%E7%94%A8session/" style="font-size: 10px;">下载文件图片、解析excel、cookie、session、复用session</a> <a href="/tags/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E3%80%81%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E3%80%81%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E3%80%81%E4%BA%8C%E5%88%86%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">冒泡排序、选择排序、插入排序、二分插入排序</a> <a href="/tags/%E5%86%B3%E6%88%98%E4%BC%98%E8%AF%BE%E8%BE%BE%E5%AE%98%E7%BD%91-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E3%80%81%E7%82%B9%E5%87%BB%E5%B1%95%E5%BC%80%E5%88%97%E8%A1%A8%E3%80%81%E6%8E%A5%E5%85%A5%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E3%80%81%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%E3%80%81/" style="font-size: 10px;">决战优课达官网(页面渲染、点击展开列表、接入后端数据、封装函数、)</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E3%80%81%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2%E3%80%81%E6%96%AD%E7%82%B9-%E3%80%81-%E5%AE%9E%E6%88%98%E5%BE%AE%E5%8D%9A%E4%B8%AA%E4%BA%BA%E9%A1%B5/" style="font-size: 10px;">响应式布局、媒体查询、断点 、 实战微博个人页</a> <a href="/tags/%E5%9B%BE%E4%BA%91/" style="font-size: 10px;">图云</a> <a href="/tags/%E5%AE%9E%E6%88%98%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">实战网易云音乐</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%B0%8F%E6%A1%88%E4%BE%8B-%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E3%80%81-%E4%BA%8C%E6%AC%A1%E9%97%AE%E9%A2%98%EF%BC%88%E6%A0%87%E8%AE%B0%E6%B3%95%EF%BC%89%E3%80%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E3%80%81-%E6%95%B0%E7%BB%84-%E5%AD%98%E5%82%A8%E5%92%8C%E8%AF%BB%E5%8F%96%E3%80%81%E6%95%B0%E7%BB%84%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4/" style="font-size: 10px;">性能优化小案例-二分法查找、 二次问题（标记法）、计算机内存管理、 数组-存储和读取、数组插入和删除</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8%E5%89%8D%E8%A8%80%E3%80%81-%E5%A4%A7O%E8%AE%B0%E6%B3%95%E3%80%81%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E3%80%81%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/" style="font-size: 10px;">数据结构及算法入门前言、 大O记法、时间复杂度、空间复杂度</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%EF%BC%88%E5%8D%8F%E8%AE%AE%E3%80%81url%E3%80%81api-get%E8%AF%B7%E6%B1%82%E3%80%81post%E8%AF%B7%E6%B1%82%E3%80%81chrome-Network%EF%BC%89/" style="font-size: 10px;">网络请求（协议、url、api+get请求、post请求、chrome Network）</a> <a href="/tags/%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%E3%80%81-%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87/" style="font-size: 10px;">背景颜色、 背景图片</a> <a href="/tags/%E9%80%92%E5%BD%92%E3%80%81%E5%88%86%E6%B2%BB%E6%80%9D%E6%83%B3-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E3%80%81%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E3%80%81%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9/" style="font-size: 10px;">递归、分治思想-归并排序、快速排序、快速选择</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/09/12/day52/">day52</a>
          </li>
        
          <li>
            <a href="/2020/09/10/day51/">day51</a>
          </li>
        
          <li>
            <a href="/2020/09/09/day50/">day50</a>
          </li>
        
          <li>
            <a href="/2020/09/09/day46/">day46</a>
          </li>
        
          <li>
            <a href="/2020/09/03/day45/">day45</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>